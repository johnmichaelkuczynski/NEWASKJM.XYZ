                        Discrete



      Mathematics




                An Open Introduction






                                          Oscar Levin







                                                        3rd Edition            Discrete


    Mathematics





        An Open Introduction








                      Oscar Levin



                          3rd Edition  Oscar Levin

    School of Mathematical Science

  University of Northern Colorado

  Greeley, Co 80639

  oscar.levin@unco.edu

  http://math.oscarlevin.com/










    © 2013-2021 by Oscar Levin




        This work is licensed under the Creative Commons Attribution-ShareAlike

        4.0 International License. To view a copy of this license, visit

        http://creativecommons.org/licenses/by-sa/4.0/.





  3rd Edition

  5th Printing: 1/7/2021

  ISBN: 978-1792901690





      A current version can always be found for free at

    http://discrete.openmathbooks.org/


    Cover image: Tiling with Fibonacci and Pascal.                                            For Madeline and Teagan              Acknowledgements



      This book would not exist if not for “Discrete and Combinatorial Mathe-

      matics” by Richard Grassl and Tabitha Mingus. It is the book I learned

      discrete math out of, and taught out of the semester before I began writing

    this text. I wanted to maintain the inquiry based feel of their book but

      update, expand and rearrange some of the material. Some of the best

      exposition and exercises here were graciously donated from this source.

            Thanks to Alees Seehausen who co-taught the Discrete Mathematics

    course with me in 2015 and helped develop many of theInvestigate!

      activities and other problems currently used in the text. She also o ered

      many suggestions for improvement of the expository text, for which I am

      quite grateful. Thanks also to Katie Morrison, Nate Eldredge and Richard

      Grassl (again) for their suggestions after using parts of this text in their

classes.

          While odds are that there are still errors and typos in the current book,

      there are many fewer thanks to the work of Michelle Morgan over the

summer of 2016.

          The book is now available in an interactive online format, and this is

      entirely thanks to the work of Rob Beezer, David Farmer, and Alex Jordan

    along with the rest of the participants of the pretext-support group.

          Finally, a thank you to the numerous students who have pointed out

      typos and made suggestions over the years and a thanks in advance to

  those who will do so in the future.




















                                vvi                          Preface



      This text aims to give an introduction to select topics in discrete mathe-

      matics at a level appropriate for  rst or second year undergraduate math

        majors, especially those who intend to teach middle and high school math-

      ematics. The book began as a set of notes for the Discrete Mathematics

      course at the University of Northern Colorado. This course serves both as

      a survey of the topics in discrete math and as the “bridge” course for math

      majors, as UNC does not o er a separate “introduction to proofs” course.

      Most students who take the course plan to teach, although there are a

      handful of students who will go on to graduate school or study applied

      math or computer science. For these students the current text hopefully

    is still of interest, but the intent is not to provide a solid mathematical

      foundation for computer science, unlike the majority of textbooks on the

subject.

          Another di erence between this text and most other discrete math

    books is that this book is intended to be used in a class taught using

      problem oriented or inquiry based methods. When I teach the class, I will

      assign sections for readingafter rst introducing them in class by using

      a mix of group work and class discussion on a few interesting problems.

      The text is meant to consolidate what wediscoverin class and serve as a

        reference for students as they master the concepts and techniques covered

      in the unit. None-the-less, every attempt has been made to make the text

      su cient for self study as well, in a way that hopefully mimics an inquiry

based classroom.

        The topics covered in this text were chosen to match the needs of

      the students I teach at UNC. The main areas of study are combinatorics,

      sequences, logic and proofs, and graph theory, in that order. Induction is

      covered at the end of the chapter on sequences. Most discrete books put

      logic  rst as a preliminary, which certainly has its advantages. However, I

      wanted to discuss logic and proofs together, and found that doing both

      of these before anything else was overwhelming for my students given

      that they didn’t yet have context of other problems in the subject. Also,

      after spending a couple weeks on proofs, we would hardly use that at

      all when covering combinatorics, so much of the progress we made was

        quickly lost. Instead, there is a short introduction section on mathematical

      statements, which should provide enough common language to discuss

    the logical content of combinatorics and sequences.

          Depending on the speed of the class, it might be possible to include

        additional material. In past semesters I have included generating functions

      (after sequences) and some basic number theory (either after the logic and



                                viiviii


      proofs chapter or at the very end of the course). These additional topics

  are covered in the last chapter.

            While I (currently) believe this selection and order of topics is optimal,

          you should feel free to skip around to what interests you. There are

      occasionally examples and exercises that rely on earlier material, but I

      have tried to keep these to a minimum and usually can either be skipped

        or understood without too much additional study. If you are an instructor,

        feel free to edit the LATX or PreTeXt source to  t your needs.
                    E

                      Improvements to the 3rd Edition.

      In addition to lots of minor corrections, both to typographical and math-

      ematical errors, this third edition includes a few major improvements,

  including:

                More than 100 new exercises, bringing the total to 473. The selection
  •

              of which exercises have solutions has also been improved, which

                should make the text more useful for instructors who want to assign

        homework from the book.

          • A new section in on trees in the graph theory chapter.

  •
                Substantial improvement to the exposition in chapter 0, especially

        the section on functions.

                The interactive online version of the book has added interactivity.
  •

            Currently, many of the exercises are displayed as WeBWorK problems,

            allowing readers to enter answers to verify they are correct.

          The previous editions (2nd edition, released in August 2016, and the

      Fall 2015 edition) will still be available for instructors who wish to use

    those versions due to familiarity.

          My hope is to continue improving the book, releasing a new edition

      each spring in time for fall adoptions. These new editions will incorporate

        additions and corrections suggested by instructors and students who use

      the text the previous semesters. Thus I encourage you to send along any

      suggestions and comments as you have them.

                                  Oscar Levin, Ph.D.

                                      University of Northern Colorado, 2019              How to use this book



      In addition to expository text, this book has a few features designed to

  encourage you to interact with the mathematics.


                        Investigate! activities.

        Sprinkled throughout the sections (usually at the very beginning of a topic)

      you will  nd activities designed to get you acquainted with the topic soon

        to be discussed. These are similar (sometimes identical) to group activities

      I give students to introduce material. You really should spend some time

      thinking about, or even working through, these problems before reading

    the section. By priming yourself to the types of issues involved in the

      material you are about to read, you will better understand what is to come.

        There are no solutions provided for these problems, but don’t worry if you

      can’t solve them or are not con dent in your answers. My hope is that you

      will take this frustration with you while you read the proceeding section.

      By the time you are done with the section, things should be much clearer.


                            Examples.

    I have tried to include the “correct” number of examples. For those

      examples which includeproblems, full solutions are included. Before

      reading the solution, try to at least have an understanding of what the

      problem is asking. Unlike some textbooks, the examples are not meant to

      be all inclusive for problems you will see in the exercises. They should

      not be used as a blueprint for solving other problems. Instead, use the

      examples to deepen our understanding of the concepts and techniques

    discussed in each section. Then use this understanding to solve the

  exercises at the end of each section.


                            Exercises.

      You get good at math through practice. Each section concludes with

      a small number of exercises meant to solidify concepts and basic skills

      presented in that section. At the end of each chapter, a larger collection of

      similar exercises is included (as a sort of “chapter review”) which might

      bridge material of di erent sections in that chapter. Many exercise have

      a hint or solution (which in the PDF version of the text can be found by

      clicking on the exercise number—clicking on the solution number will

    bring you back to the exercise). Readers are encouraged to try these

exercises before looking at the help.



                                ixx


          Both hints and solutions are intended as a way to check your work,

      but often what would “count” as a correct solution in a math class would

      be quite a bit more. When I teach with this book, I assign exercises that

      have solutions as practice and then use them, or similar problems, on

        quizzes and exams. There are also problems without solutions to challenge

    yourself (or to be assigned as homework).


                        Interactive Online Version.

          For those of you reading this in a PDF or in print, I encourage you to

      also check out the interactive online version, which makes navigating the

      book a little easier. Additionally, some of the exercises are implemented

      as WeBWorK problems, which allow you to check your work without

        seeing the correct answer immediately. Additional interactivity is planned,

        including instructional videos for examples and additional exercises at the

      end of sections. These “bonus” features will be added on a rolling basis,

  so keep an eye out!

          You can view the interactive version for free athttp://discrete.

      openmathbooks.org/or by scanning the QR code below with your smart

phone.                        Contents



Acknowledgements v

Preface vii

How to use this book ix

0 Introduction and Preliminaries 1

      0.1 What is Discrete Mathematics? . . . . . . . . . . . . . . . . 1

        0.2 Mathematical Statements . . . . . . . . . . . . . . . . . . . . 4

            Atomic and Molecular Statements . . . . . . . . . . . . . . 4

        Implications . . . . . . . . . . . . . . . . . . . . . . . . . . . 7

          Predicates and Quanti ers . . . . . . . . . . . . . . . . . . . 15

          Exercises . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 17

    0.3 Sets . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 24

          Notation . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 24

          Relationships Between Sets . . . . . . . . . . . . . . . . . . 28

          Operations On Sets . . . . . . . . . . . . . . . . . . . . . . . 31

          Venn Diagrams . . . . . . . . . . . . . . . . . . . . . . . . . 33

          Exercises . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 35

      0.4 Functions . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 39

            Describing Functions . . . . . . . . . . . . . . . . . . . . . . 40

          Surjections, Injections, and B¼ections . . . . . . . . . . . . . 45

          Image and Inverse Image . . . . . . . . . . . . . . . . . . . . 48

          Exercises . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 51

1 Counting 57

        1.1 Additive and Multiplicative Principles . . . . . . . . . . . . 57

          Counting With Sets . . . . . . . . . . . . . . . . . . . . . . . 61

            Principle of Inclusion/Exclusion . . . . . . . . . . . . . . . 64

          Exercises . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 67

      1.2 Binomial Coe cients . . . . . . . . . . . . . . . . . . . . . . 70

          Subsets . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 70

          Bit Strings . . . . . . . . . . . . . . . . . . . . . . . . . . . . 72

          Lattice Paths . . . . . . . . . . . . . . . . . . . . . . . . . . . 73

            Binomial Coe cients . . . . . . . . . . . . . . . . . . . . . . 74

        Pascal’s Triangle . . . . . . . . . . . . . . . . . . . . . . . . . 77

          Exercises . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 78

      1.3 Combinations and Permutations . . . . . . . . . . . . . . . 81

          Exercises . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 86

      1.4 Combinatorial Proofs . . . . . . . . . . . . . . . . . . . . . . 89


                                xi  xii Contents


              Patterns in Pascal’s Triangle . . . . . . . . . . . . . . . . . . 89

            More Proofs . . . . . . . . . . . . . . . . . . . . . . . . . . . 95

            Exercises . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 99

        1.5 Stars and Bars . . . . . . . . . . . . . . . . . . . . . . . . . . 103

            Exercises . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 108

          1.6 Advanced Counting Using PIE . . . . . . . . . . . . . . . . 111

              Counting Derangements . . . . . . . . . . . . . . . . . . . . 115

            Counting Functions . . . . . . . . . . . . . . . . . . . . . . . 117

            Exercises . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 124

      1.7 Chapter Summary . . . . . . . . . . . . . . . . . . . . . . . . 127

            Chapter Review . . . . . . . . . . . . . . . . . . . . . . . . . 128

  2 Sequences 135

        2.1 Describing Sequences . . . . . . . . . . . . . . . . . . . . . . 136

            Exercises . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 144

          2.2 Arithmetic and Geometric Sequences . . . . . . . . . . . . . 148

              Sums of Arithmetic and Geometric Sequences . . . . . . . 151

            Exercises . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 156

      2.3 Polynomial Fitting . . . . . . . . . . . . . . . . . . . . . . . . 160

            Exercises . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 164

          2.4 Solving Recurrence Relations . . . . . . . . . . . . . . . . . 167

              The Characteristic Root Technique . . . . . . . . . . . . . . 171

            Exercises . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 175

      2.5 Induction . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 177

            Stamps . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 177

              Formalizing Proofs . . . . . . . . . . . . . . . . . . . . . . . 179

            Examples . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 181

            Strong Induction . . . . . . . . . . . . . . . . . . . . . . . . 185

            Exercises . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 188

      2.6 Chapter Summary . . . . . . . . . . . . . . . . . . . . . . . . 193

            Chapter Review . . . . . . . . . . . . . . . . . . . . . . . . . 194

    3 Symbolic Logic and Proofs 197

      3.1 Propositional Logic . . . . . . . . . . . . . . . . . . . . . . . 198

            Truth Tables . . . . . . . . . . . . . . . . . . . . . . . . . . . 199

            Logical Equivalence . . . . . . . . . . . . . . . . . . . . . . . 201

            Deductions . . . . . . . . . . . . . . . . . . . . . . . . . . . . 204

            Beyond Propositions . . . . . . . . . . . . . . . . . . . . . . 207

            Exercises . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 209

        3.2 Proofs . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 213

            Direct Proof . . . . . . . . . . . . . . . . . . . . . . . . . . . 215

            Proof by Contrapositive . . . . . . . . . . . . . . . . . . . . 216

            Proof by Contradiction . . . . . . . . . . . . . . . . . . . . . 218

              Proof by (counter) Example . . . . . . . . . . . . . . . . . . 220                                                        Contentsxiii


            Proof by Cases . . . . . . . . . . . . . . . . . . . . . . . . . . 221

        Exercises . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 223

      3.3 Chapter Summary . . . . . . . . . . . . . . . . . . . . . . . . 227

          Chapter Review . . . . . . . . . . . . . . . . . . . . . . . . . 228

4 Graph Theory 231

      4.1 De nitions . . . . . . . . . . . . . . . . . . . . . . . . . . . . 233

        Exercises . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 243

    4.2 Trees . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 247

          Properties of Trees . . . . . . . . . . . . . . . . . . . . . . . 248

          Rooted Trees . . . . . . . . . . . . . . . . . . . . . . . . . . . 251

        Spanning Trees . . . . . . . . . . . . . . . . . . . . . . . . . 253

        Exercises . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 255

    4.3 Planar Graphs . . . . . . . . . . . . . . . . . . . . . . . . . . 258

            Non-planar Graphs . . . . . . . . . . . . . . . . . . . . . . . 260

          Polyhedra . . . . . . . . . . . . . . . . . . . . . . . . . . . . 262

        Exercises . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 265

      4.4 Coloring . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 267

          Coloring in General . . . . . . . . . . . . . . . . . . . . . . . 269

        Coloring Edges . . . . . . . . . . . . . . . . . . . . . . . . . 272

        Exercises . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 274

    4.5 Euler Paths and Circuits . . . . . . . . . . . . . . . . . . . . 277

        Hamilton Paths . . . . . . . . . . . . . . . . . . . . . . . . . 279

        Exercises . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 280

      4.6 Matching in Bipartite Graphs . . . . . . . . . . . . . . . . . 283

        Exercises . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 286

      4.7 Chapter Summary . . . . . . . . . . . . . . . . . . . . . . . . 289

          Chapter Review . . . . . . . . . . . . . . . . . . . . . . . . . 290

  5 Additional Topics 295

        5.1 Generating Functions . . . . . . . . . . . . . . . . . . . . . . 295

            Building Generating Functions . . . . . . . . . . . . . . . . 296

          Di erencing . . . . . . . . . . . . . . . . . . . . . . . . . . . 299

              Multiplication and Partial Sums . . . . . . . . . . . . . . . . 301

              Solving Recurrence Relations with Generating Functions . 302

        Exercises . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 304

        5.2 Introduction to Number Theory . . . . . . . . . . . . . . . . 307

          Divisibility . . . . . . . . . . . . . . . . . . . . . . . . . . . . 307

          Remainder Classes . . . . . . . . . . . . . . . . . . . . . . . 310

          Properties of Congruence . . . . . . . . . . . . . . . . . . . 313

            Solving Congruences . . . . . . . . . . . . . . . . . . . . . . 317

            Solving Linear Diophantine Equations . . . . . . . . . . . . 319

        Exercises . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 323  xiv Contents


  A Selected Hints 325

  B Selected Solutions 335

  C List of Symbols 385

  Index 387                            Chapter 0


    Introduction and Preliminaries



      Welcome to Discrete Mathematics. If this is your  rst time encountering

      the subject, you will probably  nd discrete mathematics quite di erent

        from other math subjects. You might not even know what discrete math is!

      Hopefully this short introduction will shed some light on what the subject

      is about and what you can expect as you move forward in your studies.


            0.1 What is Discrete Mathematics?

      dis·crete / dis’krët.

        Adjective: Individually separate and distinct.

        Synonyms: separate - detached - distinct - abstract.

        De ningdiscrete mathematicsis hard because de ningmathematicsis hard.

    What is mathematics? The study of numbers? In part, but you also

      study functions and lines and triangles and parallelepipeds and vectors

    and . . . . Or perhaps you want to say that mathematics is a collection of

      tools that allow you to solve problems. What sort of problems? Okay,

      those that involve numbers, functions, lines, triangles, . . . . Whatever your

      conception of what mathematics is, try applying the concept of “discrete”

      to it, as de ned above. Some math fundamentally deals withstu that is

individually separate and distinct.

            In an algebra or calculus class, you might have found a particular set of

      numbers (maybe the set of numbers in the range of a function). You would

    represent this set as an interval:0;1is the range offx   x2since the

      set of outputs of the function are all real numbers 0 and greater. This set

      of numbers is NOT discrete. The numbers in the set are not separated by

      much at all. In fact, take any two numbers in the set and there are in nitely

    many more between them which are also in the set.

          Discrete math could still ask about the range of a function, but the set

      would not be an interval. Consider the function which gives the number

      of children of each person reading this. What is the range? I’m guessing it

      is something likef0;1;2;3g. Maybe 4 is in there too. But certainly there is

      nobody reading this that has 1.32419 children. This output set is discrete

      because the elements are separate. The inputs to the function also form a

      discrete set because each input is an individual person.

          One way to get a feel for the subject is to consider the types of problems

  you solve in discrete math. Here are a few simple examples:


                                1    2 0. Introduction and Preliminaries


      Investigate!

        Note: Throughout the text you will seeInvestigate!activities like this

              one. Answer the questions in these as best you can to give yourself a feel

      for what is coming next.

            1.The most popular mathematician in the world is throwing

                  a party for all of his friends. As a way to kick things o ,

                they decide that everyone should shake hands. Assuming

                all 10 people at the party each shake hands with every other

                person (but not themselves, obviously) exactly once, how

            many handshakes take place?

            2.At the warm-up event for Oscar’s All Star Hot Dog Eating

              Contest, Al ate one hot dog. Bob then showed him up by

                eating three hot dogs. Not to be outdone, Carl ate  ve. This

                continued with each contestant eating two more hot dogs

                than the previous contestant. How many hot dogs did Zeno

                  (the 26th and  nal contestant) eat? How many hot dogs were

            eaten all together?

            3.After excavating for weeks, you  nally arrive at the burial

                chamber. The room is empty except for two large chests. On

              each is carved a message (strangely in English):


                      If this chest isThis chest is  lled
                        empty, then thewith treasure or the
                        other chest’sother chest contains
                      message is true.deadly scorpions.


                  You know exactly one of these messages is true. What should

          you do?

              4.Back in the days of yore,  ve small towns decided they

                  wanted to build roads directly connecting each pair of towns.

                While the towns had plenty of money to build roads as long

                and as winding as they wished, it was very important that

              the roads not intersect with each other (as stop signs had

                not yet been invented). Also, tunnels and bridges were not

              allowed. Is it possible for each of these towns to build a

              road to each of the four other towns without creating any

          intersections?

            !Attempt the above activity before proceeding!

          One reason it is di cult to de ne discrete math is that it is a very broad

      description which encapsulates a large number of subjects. In this course                                          0.1. What is Discrete Mathematics?3


      we will study four main topics:combinatorics(the theory of ways things

      combine; in particular, how to count these ways),sequences,symbolic

      logic, andgraph theory. However, there are other topics that belong

        under the discrete umbrella, including computer science, abstract algebra,

      number theory, game theory, probability, and geometry (some of these,

      particularly the last two, have both discrete and non-discrete variants).

          Ultimately the best way to learn what discrete math is about is todoit.

      Let’s get started! Before we can begin answering more complicated (and

        fun) problems, we must lay down some foundation. We start by reviewing

        mathematical statements, sets, and functions in the framework of discrete

mathematics.    4 0. Introduction and Preliminaries


                  0.2 Mathematical Statements


      Investigate!

          While walking through a  ctional forest, you encounter three trolls

            guarding a bridge. Each is either aknight, who always tells the

              truth, or aknave, who always lies. The trolls will not let you pass

          until you correctly identify each as either a knight or a knave. Each

        troll makes a single statement:

              Troll 1: If I am a knave, then there are exactly two

          knights here.

            Troll 2: Troll 1 is lying.

                Troll 3: Either we are all knaves or at least one of us is

          a knight.

      Which troll is which?

            !Attempt the above activity before proceeding!

          In order todomathematics, we must be able totalkandwriteabout

        mathematics. Perhaps your experience with mathematics so far has mostly

      involved  nding answers to problems. As we embark towards more

      advanced and abstract mathematics, writing will play a more prominent

    role in the mathematical process.

            Communication in mathematics requires more precision than many

      other subjects, and thus we should take a few pages here to consider the

      basic building blocks: mathematical statements.


                  Atomic and Molecular Statements

          Astatementis any declarative sentence which is either true or false.

      A statement isatomicif it cannot be divided into smaller statements,

    otherwise it is called molecular.

    Example 0.2.1

      These are statements (in fact, atomic statements):

          • Telephone numbers in the USA have 10 digits.

          • The moon is made of cheese.

        • 42 is a perfect square.

                Every even number greater than 2 can be expressed as the
      •

            sum of two primes.                                              0.2. Mathematical Statements5


    • 3 + 7   12

    And these are not statements:

      • Would you like some cake?

      • The sum of two squares.

      • 1 + 3 + 5 + 7 +       + 2n + 1.

      • Go to your room!

    • 3 + x   12


        The reason the sentence “3+ x  12” is not a statement is that it

      contains a variable. Depending on whatxis, the sentence is either true

      or false, but right now it is neither. One way to make thesentenceinto a

      statementis to specify the value of the variable in some way. This could be

      done by specifying a speci c substitution, for example, “3+ x  12where

      x  9,” which is a true statement. Or you couldcapturethe free variable

      byquantifyingover it, as in, “for all values ofx,3+ x  12,” which is false.

    We will discuss quanti ers in more detail at the end of this section.

            You can build more complicated (molecular) statements out of simpler

      (atomic or molecular) ones usinglogical connectives. For example, this is

a molecular statement:

        Telephone numbers in the USA have 10 digits and 42 is a perfect

    square.

    Note that we can break this down into two smaller statements. The

      two shorter statements areconnectedby an “and.” We will consider 5

      connectives: “and” (Sam is a man and Chris is a woman), “or” (Sam is a

    man or Chris is a woman), “if. . . , then. . . ” (if Sam is a man, then Chris is

      a woman), “if and only if” (Sam is a man if and only if Chris is a woman),

      and “not” (Sam is not a man). The  rst four are calledbinary connectives

      (because they connect two statements) while “not” is an example of a

      unary connective (since it applies to a single statement).

            These molecular statements are of course still statements, so they must

      be either true or false. The absolutely key observation here is that which

      truth valuethe molecular statement achieves is completely determined

    by the type of connective and the truth values of the parts. We do not

      need to know what the parts actually say, only whether those parts are

      true or false. So to analyze logical connectives, it is enough to consider

      propositional variables(sometimes calledsententialvariables), usually

    capital letters in the middle of the alphabet:P;Q; R;S; : : :. We think of

      these as standing in for (usually atomic) statements, but there are only two    6 0. Introduction and Preliminaries


      valuesthe variables can achieve: true or false.1We also have symbols for

    the logical connectives: ^, _, !, $, :.

      Logical Connectives.

            • P ^ Q is read “P and Q,” and called a conjunction.

          • P _ Q is read “P or Q,” and called a disjunction.

              • P ! Qis read “ifPthenQ,” and called animplicationor

          conditional.

            • P $ Qis read “Pif and only ifQ,” and called abiconditional.


          • :P is read “not P,” and called a negation.


          Thetruth valueof a statement is determined by the truth value(s) of

    its part(s), depending on the connectives:

      Truth Conditions for Connectives.

            • P ^ Q is true when both P and Q are true.

          • P _ Q is true when P or Q or both are true.

              • P ! Q is true when P is false or Q is true or both.

              • P $ Q is true when P and Q are both true, or both false.

        • :P is true when P is false.

          Note that for us,oris theinclusive or(and not the sometimes used

      exclusive or) meaning thatP _ Qis in fact true when bothPandQare true.

      As for the other connectives, “and” behaves as you would expect, as does

      negation. The biconditional (if and only if) might seem a little strange,

      but you should think of this as saying the two parts of the statements are

          equivalentin that they have the same truth value. This leaves only the

      conditionalP ! Qwhich has a slightly di erent meaning in mathematics

      than it does in ordinary usage. However, implications are so common and

      useful in mathematics, that we must develop  uency with their use, and

    as such, they deserve their own subsection.








        1In computer programming, we should call such variables Boolean variables.                                              0.2. Mathematical Statements7


                          Implications

    Implications.

          Animplicationorconditionalis a molecular statement of the form

                              P ! Q

      where P and Q are statements. We say that

        • P is the hypothesis (or antecedent).

        • Q is the conclusion (or consequent).

            An implication istrueprovidedPis false orQis true (or both),

          andfalseotherwise. In particular, the only way forP ! Qto be false

    is for P to be true and Q to be false.


        Easily the most common type of statement in mathematics is the

        implication. Even statements that do not at  rst look like they have this form

      conceal an implication at their heart. Consider thePythagorean Theorem.

      Many a college freshman would quote this theorem as “a2+ b2  c2.” This

      is absolutely not correct. For one thing, that is not a statement since it has

      three variables in it. Perhaps they imply that this should be true for any

      values of the variables? So12+52 22??? How can we  x this? Well, the

    equation is true as long asaandbare the legs of a right triangle andcis

  the hypotenuse. In other words:

          Ifaandbare the legs of a right triangle with hypotenusec,

      then a2+ b2  c2.

      This is a reasonable way to think about implications: our claim is that the

        conclusion (“then” part) is true, but on the assumption that the hypothesis

      (“if” part) is true. We make no claim about the conclusion in situations

when the hypothesis is false.2

          Still, it is important to remember that an implication is a statement,

      and therefore is either true or false. The truth value of the implication is

      determined by the truth values of its two parts. To agree with the usage

      above, we say that an implication is true either when the hypothesis is

    false, or when the conclusion is true. This leaves only one way for an

      implication to be false: when the hypothesis is true and the conclusion is

false.

          2However, note that in the case of the Pythagorean Theorem, it is also the case thatif
          a2+ b2  c2,thenaandbare the legs of a right triangle with hypotenusec. So we could
            have also expressed this theorem as a biconditional: “aandbare the legs of a right triangle
    with hypotenuse c if and only if a2+ b2  c2.”    8 0. Introduction and Preliminaries


    Example 0.2.2

    Consider the statement:

              If Bob gets a 90 on the  nal, then Bob will pass the class.

        This is de nitely an implication:Pis the statement “Bob gets a 90

            on the  nal,” and Q is the statement “Bob will pass the class.”

            Suppose I made that statement to Bob. In what circumstances

            would it be fair to call me a liar? What if Bob really did get a 90

            on the  nal, and he did pass the class? Then I have not lied; my

            statement is true. However, if Bob did get a 90 on the  nal and

        did not pass the class, then I lied, making the statement false. The

        tricky case is this: what if Bob did not get a 90 on the  nal? Maybe

            he passes the class, maybe he doesn’t. Did I lie in either case? I

        think not. In these last two cases,Pwas false, and the statement

            P ! Qwas true. In the  rst case,Qwas true, and so wasP ! Q.

          So P ! Q is true when either P is false or Q is true.


          Just to be clear, although we sometimes readP ! Qas “PimpliesQ”,

      we are not insisting that there is some causal relationship between the

      statementsPandQ. In particular, if you claim thatP ! Qisfalse, you are

      not saying thatPdoes not implyQ, but rather thatPis true andQis false.

    Example 0.2.3

          Decide which of the following statements are true and which are

      false. Brie y explain.

          1. If 1   1, then most horses have 4 legs.

        2. If 0   1, then 1   1.

              3. If 8 is a prime number, then the 7624th digit of   is an 8.

          4. If the 7624th digit of   is an 8, then 2 + 2   4.

          Solution. All four of the statements are true. Remember, the only

        way for an implication to be false is for theifpart to be true and the

    then part to be false.

            1.Here both the hypothesis and the conclusion are true, so

              the implication is true. It does not matter that there is no

                  meaningful connection between the true mathematical fact

            and the fact about horses.

            2.Here the hypothesis is false and the conclusion is true, so the

            implication is true.                                              0.2. Mathematical Statements9


          3.I have no idea what the 7624th digit of is, but this does

          not matter. Since the hypothesis is false, the implication is

        automatically true.

        4.Similarly here, regardless of the truth value of the hypothesis,

            the conclusion is true, making the implication true.


            It is important to understand the conditions under which an implication

      is true not only to decide whether a mathematical statement is true, but in

      order toprovethat it is. Proofs might seem scary (especially if you have

      had a bad high school geometry experience) but all we are really doing

      is explaining (very carefully) why a statement is true. If you understand

      the truth conditions for an implication, you already have the outline for a

proof.

      Direct Proofs of Implications.

          To prove an implicationP ! Q, it is enough to assumeP, and from

  it, deduce Q.


          Perhaps a better way to say this is that to prove a statement of the form

      P ! Qdirectly, you must explain whyQis true, but youget toassumeP

    is true  rst. After all, you only care about whetherQis true in the case

that P is as well.

          There are other techniques to prove statements (implications and

      others) that we will encounter throughout our studies, and new proof

      techniques are discovered all the time. Direct proof is the easiest and most

      elegant style of proof and has the advantage that such a proof often does a

  great job of explaining why the statement is true.

Example 0.2.4

          Prove: If two numbersaandbare even, then their suma +bis even.

  Solution.

        Proof. Suppose the numbersaandbare even. This means that

          a  2kandb  2jfor some integerskandj. The sum is then

      a + b  2k +2j  2k + j. Sincek + jis an integer, this means that

  a + b is even. 

            Notice that since we get to assume the hypothesis of the impli-

        cation, we immediately have a place to start. The proof proceeds

          essentially by repeatedly asking and answering, “what does that

        mean?” Eventually, we conclude that it means the conclusion.    10 0. Introduction and Preliminaries


          This sort of argument shows up outside of math as well. If you ever

      found yourself starting an argument with “hypothetically, let’s assume

      . . . ,” then you have attempted a direct proof of your desired conclusion.

            An implication is a way of expressing a relationship between two state-

      ments. It is often interesting to ask whether there are other relationships

      between the statements. Here we introduce some common language to

    address this question.

      Converse and Contrapositive.

            •Theconverseof an implicationP ! Qis the implicationQ !

                P. The converse is NOT logically equivalent to the original

            implication. That is, whether the converse of an implication is

                true is independent of the truth of the implication.

            •Thecontrapositiveof an implicationP ! Qis the statement

                  :Q ! :P. An implication and its contrapositive are logically

                equivalent (they are either both true or both false).


            Mathematics is over owing with examples of true implications which

          have a false converse. If a number greater than 2 is prime, then that

      number is odd. However, just because a number is odd does not mean it

      is prime. If a shape is a square, then it is a rectangle. But it is false that if a

    shape is a rectangle, then it is a square.

          However, sometimes the converse of a true statement is also true. For

      example, the Pythagorean theorem has a true converse: ifa2+ b2  c2,

      then the triangle with sidesa,b, andcis arighttriangle. Whenever you

      encounter an implication in mathematics, it is always reasonable to ask

    whether the converse is true.

            The contrapositive, on the other hand, always has the same truth value

      as its original implication. This can be very helpful in deciding whether

          an implication is true: often it is easier to analyze the contrapositive.

    Example 0.2.5

        True or false: If you draw any nine playing cards from a regular

        deck, then you will have at least three cards all of the same suit. Is

      the converse true?

          Solution. True. The original implication is a little hard to analyze

          because there are so many di erent combinations of nine cards. But

          consider the contrapositive: If youdon’thave at least three cards all

        of the same suit, then you don’t have nine cards. It is easy to see

        why this is true: you can at most have two cards of each of the four

        suits, for a total of eight cards (or fewer).                                            0.2. Mathematical Statements11


              The converse: If you have at least three cards all of the same suit,

          then you have nine cards. This is false. You could have three spades

        and nothing else. Note that to demonstrate that the converse (an

          implication) is false, we provided an example where the hypothesis

        is true (you do have three cards of the same suit), but where the

      conclusion is false (you do not have nine cards).


            Understanding converses and contrapositives can help understand

implications and their truth values:

Example 0.2.6

        Suppose I tell Sue that if she gets a 93% on her  nal, then she will

        get an A in the class. Assuming that what I said is true, what can

    you conclude in the following cases:

      1. Sue gets a 93% on her  nal.

      2. Sue gets an A in the class.

        3. Sue does not get a 93% on her  nal.

        4. Sue does not get an A in the class.


        Solution. Note  rst that wheneverP ! QandPare both true

        statements,Qmust be true as well. For this problem, takePto

        mean “Sue gets a 93% on her  nal” andQto mean “Sue will get an

  A in the class.”

            1. We have P ! Q and P, so Q follows. Sue gets an A.

            2.You cannot conclude anything. Sue could have gotten the A

            because she did extra credit for example. Notice that we do

              not know that if Sue gets anA, then she gets a 93% on her

                 nal. That is the converse of the original implication, so it

        might or might not be true.

          3.The contrapositive of the converse ofP ! Qis:P ! :Q,

          which states that if Sue does not get a 93% on the  nal, then

            she will not get an A in the class. But this does not follow from

              the original implication. Again, we can conclude nothing. Sue

          could have done extra credit.

          4.What would happen if Sue does not get an A butdidget a

              93% on the  nal? ThenPwould be true andQwould be

            false. This makes the implicationP ! Qfalse! It must be that    12 0. Introduction and Preliminaries


              Sue did not get a 93% on the  nal. Notice now we have the

                implication:Q ! :Pwhich is the contrapositive ofP ! Q.

              SinceP ! Qis assumed to be true, we know:Q ! :Pis

          true as well.


        As we said above, an implication is not logically equivalent to its

      converse, but it is possible that both the implication and its converse are

        true. In this case, when bothP ! QandQ ! Pare true, we say that

          PandQare equivalent and writeP $ Q. This is the biconditional we

  mentioned earlier.

      If and only if.

            P $ Q is logically equivalent to P ! Q ^ Q ! P.

          Example: Given an integern, it is true thatnis even if and only ifn2

        is even. That is, ifnis even, thenn2is even, as well as the converse:

      if n2is even, then n is even.

          You can think of “if and only if” statements as having two parts: an

          implication and its converse. We might say one is the “if” part, and

          the other is the “only if” part. We also sometimes say that “if and only

          if” statements have two directions: a forward directionP ! Qand

    a backwards direction (P   Q, which is really just sloppy notation for

Q ! P).

          Let’s think a little about which part is which. IsP ! Qthe “if” part or

      the “only if” part? Consider an example.

    Example 0.2.7

            Suppose it is true that I sing if and only if I’m in the shower. We

        know this means both that if I sing, then I’m in the shower, and

        also the converse, that if I’m in the shower, then I sing. LetPbe the

        statement, “I sing,” andQbe, “I’m in the shower.” SoP ! Qis the

        statement “if I sing, then I’m in the shower.” Which part of the if

      and only if statement is this?

            What we are really asking for is the meaning of “I singifI’m in

          the shower” and “I singonly ifI’m in the shower.” When is the  rst

        one (the “if” part)false? When I am in the shower but not singing.

          That is the same condition on being false as the statement “if I’m in

            the shower, then I sing.” So the “if” part isQ ! P. On the other

          hand, to say, “I sing only if I’m in the shower” is equivalent to saying

        “if I sing, then I’m in the shower,” so the “only if” part is P ! Q.                                            0.2. Mathematical Statements13


          It is not terribly important to know which part is the “if” or “only if”

        part, but this does illustrate something very, very important:there are many

ways to state an implication!

Example 0.2.8

          Rephrase the implication, “if I dream, then I am asleep” in as many

        di erent ways as possible. Then do the same for the converse.

          Solution. The following are all equivalent to the original implica-

tion:

      1. I am asleep if I dream.

      2. I dream only if I am asleep.

      3. In order to dream, I must be asleep.

      4. To dream, it is necessary that I am asleep.

        5. To be asleep, it is su cient to dream.

        6. I am not dreaming unless I am asleep.

          The following are equivalent to the converse (if I am asleep, then I

  dream):

      1. I dream if I am asleep.

      2. I am asleep only if I dream.

          3. It is necessary that I dream in order to be asleep.

          4. It is su cient that I be asleep in order to dream.

        5. If I don’t dream, then I’m not asleep.


            Hopefully you agree with the above example. We include the “neces-

        sary and su cient” versions because those are common when discussing

    mathematics. In fact, let’s agree once and for all what they mean.    14 0. Introduction and Preliminaries


        Necessary and Su cient.

          • “P is necessary for Q” means Q ! P.

          • “P is su cient for Q” means P ! Q.

          • If P is necessary and su cient for Q, then P $ Q.


          To be honest, I have trouble with these if I’m not very careful. I  nd it

      helps to keep a standard example for reference.

    Example 0.2.9

          Recall from calculus, if a function is di erentiable at a pointc, then

        it is continuous atc, but that the converse of this statement is not

            true (for example,fx   jxjat the point 0). Restate this fact using

        “necessary and su cient” language.

        Solution. It is true that in order for a function to be di erentiable

        at a pointc, it is necessary for the function to be continuous atc.

          However, it is not necessary that a function be di erentiable atcfor

    it to be continuous at c.

            It is true that to be continuous at a pointc, it is su cient that the

          function be di erentiable atc. However, it is not the case that being

        continuous at c is su cient for a function to be di erentiable at c.


            Thinking about the necessity and su ciency of conditions can also help

      when writing proofs and justifying conclusions. If you want to establish

      some mathematical fact, it is helpful to think what other facts wouldbe

      enough(be su cient) to prove your fact. If you have an assumption, think

        about what must also be necessary if that hypothesis is true.                                            0.2. Mathematical Statements15


                    Predicates and Quantifiers

    Investigate!

          Consider the statements below. Decide whether any are equivalent

      to each other, or whether any imply any others.

          1. You can fool some people all of the time.

          2. You can fool everyone some of the time.

          3. You can always fool some people.

          4. Sometimes you can fool everyone.

        !Attempt the above activity before proceeding!

          It would be nice to use variables in our mathematical sentences. For

      example, suppose we wanted to claim that if n is prime, then n + 7 is not

      prime. This looks like an implication. I would like to write something like

                          Pn ! :Pn + 7

    wherePnmeans “nis prime.” But this is not quite right. For one

      thing, because this sentence has afree variable(that is, a variable that we

      have not speci ed anything about), it is not a statement. A sentence that

  contains variables is called a predicate.

        Now, if we plug in a speci c value forn, we do get a statement. In

      fact, it turns out that no matter what value we plug in forn, we get a true

      implication in this case. What we really want to say is thatfor allvalues of

  n, if n is prime, then n + 7 is not. We need to quantify the variable.

            Although there are many types ofquanti ersin English (e.g., many, few,

      most, etc.) in mathematics we, for the most part, stick to two: existential

and universal.

      Universal and Existential Quanti ers.

          The existential quanti er is9and is read “there exists” or “there is.”

  For example,

                            9xx < 0

      asserts that there is a number less than 0.

              The universal quanti er is8and is read “for all” or “every.” For

  example,

                            8xx   0

        asserts that every number is greater than or equal to 0.    16 0. Introduction and Preliminaries


            As with all mathematical statements, we would like to decide whether

        quanti ed statements are true or false. Consider the statement

                              8x9yy < x.

      You would read this, “for everyxthere is someysuch thatyis less thanx.”

      Is this true? The answer depends on what ourdomain of discourseis: when

      we say “for all”x, do we mean all positive integers or all real numbers or

      all elements of some other set? Usually this information is implied. In

        discrete mathematics, we almost always quantify over thenatural numbers,

      0, 1, 2, . . . , so let’s take that for our domain of discourse here.

          For the statement to be true, we need it to be the case that no matter

      what natural number we select, there is always some natural number that

      is strictly smaller. Perhaps we could letybex 1? But here is the problem:

        what ifx  0? Theny   1and that isnot a number!(in our domain

      of discourse). Thus we see that the statement is false because there is a

          number which is less than or equal to all other numbers. In symbols,

                              9x8yy   x.

            To show that the original statement is false, we proved that thenegation

      was true. Notice how the negation and original statement compare. This

is typical.

        Quanti ers and Negation.

            :8xPx is equivalent to 9x:Px.

            :9xPx is equivalent to 8x:Px.


            Essentially, we can pass the negation symbol over a quanti er, but that

          causes the quanti er to switch type. This should not be surprising: if

        not everything has a property, then something doesn’t have that property.

      And if there is not something with a property, then everything doesn’t

  have that property.


                            Implicit Quantifiers.

      It is always a good idea to be precise in mathematics. Sometimes though,

      we can relax a little bit, as long as we all agree on a convention. An example

      of such a convention is to assume that sentences containing predicates

      with free variables are intended as statements, where the variables are

  universally quanti ed.

        For example, do you believe that if a shape is a square, then it is a

          rectangle? But how can that be true if it is not a statement? To be a little

          more precise, we have two predicates:Sxstanding for “xis a square”                                            0.2. Mathematical Statements17


      andRxstanding for “xis a rectangle”. Thesentencewe are looking at is,

                            Sx ! Rx.

      This is neither true nor false, as it is not a statement. But come on! We all

  know that we meant to consider the statement,

                          8xSx ! Rx,

    and this is what our convention tells us to consider.

          Similarly, we will often be a bit sloppy about the distinction between

      a predicate and a statement. For example, we might write,letPnbe the

      statement, “nis prime,”which is technically incorrect. It is implicit that

    we mean that we are de ningPnto be a predicate, which for eachn

  becomes the statement, n is prime.


                            Exercises

      1.For each sentence below, decide whether it is an atomic statement, a

      molecular statement, or not a statement at all.

      (a) Customers must wear shoes.

        (b) The customers wore shoes.

        (c) The customers wore shoes and they wore socks.

      2.Classify each of the sentences below as an atomic statement, a molecular

          statement, or not a statement at all. If the statement is molecular, say

          what kind it is (conjunction, disjunction, conditional, biconditional,

  negation).

          (a) The sum of the  rst 100 odd positive integers.

        (b) Everybody needs somebody sometime.

          (c) The Broncos will win the Super Bowl or I’ll eat my hat.

        (d) We can have donuts for dinner, but only if it rains.

          (e)Every natural number greater than 1 is either prime or composite.

      (f) This sentence is false.

    3.SupposePandQare the statements:P: Jack passed math.Q: Jill

    passed math.

            (a) Translate “Jack and Jill both passed math” into symbols.

          (b) Translate “If Jack passed math, then Jill did not” into symbols.

        (c) Translate “P _ Q” into English.

          (d) Translate “:P ^ Q ! Q” into English.    18 0. Introduction and Preliminaries

            (e)Suppose you know that if Jack passed math, then so did Jill.

            What can you conclude if you know that:

              i. Jill passed math?

              ii. Jill did not pass math?

      4.Determine whether each molecular statement below is true or false, or

            whether it is impossible to determine. Assume you do not know what

          my favorite number is (but you do know that 13 is prime).

          (a) If 13 is prime, then 13 is my favorite number.

          (b) If 13 is my favorite number, then 13 is prime.

            (c) If 13 is not prime, then 13 is my favorite number.

          (d) 13 is my favorite number or 13 is prime.

            (e) 13 is my favorite number and 13 is prime.

            (f) 7 is my favorite number and 13 is not prime.

            (g) 13 is my favorite number or 13 is not my favorite number.

    5. In my safe is a sheet of paper with two shapes drawn on it in colored

              crayon. One is a square, and the other is a triangle. Each shape is

          drawn in a single color. Suppose you believe me when I tell you thatif

          the square is blue, then the triangle is green. What do you therefore know

            about the truth value of the following statements?

            (a) The square and the triangle are both blue.

        (b) The square and the triangle are both green.

              (c) If the triangle is not green, then the square is not blue.

          (d) If the triangle is green, then the square is blue.

          (e) The square is not blue or the triangle is green.

      6.Again, suppose the statement “if the square is blue, then the triangle

          is green” is true. This time however, assume the converse is false.

            Classify each statement below as true or false (if possible).

              (a) The square is blue if and only if the triangle is green.

          (b) The square is blue if and only if the triangle is not green.

        (c) The square is blue.

        (d) The triangle is green.                                            0.2. Mathematical Statements19

      7.Consider the statement, “If you will give me a cow, then I will give you

            magic beans.” Decide whether each statement below is the converse,

      the contrapositive, or neither.

        (a) If you will give me a cow, then I will not give you magic beans.

        (b)If I will not give you magic beans, then you will not give me a

        cow.

            (c) If I will give you magic beans, then you will give me a cow.

            (d)If you will not give me a cow, then I will not give you magic

        beans.

            (e) You will give me a cow and I will not give you magic beans.

              (f) If I will give you magic beans, then you will not give me a cow.

      8.Consider the statement “If Oscar eats Chinese food, then he drinks

  milk.”

        (a) Write the converse of the statement.

        (b) Write the contrapositive of the statement.

            (c)Is it possible for the contrapositive to be false? If it was, what

          would that tell you?

        (d)Suppose the original statement is true, and that Oscar drinks

            milk. Can you conclude anything (about his eating Chinese

        food)? Explain.

            (e)Suppose the original statement is true, and that Oscar does

            not drink milk. Can you conclude anything (about his eating

          Chinese food)? Explain.

      9.You have discovered an old paper on graph theory that discusses the

          viscosityof a graph (which for all you know, is something completely

        made up by the author). A theorem in the paper claims that “if a

        graph satis escondition (V), then the graph isviscous.” Which of

          the following are equivalent ways of stating this claim? Which are

    equivalent to the converse of the claim?

        (a) A graph is viscous only if it satis es condition (V).

          (b) A graph is viscous if it satis es condition (V).

          (c)For a graph to be viscous, it is necessary that it satis es condition

        (V).

          (d)For a graph to be viscous, it is su cient for it to satisfy condition

        (V).    20 0. Introduction and Preliminaries

              (e)Satisfying condition (V) is a su cient condition for a graph to

          be viscous.

              (f)Satisfying condition (V) is a necessary condition for a graph to

          be viscous.

          (g) Every viscous graph satis es condition (V).

        (h) Only viscous graphs satisfy condition (V).

          10.Write each of the following statements in the form, “if . . . , then . . . .”

          Careful, some of the statements might be false (which is alright for the

        purposes of this question).

          (a) To lose weight, you must exercise.

          (b) To lose weight, all you need to do is exercise.

        (c) Every American is patriotic.

        (d) You are patriotic only if you are American.

            (e) The set of rational numbers is a subset of the real numbers.

        (f) A number is prime if it is not even.

              (g)Either the Broncos will win the Super Bowl, or they won’t play

            in the Super Bowl.

      11.Which of the following statements are equivalent to the implication,

            “if you win the lottery, then you will be rich,” and which are equivalent

        to the converse of the implication?

            (a) Either you win the lottery or else you are not rich.

              (b) Either you don’t win the lottery or else you are rich.

          (c) You will win the lottery and be rich.

        (d) You will be rich if you win the lottery.

          (e) You will win the lottery if you are rich.

            (f) It is necessary for you to win the lottery to be rich.

          (g) It is su cient to win the lottery to be rich.

            (h) You will be rich only if you win the lottery.

          (i) Unless you win the lottery, you won’t be rich.

          (j) If you are rich, you must have won the lottery.

            (k) If you are not rich, then you did not win the lottery.

            (l) You will win the lottery if and only if you are rich.                                            0.2. Mathematical Statements21

    12. Let Px be the predicate, “3x + 1 is even.”

      (a) Is P5 true or false?

          (b)What, if anything, can you conclude about9xPxfrom the truth

        value of P5?

          (c)What, if anything, can you conclude about8xPxfrom the truth

        value of P5?

    13. Let Px be the predicate, “4x + 1 is even.”

      (a) Is P5 true or false?

          (b)What, if anything, can you conclude about9xPxfrom the truth

        value of P5?

          (c)What, if anything, can you conclude about8xPxfrom the truth

        value of P5?

    14.For a given predicatePx,you might believe that the statements

        8xPxor9xPxare either true or false. How would you decide if

          you were correct in each case? You have four choices: you could give

        an example of an elementnin the domain for whichPnis true or

        for whichPnif false, or you could argue that no matter whatnis,

  Pn is true or is false.

        (a) What would you need to do to prove 8xPx is true?

        (b) What would you need to do to prove 8xPx is false?

        (c) What would you need to do to prove 9xPx is true?

        (d) What would you need to do to prove 9xPx is false?

    15.SupposePx; yis some binary predicate de ned on a very small

          domain of discourse: just the integers 1, 2, 3, and 4. For each of the 16

          pairs of these numbers,Px; yis either true or false, according to the

      following table (x values are rows, y values are columns).
                              1 2 3 4

                          1T F F F

                            2F T T F

                            3T T T T

                            4F F F F

            For example,P1;3is false, as indicated by the F in the  rst row,

  third column.

              Use the table to decide whether the following statements are true

  or false.

      (a) 8x9yPx; y.    22 0. Introduction and Preliminaries

      (b) 8y9xPx; y.

        (c) 9x8yPx; y.

      (d) 9y8xPx; y.

        16.Translate into symbols. UseExfor “xis even” andOxfor “xis

    odd.”

          (a) No number is both even and odd.

              (b) One more than any even number is an odd number.

          (c) There is prime number that is even.

              (d) Between any two numbers there is a third number.

              (e)There is no number between a number and one more than that

          number.

  17. Translate into English:

      (a) 8xEx ! Ex + 2.

        (b) 8x9ysinx   y.

      (c) 8y9xsinx   y.

      (d) 8x8yx3  y3! x   y.

      18.SupposePxis some predicate for which the statement8xPxis true.

          Is it also the case that9xPxis true? In other words, is the statement

        8xPx ! 9xPxalways true? Is the converse always true? Assume

        the domain of discourse is non-empty.

      19.For each of the statements below, give a domain of discourse for which

          the statement is true, and a domain for which the statement is false.

      (a) 8x9yy2  x.

        (b) 8x8yx < y ! 9zx < z < y.

        (c) 9x8y8zy < z ! y   x   z.

      20.Consider the statement, “For all natural numbersn, ifnis prime, then

          nis solitary.” You do not need to know whatsolitarymeans for this

          problem, just that it is a property that some numbers have and others

    do not.

              (a)Write the converse and the contrapositive of the statement,

                  saying which is which. Note: the original statement claims that

                  an implication is true for alln, and it is that implication that we

            are taking the converse and contrapositive of.                                            0.2. Mathematical Statements23

          (b)Write the negation of the original statement. What would you

              need to show to prove that the statement is false?

            (c)Even though you don’t know whether 10 is solitary (in fact,

            nobody knows this), is the statement “if 10 is prime, then 10 is

          solitary” true or false? Explain.

        (d)It turns out that 8 is solitary. Does this tell you anything about

            the truth or falsity of the original statement, its converse or its

          contrapositive? Explain.

          (e)Assuming that the original statement is true, what can you say

              about the relationship between thesetPof prime numbers and

          the set S of solitary numbers. Explain.    24 0. Introduction and Preliminaries


                              0.3 Sets

      The most fundamental objects we will use in our studies (and really in

          all of math) aresets. Much of what follows might be review, but it is

      very important that you are  uent in the language of set theory. Most of

      the notation we use below is standard, although some might be a little

    di erent than what you have seen before.

          For us, asetwill simply be an unordered collection of objects. Two

      examples: we could consider the set of all actors who have playedThe

          DoctoronDoctor Who, or the set of natural numbers between 1 and 10

      inclusive. In the  rst case, Tom Baker is an element (or member) of the set,

      while Idris Elba, among many others, is not an element of the set. Also,

      the two examples are of di erent sets. Two sets are equal exactly if they

      contain the exact same elements. For example, the set containing all of the

      vowels in the declaration of independence is precisely the same set as the

      set of vowels in the word “questionably” (namely, all of them); we do not

      care about order or repetitions, just whether the element is in the set or

not.


                              Notation

          We need some notation to make talking about sets easier. Consider,

                              A   f1;2;3g.

          This is read, “Ais the set containing the elements 1, 2 and 3.” We use

          curly braces “f; g” to enclose elements of a set. Some more notation:

                              a 2 fa; b; cg.

          The symbol “2” is read “is in” or “is an element of.” Thus the above

      means thatais an element of the set containing the lettersa,b, andc. Note

          that this is a true statement. It would also be true to say thatdis not in

that set:

                              d < fa; b; cg.

          Be warned: we write “x 2 A” when we wish to express that one of the

    elements of the set A is x. For example, consider the set,

                          A   f1; b; fx; y; zg; ;g.

          This is a strange set, to be sure. It contains four elements: the number

      1, the letter b, the setfx; y; zg, and the empty set;   fg, the set containing

      no elements. IsxinA? The answer is no. None of the four elements inA

      are the letterx, so we must conclude thatx < A. Similarly, consider the set

          B   f1; bg. Even though the elements ofBare elements ofA, we cannot                                                          0.3. Sets25


    say that thesetBis one of the elements ofA. ThereforeB < A. (Soon we

      will see thatBis asubsetofA, but this is di erent from being anelementof

A.)

            We have described the sets above by listing their elements. Sometimes

    this is hard to do, especially when there are a lot of elements in the set

      (perhaps in nitely many). For instance, if we wantAto be the set of all

    even natural numbers, would could write,

                          A   f0;2;4;6; : : :g,

    but this is a little imprecise. A better way would be

                    A   fx 2 N : 9n 2 Nx   2ng.

            Let’s look at this carefully. First, there are some new symbols to digest:

      “N” is the symbol usually used to denote thatnatural numbers, which we

    will take to be the setf0;1;2;3; : : :g. Next, the colon, “:”, is readsuch that;

      it separates the elements that are in the set from the condition that the

      elements in the set must satisfy. So putting this all together, we would

    read the set as, “the set of allxin the natural numbers, such that there

    exists somenin the natural numbers for whichxis twicen.” In other

      words, the set of all natural numbers, that are even. Here is another way

to write the same set.

                        A   fx 2 N : x is eveng.

            Note: Sometimes mathematicians usejorfor the “such that” symbol

      instead of the colon. Also, there is a fairly even split between mathemati-

      cians about whether0is an element of the natural numbers, so be careful

there.

          This notation is usually calledset builder notation. It tells us how

      tobuilda set by telling us precisely the condition elements must meet to

      gain access (the condition is the logical statement after the “:” symbol).

      Reading and comprehending sets written in this way takes practice. Here

are some more examples:

Example 0.3.1

          Describe each of the following sets both in words and by listing out

      enough elements to see the pattern.

      1. fx : x + 3 2 Ng.

    2. fx 2 N : x + 3 2 Ng.

    3. fx : x 2 N _ x 2 Ng.

    4. fx : x 2 N ^ x 2 Ng.    26 0. Introduction and Preliminaries


    Solution.

            1.This is the set of all numbers which are 3 less than a natural

                number (i.e., that if you add 3 to them, you get a natural num-

                ber). The set could also be written asf3;2;1;0;1;2; : : :g

              (note that 0 is a natural number, so3is in this set because

          3 + 3   0).

            2.This is the set of all natural numbers which are 3 less than a

              natural number. So here we just have f0;1;2;3: : :g.

            3.This is the set of all integers (positive and negative whole

              numbers, writtenZ). In other words,f: : : ;2;1;0;1;2; : : :g.

          4.Here we want all numbersxsuch thatxandxare natural

                numbers. There is only one: 0. So we have the set f0g.


        There is also a subtle variation on set builder notation. While the

      condition is generally given after the “such that”, sometimes it is hidden

  in the  rst part. Here is an example.

    Example 0.3.2

        List a few elements in the sets below and describe them in words.

          The setZis the set ofintegers; positive and negative whole numbers.

                      2
        1. A   fx 2 Z : x2 Ng

              2
      2. B   fx: x 2 Ng


    Solution.

            1.The set of integers that pass the condition that their square

                  is a natural number. Well, every integer, when you square it,

                  gives you a non-negative integer, so a natural number. Thus

            A   Z   f: : : ;2;1;0;1;2;3; : : :g.

            2.Here we are looking for the set of allx2s wherexis a natural

              number. So this set is simply the set of perfect squares.

            B   f0;1;4;9;16; : : :g.

              Another way we could have written this set, using more

                strict set builder notation, would be asB   fx 2 N:x  

          n2for some n 2 Ng.                                                          0.3. Sets27


        We already have a lot of notation, and there is more yet. Below is a

      handy chart of symbols. Some of these will be discussed in greater detail

as we move forward.

    Special sets.

        ;The empty set is the set which contains no elements.

        UThe universe set is the set of all elements.

        NThe set of natural numbers. That is, N   f0;1;2;3: : :g.

        ZThe set of integers. That is, Z   f: : : ;2;1;0;1;2;3; : : :g.

    QThe set of rational numbers.

    RThe set of real numbers.

      PA The power set of any set A is the set of all subsets of A.


    Set Theory Notation.

      f; gWe use thesebracesto enclose the elements of a set. So

            f1;2;3g is the set containing 1, 2, and 3.

        :fx : x > 2g is the set of all x such that x is greater than 2.

    22 2 f1;2;3g asserts that 2 is an element of the set f1;2;3g.

      <4 < f1;2;3g because 4 is not an element of the set f1;2;3g.

       A   Basserts thatA is a subset of B: every element ofAis

        also an element of B.

       A   Basserts thatA is a proper subset of B: every element

            of A is also an element of B, but A , B.

      \A \ Bis theintersection of A and B: the set containing all

            elements which are elements of both A and B.

        [A [ Bis theunion of A and B: is the set containing all

            elements which are elements of A or B or both.

         A   Bis theCartesian product of A and B: the set of all

            ordered pairs a; b with a 2 A and b 2 B.

      nA n Bisset di erence between A and B: the set containing

            all elements of A which are not elements of B.

      AThecomplement of Ais the set of everything which is not

        an element of A.

        jAjThecardinality (or size) of Ais the number of elements in

        A.    28 0. Introduction and Preliminaries


      Investigate!

            1. Find the cardinality of each set below.

            (a) A   f3;4; : : : ;15g.

              (b) B   fn 2 N : 2 < n   200g.

              (c) C   fn   100 : n 2 N ^ 9m 2 Nn   2m + 1g.

          2.Find two setsAandBfor whichjAj  5,jBj  6, and

            jA [ Bj   9. What is jA \ Bj?

              3.Find setsAandBwithjAj   jBjsuch thatjA [ Bj  7and

            jA \ Bj   3. What is jAj?

            4.LetA   f1;2; : : : ;10g. De neB  fB   A:jBj  2g. Find
                                        2
          jBj.
            2

            5.For any setsAandB, de neAB   fab:a 2 A ^ b 2 Bg. If

                A   f1;2g and B   f2;3;4g, what is jABj? What is jA   Bj?

            !Attempt the above activity before proceeding!

                        Relationships Between Sets

      We have already said what it means for two sets to be equal: they have

      exactly the same elements. Thus, for example,

                          f1;2;3g   f2;1;3g.

          (Remember, the order the elements are written down in does not

  matter.) Also,

              f1;2;3g   f1;1 + 1;1 + 1 + 1g   fI; II; IIIg   f1;2;3;1 + 2g

      since these are all ways to write the set containing the  rst three positive

        integers (how we write them doesn’t matter, just what they are).

            What about the setsA   f1;2;3gandB   f1;2;3;4g? ClearlyA , B,

      but notice that every element ofAis also an element ofB. Because of this

          we say thatAis asubsetofB, or in symbolsA   BorA   B. Both symbols

      are read “is a subset of.” The di erence is that sometimes we want to say

          thatAis either equal to or is a subset ofB, in which case we use . This is

    analogous to the di erence between < and  .                                                          0.3. Sets29


Example 0.3.3

      LetA   f1;2;3;4;5;6g,B   f2;4;6g,C   f1;2;3gandD   f7;8;9g.

          Determine which of the following are true, false, or meaningless.

      1. A   B.4. ; 2 A.7. 3 2 C.

      2. B   A.5. ;   A.8. 3   C.

      3. B 2 C.6. A < D.9. f3g   C.


  Solution.

        1. False. For example, 1 2 A but 1 < B.

        2. True. Every element in B is an element in A.

            3.False. The elements inCare 1, 2, and 3. ThesetBis not equal

        to 1, 2, or 3.

          4.False.Ahas exactly 6 elements, and none of them are the

        empty set.

        5.True. Everything in the empty set (nothing) is also an element

            of A. Notice that the empty set is a subset of every set.

        6. Meaningless. A set cannot be less than another set.

          7. True. 3 is one of the elements of the set C.

            8.Meaningless.3is not a set, so it cannot be a subset of another

      set.

            9.True.3is the only element of the setf3g, and is an element of

          C, so every element in f3g is an element of C.


          In the example above,Bis a subset ofA. You might wonder what other

      sets are subsets ofA. If you collect all these subsets ofAinto a new set, we

    get a set of sets. We call the set of all subsets ofAthepower setofA, and

write it PA.

Example 0.3.4

    Let A   f1;2;3g. Find PA.

      Solution. PA is a set of sets, all of which are subsets of A. So

              PA   f;; f1g; f2g; f3g; f1;2g; f1;3g; f2;3g; f1;2;3gg.    30 0. Introduction and Preliminaries


            Notice that while22 A, it is wrong to write22 PAsince none

            of the elements inPAare numbers! On the other hand, we do

        have f2g 2 PA because f2g   A.

              What does a subset ofPAlook like? Notice thatf2g * PA

            because not everything inf2gis inPA. But we do haveff2gg  

          PA. The only element offf2ggis the setf2gwhich is also an

        element ofPA. We could take the collection of all subsets ofPA

            and call thatPPA. Or even the power set of that set of sets of

    sets.


            Another way to compare sets is by theirsize. Notice that in the example

      above,Ahas 6 elements andB,C, andDall have 3 elements. The size of a

          set is called the set’scardinality. We would writejAj  6,jBj  3, and so

      on. For sets that have a  nite number of elements, the cardinality of the set

      is simply the number of elements in the set. Note that the cardinality of

          f1;2;3;2;1gis 3. We do not count repeats (in fact,f1;2;3;2;1gis exactly

      the same set asf1;2;3g). There are sets with in nite cardinality, such asN,

      the set of rational numbers (writtenQ), the set of even natural numbers,

          and the set of real numbers (R). It is possible to distinguish between

      di erent in nite cardinalities, but that is beyond the scope of this text. For

      us, a set will either be in nite, or  nite; if it is  nite, the we can determine

    its cardinality by counting elements.

    Example 0.3.5


            1. Find the cardinality of A   f23;24; : : : ;37;38g.

          2. Find the cardinality of B   f1; f2;3;4g; ;g.

            3. If C   f1;2;3g, what is the cardinality of PC?


    Solution.

                          15, we can conclude that the cardinality of the
        1.Since3823 

              set is jAj   16 (you need to add one since 23 is included).

          2.HerejBj  3. The three elements are the number 1, the set

          f2;3;4g, and the empty set.

            3.We wrote out the elements of the power setPCabove, and

            there are 8 elements (each of which is a set). SojPCj 8.

                (You might wonder if there is a relationship betweenjAjand

              jPAjfor all setsA. This is a good question which we will

          return to in Chapter 1.)                                                          0.3. Sets31


                        Operations On Sets

    Is it possible to add two sets? Not really, however there is something

      similar. If we want to combine two sets to get the collection of objects that

      are in either set, then we can take theunionof the two sets. Symbolically,

                            C   A [ B,

      read, “Cis the union ofAandB,” means that the elements ofCare exactly

      the elements which are either an element ofAor an element ofB(or an

    element of both). For example, ifA   f1;2;3gandB   f2;3;4g, then

A [ B   f1;2;3;4g.

        The other common operation on sets is intersection. We write,

                            C   A \ B

    and say, “Cis the intersection ofAandB,” when the elements inCare

    precisely those both inAand inB. So ifA   f1;2;3gandB   f2;3;4g,

then A \ B   f2;3g.

          Often when dealing with sets, we will have some understanding as

      to what “everything” is. Perhaps we are only concerned with natural

      numbers. In this case we would say that ouruniverseisN. Sometimes

    we denote this universe byU. Given this context, we might wish to

      speak of all the elements which arenotin a particular set. We sayBis the

  complement of A, and write,

                              B  A

      whenBcontains every element not contained inA. So, if our universe is

    f1;2; : : : ;9;10g, and A   f2;3;5;7g, thenA   f1;4;6;8;9;10g.

        Of course we can perform more than one operation at a time. For

example, consider

                              A \B.

        This is the set of all elements which are both elements ofAand not

      elements ofB. What have we done? We’ve started withAand removed

      all of the elements which were inB. Another way to write this is theset

di erence:

                                   A n B.
                          A \B  

            It is important to remember that these operations (union, intersection,

      complement, and di erence) on sets produce other sets. Don’t confuse

      these with the symbols from the previous section (element of and subset

    of).A \ Bis a set, whileA   Bis true or false. This is the same di erence

  as between 3 + 2 (which is a number) and 3   2 (which is false).    32 0. Introduction and Preliminaries


    Example 0.3.6

          LetA   f1;2;3;4;5;6g,B   f2;4;6g,C   f1;2;3gandD   f7;8;9g.

      If the universe is U   f1;2; : : : ;10g,  nd:

          1. A [ B.4. A \ D.7. D\C[A \ B.

        2. A \ B.5.B [ C.8. ; [ C.

        3. B \ C.6. A n B.9. ; \ C.


    Solution.

                          2;3;4;5;6g   Asince everything inBis already
        1. A [ B   f1;

        in A.

            2. A \ B   f2;4;6g   B since everything in B is in A.

          3. B \ C   f2g as the only element of both B and C is 2.

            4. A \ D   ; since A and D have no common elements.

                       f5;7;8;9;10g. First we  nd thatB[C   f1;2;3;4;6g,
      5.B [ C  

              then we take everything not in that set.

          6. A n B   f1;3;5gsince the elements 1, 3, and 5 are inAbut not

            in B. This is the same as A \B.

            7. D \C [A \ B   f1;3;5;7;8;9;10g. The set contains all

                elements that are either inDbut not inC(i.e.,f7;8;9g), or not

            in both A and B (i.e., f1;3;5;7;8;9;10g).

          8. ; [ C   C since nothing is added by the empty set.

            9. ; \ C   ;since nothing can be both in a set and in the empty

        set.


            Having notation like this is useful. We will often want to add or remove

          elements from sets, and our notation allows us to do so precisely.

    Example 0.3.7

          IfA   f1;2;3g, then we can describe the set we get by adding

            the number 4 asA [ f4g. If we want to express the set we get by

        removing the number 2 from A we can do so by writing A n f2g.

            Careful though. If you add an element to the set, you get a new

        set! So you would haveB   A [ f4gand then correctly say thatB

      contains 4, but A does not.                                                          0.3. Sets33


          You might notice that the symbols for union and intersection slightly

      resemble the logic symbols for “or” and “and.” This is no accident. What

      does it mean forxto be an element ofA [ B? It means thatxis an element

  of A or x is an element of B (or both). That is,

                  x 2 A [ B,x 2 A _ x 2 B.

  Similarly,

                  x 2 A \ B,x 2 A ^ x 2 B.

  Also,

                    x 2A, :x 2 A.

      which saysxis an element of the complement ofAifxis not an element

of A.

          There is one more way to combine sets which will be useful for us: the

      Cartesian product,A   B. This sounds fancy but is nothing you haven’t

    seen before. When you graph a function in calculus, you graph it in

      the Cartesian plane. This is the set of all ordered pairs of real numbers

    x; y. We can do this foranypair of sets, not just the real numbers with

themselves.

        Put another way,A   B   fa; b:a 2 A ^ b 2 Bg. The  rst coordinate

      comes from the  rst set and the second coordinate comes from the second

      set. Sometimes we will want to take the Cartesian product of a set with

    itself, and this is  ne:A   A   fa; b:a; b 2 Ag(we might also writeA2

      for this set). Notice that inA   A, we still wantallordered pairs, not just

      the ones where the  rst and second coordinate are the same. We can also

      take products of 3 or more sets, getting ordered triples, or quadruples,

and so on.

Example 0.3.8

      LetA   f1;2gandB   f3;4;5g. FindA   BandA   A. How many

    elements do you expect to be in B   B?

      Solution. A   B   f1;3;1;4;1;5;2;3;2;4;2;5g.

        A   A   A2  f1;1;1;2;2;1;2;2g.

                    9. There will be 3 pairs with  rst coordinate3, three
      jB   Bj  

          more with  rst coordinate4, and a  nal three with  rst coordinate

5.


                        Venn Diagrams

      There is a very nice visual tool we can use to represent operations on sets.

      AVenn diagramdisplays sets as intersecting circles. We can shade the

    region we are talking about when we carry out an operation. We can    34 0. Introduction and Preliminaries


      also represent cardinality of a particular set by putting the number in the

  corresponding region.


        ABAB




                                                        C

        Each circle represents a set. The rectangle containing the circles

        represents the universe. To represent combinations of these sets, we shade

        the corresponding region. For example, we could draw A \ B as:


                        AB





        Here is a representation of A \B, or equivalently A n B:


                        AB





            A more complicated example is B \ C [ C \A, as seen below.

                            AB



                                      C

            Notice that the shaded regions above could also be arrived at in another

      way. We could have started with all ofC, then excluded the region where

        CandAoverlap outside ofB. That region isA \ C \B. So the above
                                  
          Venn diagram also representsC \A \ C \B. So using just the picture,

  we have determined that

                                          
                    B \ C [ C \A   C \A \ C \B.                                                          0.3. Sets35


                            Exercises

    1. Let A   f1;4;9g and B   f1;3;6;10g. Find each of the following sets.

    (a) A [ B.

    (b) A \ B.

    (c) A n B.

    (d) B n A.

    2. Find the least element of each of the following sets, if there is one.

      (a) fn 2 N : n2 3   2g.

    (b) fn 2 N : n2 5 2 Ng.

      (c) fn2+ 1 : n 2 Ng.

      (d) fn 2 N : n   k2+ 1 for some k 2 Ng.

  3. Find the following cardinalities:

      (a) jAj when A   f4;5;6; : : : ;37g.

      (b) jAj when A   fx 2 Z : 2   x   100g.

                             fx 2 N:x  20gandB   fx 2 N:x is primeg.
      (c) jA\BjwhenA  

    4.Find a set of largest possible size that is a subset of bothf1;2;3;4;5g

    and f2;4;6;8;10g.

    5.Find a set of smallest possible size that has bothf1;2;3;4;5gand

    f2;4;6;8;10g as subsets.

    6.LetA   fn 2 N: 20  n <50gandB   fn 2 N: 10< n  30g.

        SupposeCis a set such thatC   AandC   B.What is the largest

    possible cardinality of C?

  7.LetA   f1;2;3;4;5gandB   f2;3;4g.How many setsChave the

    property that C   A and B   C.

    8. Let A   f1;2;3;4;5g, B   f3;4;5;6;7g, and C   f2;3;5g.

    (a) Find A \ B.

      (b) Find A [ B.

    (c) Find A n B.

      (d) Find A \B [ C.

  9. Let A   fx 2 N : 4   x < 12g and B   fx 2 N : x is eveng.

    (a) Find A \ B.

    (b) Find A n B.    36 0. Introduction and Preliminaries

      10.LetA   fx 2 N: 3  x  13g,B   fx 2 N:x is eveng, and

      C   fx 2 N : x is oddg.

        (a) Find A \ B.

        (b) Find A [ B.

      (c) Find B \ C.

      (d) Find B [ C.

      11.Find an example of setsAandBsuch thatA \ B   f3;5gand

    A [ B   f2;3;5;7;8g.

      12. Find an example of sets A and B such that A   B and A 2 B.

        13.RecallZ   f: : : ;2;1;0;1;2; : : :g(the integers). LetZ+  f1;2;3; : : :g

            be the positive integers. Let2Zbe the even integers,3Zbe the multiples

      of 3, and so on.

        (a) Is Z+  2Z? Explain.

        (b) Is 2Z   Z+? Explain.

              (c)Find2Z \3Z. Describe the set in words, and using set notation.

            (d)Expressfx 2 Z:9y 2 Zx  2y _ x  3ygas a union or

                intersection of two sets already described in this problem.

          14.LetA2be the set of all multiples of 2 except for2. LetA3be the set of

              all multiples of 3 except for 3. And so on, so thatAnis the set of all

          multiples ofnexcept forn, for anyn  2. Describe (in words) the set

      A2[ A3[ A4[      .

        15. Draw a Venn diagram to represent each of the following:

      (a) A [B

      (b)A [ B

      (c) A \ B [ C

      (d) A \ B [ C

      (e)A \ B \C

        (f) A [ B n C

      16.Describe a set in terms ofAandB(using set notation) which has the

      following Venn diagram:

                                AB                                                          0.3. Sets37


  17. Let A   fa; b; c; dg. Find PA.

    18.LetA   f1;2; : : : ;10g.How many subsets ofAcontain exactly one

          element (i.e., how many singleton subsets are there)? singleton set

              How many doubleton subsets (containing exactly two elements)

    are there? doubleton set

    19.LetA   f1;2;3;4;5;6g. Find all setsB 2 PAwhich have the property

  f2;3;5g   B.

  20.Find an example of setsAandBsuch thatjAj  4,jBj  5, and

  jA [ Bj   9.

  21.Find an example of setsAandBsuch thatjAj  3,jBj  4, and

  jA [ Bj   5.

    22.Are there setsAandBsuch thatjAj   jBj,jA[Bj  10, andjA\Bj  5?

  Explain.

  23. Let A   f2;4;6;8g. Suppose B is a set with jBj   5.

            (a)What are the smallest and largest possible values ofjA [ Bj?

        Explain.

            (b)What are the smallest and largest possible values ofjA \ Bj?

        Explain.

            (c)What are the smallest and largest possible values ofjA   Bj?

        Explain.

      24.LetX   fn 2 N: 10  n <20g. Find examples of sets with the

          properties below and very brie y explain why your examples work.

        (a) A set A   N with jAj   10 such that X n A   f10;12;14g.

      (b) A set B 2 PX with jBj   5.

      (c) A set C   PX with jCj   5.

      (d) A set D   X   X with jDj   5

      (e) A set E   X such that jEj 2 E.

25. Let A, B and C be sets.

          (a)Suppose thatA   BandB   C. Does this mean thatA   C?

            Prove your answer. Hint: to prove thatA   Cyou must prove

          the implication, “for all x, if x 2 A then x 2 C.”

          (b)Suppose thatA 2 BandB 2 C. Does this mean thatA 2 C?

            Give an example to prove that this does NOT always happen

              (and explain why your example works). You should be able to

          give an example where jAj   jBj   jCj   2.    38 0. Introduction and Preliminaries

        26.In a regular deck of playing cards there are 26 red cards and 12

        face cards. Explain, using sets and what you have learned about

          cardinalities, why there are only 32 cards which are either red or a

    face card.

      27.Find an example of a setAwithjAj  3which contains only other sets

          and has the following property: for all setsB 2 A, we also haveB   A.

          Explain why your example works. (FYI: sets that have this property

      are called transitive.)

        28.Consider the setsAandB, whereA   f3; jBjgandB   f1; jAj; jBjg.

    What are the sets?

      29. Explain why there is no set A which satis es A   f2;Ajg.
                                                      j

    30. Find all sets A, B, and C which satisfy the following.

                              A  f1;Bj;Cjg
                                  jj

                              B  f2;Aj;Cjg
                                  jj

                              C  f1;2;Aj;Bjg.
                                    jj                                                      0.4. Functions39


                        0.4 Functions

      Afunctionis a rule that assigns each input exactly one output. We call the

      output theimageof the input. The set of all inputs for a function is called

      thedomain. The set of all allowable outputs is called thecodomain. We

      would writef:X ! Yto describe a function with namef, domainXand

      codomainY. This does not tell uswhichfunctionfis though. To de ne

      the function, we must describe the rule. This is often done by giving a

      formula to compute the output for any input (although this is certainly

not the only way to describe the rule).

        For example, consider the functionf:N ! Nde ned byfx   x2+3.

      Here the domain and codomain are the same set (the natural numbers).

      The rule is: take your input, multiply it by itself and add 3. This works

      because we can apply this rule to every natural number (every element of

      the domain) and the result is always a natural number (an element of the

      codomain). Notice though that not every natural number is actually an

      output (there is no way to get 0, 1, 2, 5, etc.). The set of natural numbers

      thatareoutputs is called therangeof the function (in this case, the range

    isf3;4;7;12;19;28; : : :g, all the natural numbers that are 3 more than a

perfect square).

          The key thing that makes a rule afunctionis that there isexactly one

      output for each input. That is, it is important that the rule be a good rule.

      What output do we assign to the input 7? There can only be one answer

for any particular function.

Example 0.4.1

    The following are all examples of functions:

          1. f:Z ! Zde ned byfn  3n. The domain and codomain

            are both the set of integers. However, the range is only the set

        of integer multiples of 3.

          2. g:f1;2;3g ! fa; b; cgde ned byg1   c,g2   aand

              g3   a. The domain is the setf1;2;3g, the codomain is the

              setfa; b; cgand the range is the setfa; cg. Note thatg2and

            g3are the same element of the codomain. This is okay since

            each element in the domain still has only one output.

        3. h : f1;2;3;4g ! N de ned by the table:

                            x1 2 3 4

                          hx3 6 9 12

          Here the domain is the  nite setf1;2;3;4gand to codomain

            is the set of natural numbers,N. At  rst you might think this    40 0. Introduction and Preliminaries


                function is the same asfde ned above. It is absolutely not.

                Even though the rule is the same, the domain and codomain

              are di erent, so these are two di erent functions.


    Example 0.4.2

        Just because you can describe a rule in the same way you would

            write a function, does not mean that the rule is a function. The

        following are NOT functions.

                                        n
          1. f:N ! Nde ned byfn  . The reason this is not a
                                        2
                function is because not every input has an output. Where
                                                  33
              doesfsend 3? The rule says thatf3  , butis not an
                                                  22
            element of the codomain.

            2.Consider the rule that matches each person to their phone

                number. If you think of the set of people as the domain and

                the set of phone numbers as the codomain, then this is not a

              function, since some people have two phone numbers. Switch-

                ing the domain and codomain sets doesn’t help either, since

                some phone numbers belong to multiple people (assuming

                some households still have landlines when you are reading

        this).



                          Describing Functions

      It is worth making a distinction between a function and its description.

      The function is the abstract mathematical object that in some way exists

      whether or not anyone ever talks about it. But when wedowant to talk

      about the function, we need a way to describe it. A particular function can

    be described in multiple ways.

            Some calculus textbooks talk about theRule of Four, that every function

      can be described in four ways: algebraically (a formula), numerically (a

      table), graphically, or in words. In discrete math, we can still use any of

      these to describe functions, but we can also be more speci c since we are

      primarily concerned with functions that haveNor a  nite subset ofNas

  their domain.

            Describing a function graphically usually means drawing the graph of

      the function: plotting the points on the plane. We can do this, and might

        get a graph like the following for a function f : f1;2;3g ! f1;2;3g.                                                      0.4. Functions41









          It would be absolutely WRONG to connect the dots or try to  t them to

      some curve. There are only three elements in the domain. A curve would

    mean that the domain contains an entire interval of real numbers.

        Here is another way to represent that same function:

                            123


                                213

          This shows that the functionfsends 1 to 2, 2 to 1 and 3 to 3: just follow

the arrows.

          The arrow diagram used to de ne the function above can be very

      helpful in visualizing functions. We will often be working with functions

    with nitedomains, so this kind of picture is often more useful than a

traditional graph of a function.

          Note that for  nite domains,  nding an algebraic formula that gives

      the output for any input is often impossible. Of course we could use a

  piecewise de ned function, like

                            8
                            >
                            >
                              x + 1 if x   1
                            >
                            ><
                      fx  
                              x 1 if x   2.
                            >
                            >
                            >
                            >
                              xif x   3
                            :

      This describes exactly the same function as above, but we can all agree is a

ridiculous way of doing so.

            Since we will so often use functions with small domains and codomains,

      let’s adopt some notation to describe them. All we need is some clear way

      of denoting the image of each element in the domain. In fact, writing a

  table of values would work perfectly:

                        x0 1 2 3 4

                      fx3 3 2 4 1

          We simplify this further by writing this as a “matrix” with each input

directly over its output:

                            
                            0 1 2 3 4
                      f  .
                            3 3 2 4 1    42 0. Introduction and Preliminaries


      Note this is just notation and not the same sort of matrix you would  nd in

      a linear algebra class (it does not make sense to do operations with these

    matrices, or row reduce them, for example).

          One advantage of the two-line notation over the arrow diagrams is

      that it is harder to accidentally de ne a rule that is not a function using

  two-line notation.

    Example 0.4.3

        Which of the following diagrams represent a function? LetX  

      f1;2;3;4g and Y   fa; b; c; dg.
            f : X ! Yg : X ! Yh : X ! Y
        123412341234


                            acadbc
                                b
                    dacbd

            Solution.fis a function. So isg. There is no problem with an

        element of the codomain not being the image of any input, and

        there is no problem withafrom the codomain being the image of

          both 2 and 3 from the domain. We could use our two-line notation

    to write these as
                        
                      1 2 3 41 2 3 4
                                                      .
                                      g  
                f  
                      d a c bd a a b

            However,his NOT a function. In fact, it fails for two reasons.

        First, the element 1 from the domain has not been mapped to any

          element from the codomain. Second, the element 2 from the domain

          has been mapped to more than one element from the codomain (a

        andc). Note that either one of these problems is enough to make a

          rule not a function. In general, neither of the following mappings

    are functions:




              It might also be helpful to think about how you would write the

          two-line notation for h. We would have something like:

                              
                              1 2 3 4
                        h  
                                            .
                                  a; c? d b

          There is nothing under 1 (bad) and we needed to put more than one

          thing under 2 (very bad). With a rule that is actually a function, the

        two-line notation will always “work”.                                                      0.4. Functions43


          We will also be interested in functions with domainN. Here two-line

      notation is no good, but describing the function algebraically is often

      possible. Even tables are a little awkward, since they do not describe the

      function completely. For example, consider the functionf:N ! Ngiven

by the table below.

                  x0 1 2 3 4 5: : :

                  fx0 1 4 9 16 25 : : :

          Have I given you enough entries for you to be able to determinef6?

      You might guess thatf6  36, but there is no way for you toknowthis for

    sure. Maybe I am being a jerk and intendedf6  42. In fact, for every

      natural numbern, there is a function that agrees with the table above, but

for which f6   n.

        Okay, suppose I really did mean forf6  36, and in fact, for the rule

    that you think is governing the function to actually be the rule. Then

    I should say what that rule is.fn   n2. Now there is no confusion

possible.

          Giving an explicit formula that calculates the image of any element in

      the domain is a great way to describe a function. We will say that these

    explicit rules are closed formulas for the function.

            There is another very useful way to describe functions whose domain

      isN, that rely speci cally on the structure of the natural numbers. We can

  de ne a function recursively!

Example 0.4.4

      Consider the functionf:N ! Ngiven byf0  0andfn +1  

  fn + 2n + 1. Find f6.

      Solution. The rule says thatf6   f5+11(we are using6  n+1

        son  5). We don’t know whatf5is though. Well, we know that

        f5   f4 +9. So we need to computef4, which will require

        knowing f3, which will require f2,. . . will it ever end?

            Yes! In fact, this process will always end because we haveNas

        our domain, so there is a least element. And we gave the value of

        f0explicitly, so we are good. In fact, we might decide to work up

    to f6 instead of working down from f6:

              f1  f0 + 1  0 + 1   1

              f2  f1 + 3  1 + 3   4

              f3  f2 + 5  4 + 5   9

                f4  f3 + 7  9 + 7   16

              f5  f4 + 9  16 + 9   25    44 0. Introduction and Preliminaries


                f6  f5 + 11  25 + 11   36

              It looks that this recursively de ned function is the same as the

        explicitly de ned functionfn   n2. Is it? Later we will prove that

    it is.


          Recursively de ned functions are often easier to create from a “real

      world” problem, because they describe how the values of the functions

      are changing. However, this comes with a price. It is harder to calculate

      the image of a single input, since you need to know the images of other

    (previous) elements in the domain.

        Recursively De ned Functions.

            For a functionf:N ! N, arecursive de nitionconsists of an

          initial conditiontogether with arecurrence relation. The initial

          condition is the explicitly given value off0. The recurrence relation

          is a formula for fn + 1 in terms for fn (and possibly n itself).


    Example 0.4.5

        Give recursive de nitions for the functions described below.

              1. f:N ! Ngives the number of snails in your terrariumn

                  years after you built it, assuming you started with 3 snails and

            the number of snails doubles each year.

            2. g:N ! Ngives the number of push-ups you dondays after

              you started your push-ups challenge, assuming you could do

                7 push-ups on day 0 and you can do 2 more push-ups each

        day.

            3. h:N ! Nde ned byhn   n!. Recall thatn! 1 2 3         

              n 1   nis the product of all numbers from1throughn. We

          also de ne 0!   1.


    Solution.

        1.The initial condition isf0  
                                          3. To getfn +1we would

                double the number of snails in the terrarium the previous

            year, which is given byfn. Thusfn +1  2fn. The

                  full recursive de nition contains both of these, and would be

        written,

                          f0   3; fn + 1   2fn.                                                      0.4. Functions45


          2.We are told that on day 0 you can do 7 push-ups, sog0  7.

              The number of push-ups you can do on dayn +1is 2 more

          than the number you can do on dayn, which is given bygn.

      Thus

                        g0   7; gn + 1   gn + 2.

    3.Hereh0  
                      1. To get the recurrence relation, think about how

            you can gethn +1   n +1!fromhn   n!. If you write out

              both of these as products, you see thatn +1!is just liken!

            except you have one more term in the product, an extran +1.

        So we have,

                    h0   1; hn + 1   n + 1   hn.


              Surjections, Injections, and Bijections

      We now turn to investigating special properties functions might or might

not possess.

            In the examples above, you may have noticed that sometimes there are

      elements of the codomain which are not in the range. When this sort of the

      thingdoes nothappen, (that is, when everything in the codomain is in the

      range) we say the function isontoor that the function maps the domain

      ontothe codomain. This terminology should make sense: the function

      puts the domain (entirely) on top of the codomain. The fancy math term

      for an onto function is asurjection, and we say that an onto function is a

surjective function.

  In pictures:





            SurjectiveNot surjective


Example 0.4.6

        Which functions are surjective (i.e., onto)?

        1. f : Z ! Z de ned by fn   3n.
                                              
                                            1 2 3
        2. g : f1;2;3g ! fa; b; cg de ned by g  .
                                            c a a

        3. h : f1;2;3g ! f1;2;3g de ned as follows:    46 0. Introduction and Preliminaries


                                123


                                      213

    Solution.

            1. fis not surjective. There are elements in the codomain which

              are not in the range. For example, non 2 Zgets mapped to
                                              1
              the number 1 (the rule would say thatwould be sent to 1,
                                              3
            1
              butis not in the domain). In fact, the range of the function
            3
              is 3Z (the integer multiples of 3), which is not equal to Z.

          2. gis not surjective. There is nox 2 f1;2;3g(the domain) for

              whichgx   b, sob, which is in the codomain, is not in the

                range. Notice that there is an element from the codomain

            “missing” from the bottom row of the matrix.

            3. his surjective. Every element of the codomain is also in the

              range. Nothing in the codomain is missed.


          To be a function, a rule cannot assign a single element of the domain

      to two or more di erent elements of the codomain. However, we have

      seen that the reverseispermissible: a function might assign the same

      element of the codomain to two or more di erent elements of the domain.

      When thisdoes notoccur (that is, when each element of the codomain is

      the image of at most one element of the domain) then we say the function

      isone-to-one. Again, this terminology makes sense: we are sending at

      most one element from the domain to one element from the codomain.

      One input to one output. The fancy math term for a one-to-one function is

        an injection. We call one-to-one functions injective functions.

    In pictures:






              InjectiveNot injective


    Example 0.4.7

          Which functions are injective (i.e., one-to-one)?

          1. f : Z ! Z de ned by fn   3n.                                                      0.4. Functions47


                                              
                                            1 2 3
                                                    .
        2. g : f1;2;3g ! fa; b; cg de ned by g  
                                            c a a

        3. h : f1;2;3g ! f1;2;3g de ned as follows:

                              123


                                  213

  Solution.

            1. fis injective. Each element in the codomain is assigned to at

            mostone element from the domain. Ifxis a multiple of three,

              then onlyx3is mapped tox. Ifxis not a multiple of 3, then

              there is no input corresponding to the output x.

            2. gis not injective. Both inputs2and3are assigned the output

              a. Notice that there is an element from the codomain that

              appears more than once on the bottom row of the matrix.

            3. h is injective. Each output is only an output once.


            Be careful: “surjective” and “injective” are NOT opposites. You can see

        in the two examples above that there are functions which are surjective but

      not injective, injective but not surjective, both, or neither. In the case when

      a function is both one-to-one and onto (an injection and surjection), we

      say the function is a b¼ection, or that the function is a b¼ective function.

            To illustrate the contrast between these two properties, consider a more

  formal de nition of each, side by side.

    Injective vs Surjective.

          A function isinjectiveprovided every element of the codomain is

        the image of at most one element from the domain.

          A function issurjectiveprovided every element of the codomain

        is the image of at least one element from the domain.


            Notice both properties are determined by what happens to elements of

      the codomain: they could be repeated as images or they could be “missed”

        (not be images). Injective functions do not have repeats but might or might

      not miss elements. Surjective functions do not miss elements, but might    48 0. Introduction and Preliminaries


      or might not have repeats. The b¼ective functions are those that do not

      have repeats and do not miss elements.


                      Image and Inverse Image

        When discussing functions, we have notation for talking about an element

      of the domain (sayx) and its corresponding element in the codomain (we

      writefx, whichisthe image ofx). Sometimes we will want to talk about

      all the elements that are images of some subset of the domain. It would

      also be nice to start with some element of the codomain (sayy) and talk

      about which element or elements (if any) from the domain it is the image

          of. We could write “thosexin the domain such thatfx   y,” but this is

        a lot of writing. Here is some notation to make our lives easier.

          To address the  rst situation, what we are after is a way to describe

          thesetof images of elements in some subset of the domain. Suppose

        f:X ! Yis a function and thatA   Xis some subset of the domain

      (possibly all of it). We will use the notationfAto denote theimage of A

          under f, namely the set of elements inYthat are the image of elements

    from A. That is, fA   f fa 2 Y : a 2 Ag.

        We can do this in the other direction as well. We might ask which

      elements of the domain get mapped to a particular set in the codomain. Let

          f:X ! Ybe a function and supposeB   Yis a subset of the codomain.

        Then we will writef1Bfor theinverse image of B under f, namely

      the set of elements inXwhose image are elements inB. In other words,

  f1B   fx 2 X : fx 2 Bg.

          Often we are interested in the element(s) whose image is a particular

          element y of in the codomain. The notation above works: f1fyg is the

      set of all elements in the domain thatfsends toy. It makes sense to think

        of this as a set: there might not be anything sent toy(ifyis not in the

          range), in which casef1fyg   ;. Orfmight send multiple elements to

      y(iffis not injective). As a notational convenience, we usually drop the

      set braces around the y and write f1y instead for this set.

          WARNING:f1yis not an inverse function! Inverse functions only

        exist for b¼ections, butf1yis de ned for any functionf. The point:

          f1yis aset, not anelementof the domain. This is just sloppy notation

        forf1fyg. To help make this distinction, we would callf1ythe

          complete inverse image of y under f. It is not the image ofyunderf1

    (since the function f1might not exist).                                                      0.4. Functions49


Example 0.4.8

      Consider the function f : f1;2;3;4;5;6g ! fa; b; c; dg given by

                          
                          1 2 3 4 5 6
                      f  .
                          a a b b b c

    Find ff1;2;3g, f1fa; bg, and f1d.

                      2;3g   fa; bgsinceaandbare the elements in the
  Solution.ff1;

    codomain to which f sends 1 and 2.

          f1fa; bg   f1;2;3;4;5gsince these are exactly the elements

  that f sends to a and b.

        f1d   ; since d is not in the range of f.


Example 0.4.9

      Consider the functiong:Z ! Zde ned bygn   n2+1. Find

      g1 and gf1g. Then  nd g11, g12, and g13.

                                                                2.
      Solution. Note thatg1 , gf1g. The  rst is an element:g1  

    The second is a set: gf1g   f2g.

            To  ndg11, we need to  nd all integersnsuch thatn2+1 1.

        Clearly only 0 works, sog11   f0g(note that even though there

        is only one element, we still write it as a set with one element in it).

          To  ndg12, we need to  nd allnsuch thatn2+1 2. We see

  g12   f1;1g.

          Finally, ifn2+1 3, then we are looking for annsuch that

      n2  2. There are no such integers so g13   ;.

                                              
                                                1
                                              
      Sincef1yis a set, it makes sense to ask forfy, the number of

  elements in the domain which map to y.

Example 0.4.10

                                              
                                                1
                                              
      Find a function f : f1;2;3;4;5g ! N such thatf7  5.

          Solution. There is only one such function. We need  ve elements

        of the domain to map to the number72 N. Since there are only  ve

        elements in the domain, all of them must map to 7. So

                            
                            1 2 3 4 5
                      f  .
                            7 7 7 7 7    50 0. Introduction and Preliminaries


                          Function Definitions.

      Here is a summary of all the main concepts and de nitions we use when

    working with functions.

        •Afunctionis a rule that assigns each element of a set, called the

          domain, to exactly one element of a second set, called thecodomain.

        •Notation:f:X ! Yis our way of saying that the function is called

            f, the domain is the set X, and the codomain is the set Y.

          •To specify the rule for a function with small domain, usetwo-line

              notationby writing a matrix with each output directly below its

        corresponding input, as in:

                                  
                                  1 2 3 4
                                              .
                              f  
                                  2 1 3 1


        • fx   ymeans the elementxof the domain (input) is assigned to

                the elementyof the codomain. We sayyis an output. Alternatively,

        we call y the image of x under f.

        •Therangeis a subset of the codomain. It is the set of all elements

            which are assigned to at least one element of the domain by the

          function. That is, the range is the set of all outputs.

          •A function isinjective(aninjectionorone-to-one) if every element

          of the codomain is the image ofat mostone element from the domain.

          •A function issurjective(asurjectionoronto) if every element of

                the codomain is the image ofat leastone element from the domain.

          •Ab¼ectionis a function which is both an injection and surjection.

              In other words, if every element of the codomain is the image of

            exactly one element from the domain.

        •Theimageof an elementxin the domain is the elementyin the

            codomain thatxis mapped to. That is, the image ofxunderfis

      fx.

            •Thecomplete inverse imageof an elementyin the codomain, written

              f1y, is thesetof all elements in the domain which are assigned to

      y by the function.

          Theimageof a subsetAof the domain is the setfA   f fa 2 Y:
  •

      a 2 Ag.

        •Theinverse imageof a subsetBof the codomain is the setf1B  

      fx 2 X : fx 2 Bg.                                                      0.4. Functions51


                            Exercises

      1. Consider the function f : f1;2;3;4g ! f1;2;3;4g given by

                                  
                                1 2 3 4
                                            .
                          fn  
                                4 1 3 4

    (a) Find f1.

        (b) Find an element n in the domain such that fn   1.

            (c) Find an element n of the domain such that fn   n.

            (d) Find an element of the codomain that is not in the range.

      2.The following functions all havef1;2;3;4;5gas both their domain and

          codomain. For each, determine whether it is (only) injective, (only)

          surjective, b¼ective, or neither injective nor surjective.
              
            1 2 3 4 5
                          .
    (a) f  
            3 3 3 3 3
              
            1 2 3 4 5
                          .
    (b) f  
            2 3 1 5 4

    (c) fx   6 x.
              (
                x2if x is even
    (d) fx  .
                  x + 12 if x is odd

      3.The following functions all have domainf1;2;3;4;5gand codomain

        f1;2;3g.For each, determine whether it is (only) injective, (only)

          surjective, b¼ective, or neither injective nor surjective.
              
            1 2 3 4 5
    (a) f  
                          .
            1 2 1 2 1
              
            1 2 3 4 5
    (b) f  .
            1 2 3 1 2
              (
                xif x   3
    (c) fx  .
                x 3 if x > 3

    4.The following functions all have domainf1;2;3;4gand codomain

          f1;2;3;4;5g.For each, determine whether it is (only) injective, (only)

          surjective, b¼ective, or neither injective nor surjective.
              
            1 2 3 4
    (a) f  .
            1 2 5 4    52 0. Introduction and Preliminaries

                
              1 2 3 4
                          .
      (b) f  
              1 2 3 2

          (c) fxgives the number of letters in the English word for the

              numberx.For example,f1  3since “one” contains three

          letters.

          5.Write out all functionsf:f1;2;3g ! fa; bg(using two-line notation).

            How many functions are there?

          How many are injective?

            How many are surjective?

          How many are b¼ective?

        6. Write out all functions f : f1;2g ! fa; b; cg (in two-line notation).

            How many functions are there?

          How many are injective?

            How many are surjective?

          How many are b¼ective?

          7.Consider the functionf:f1;2;3;4;5g ! f1;2;3;4ggiven by the table

    below:
                            x1 2 3 4 5

                          fx3 2 4 1 2

        (a) Is f injective? Explain.

        (b) Is f surjective? Explain.

          (c) Write the function using two-line notation.

          8.Consider the functionf:f1;2;3;4g ! f1;2;3;4ggiven by the graph

    below.
                        fx
                          4

                          3

                          2

                          1

                                                x1234

        (a) Is f injective? Explain.

        (b) Is f surjective? Explain.

          (c) Write the function using two-line notation.

        9.Consider the functionf:N ! Ngivenrecursivelybyf0  1and

      fn + 1   2   fn. Find f10.                                                      0.4. Functions53

  10.Supposef:N ! Nsatis es the recurrencefn +1   fn +3.Note

          that this is not enough information to de ne the function, since we

            don’t have an initial condition. For each of the initial conditions below,

     nd the value of f5.

    (a) f0   0.

    (b) f0   1.

    (c) f0   2.

    (d) f0   100.

    11. Suppose f : N ! N satis es the recurrence relation

                          (
                            fn
                              2if fn is even
                fn + 1  .
                              3fn + 1 if fn is odd

          Note that with the initial conditionf0  1, the values of the function

      are:f1  4,f2  2,f3  1,f4  4, and so on, the images

            cycling through those three numbers. Thusfis NOT injective (and also

          certainly not surjective). Might it be under other initial conditions?3

            (a)Iffsatis es the initial conditionf0  5, isfinjective? Explain

              why or give a speci c example of two elements from the domain

        with the same image.

        (b)Iffsatis es the initial conditionf0  
                                                3, isfinjective? Explain

              why or give a speci c example of two elements from the domain

        with the same image.

            (c)Iffsatis es the initial conditionf0  27, then it turns out that

              f105  10and no two numbers less than 105 have the same

            image. Could f be injective? Explain.

        (d)Prove that no matter what initial condition you choose, the

          function cannot be surjective.


      12.For each function given below, determine whether or not the function

          is injective and whether or not the function is surjective.

      (a) f : N ! N given by fn   n + 4.

      (b) f : Z ! Z given by fn   n + 4.

        (c) f : Z ! Z given by fn   5n 8.

          3It turns out this is areallyhard question to answer in general. TheCollatz conjectureis
          that no matter what the initial condition is, the function will eventually produce 1 as an
        output. This is an open problem in mathematics: nobody knows the answer.    54 0. Introduction and Preliminaries

                                    (
                                      n2if n is even
        (d) f : Z ! Z given by fn  
                                        n + 12 if n is odd:

        13.LetA   f1;2;3; : : : ;10g. Consider the functionf:PA ! Ngiven

            byfB   jBj. That is,ftakes a subset ofAas an input and outputs

      the cardinality of that set.

          (a) Is f injective? Prove your answer.

          (b) Is f surjective? Prove your answer.

      (c) Find f11.

      (d) Find f10.

      (e) Find f112.

        14.LetX   fn 2 N: 0  n  999gbe the set of all numbers with three

            or fewer digits. De ne the functionf:X ! Nbyfabc   a + b + c,

        wherea, b,andcare the digits of the number inX(write numbers

            less than 100 with leading 0’s to make them three digits). For example,

      f253   2 + 5 + 3   10.

          (a) Let A   fn 2 X : 113   n   122g. Find fA.

      (b) Find f1f1;2g

      (c) Find f13.

      (d) Find f128.

        (e) Is f injective? Explain.

        (f) Is f surjective? Explain.

          15.Consider the setN2  N   N, the set of all ordered pairsa; bwherea

          andbare natural numbers. Consider a functionf:N2! Ngiven by

      fa; b   a + b.

        (a) Let A   fa; b 2 N2: a; b   10g. Find fA.

          (b) Find f13 and f1f0;1;2;3g.

                                                          1; : : : ; ngfor
          (c)Give geometric descriptions off1nandf1f0;

          any n   1.
              
                  11
              
        (d) Findf8andff0;1; : : : ;8g.

        16.Letf:X ! Ybe some function. Suppose32 Y. What can you say

      about f13 if you know,

        (a) f is injective? Explain.

        (b) f is surjective? Explain.                                                      0.4. Functions55

      (c) f is b¼ective? Explain.

      17. Find a set X and a function f : X ! N so that f10 [ f11   X.

  18. What can you deduce about the sets X and Y if you know,

          (a) there is an injective function f : X ! Y? Explain.

          (b) there is a surjective function f : X ! Y? Explain.

          (c) there is a b¼ective function f : X ! Y? Explain.

      19.Supposef:X ! Yis a function. Which of the following are possible?

  Explain.

      (a) f is injective but not surjective.

      (b) f is surjective but not injective.

        (c) jXj   jYj and f is injective but not surjective.

        (d) jXj   jYj and f is surjective but not injective.

              (e) jXj   jYj,XandYare  nite, andfis injective but not surjective.

            (f) jXj   jYj,XandYare  nite, andfis surjective but not injective.

      20.Letf:X ! Yandg:Y ! Zbe functions. We can de ne the

        compositionoffandgto be the functiong   f:X ! Zfor which

      the image of eachx 2 Xisgfx. That is, plugxintof, then plug

        the result into g (just like composition in algebra and calculus).

            (a) If f and g are both injective, must g   f be injective? Explain.

        (b)Iffandgare both surjective, mustg   fbe surjective? Explain.

        (c)Supposeg   fis injective. What, if anything, can you say about

          f and g? Explain.

          (d)Supposeg   fis surjective. What, if anything, can you say about

          f and g? Explain.

                                                (
                                                  n + 1 if n is even
  21.Consider the functionf:Z ! Zgiven byfn  
                                                  n 3 if n is odd:

      (a) Is f injective? Prove your answer.

        (b) Is f surjective? Prove your answer.

    22.At the end of the semester a teacher assigns letter grades to each of

          her students. Is this a function? If so, what sets make up the domain

          and codomain, and is the function injective, surjective, b¼ective, or

  neither?    56 0. Introduction and Preliminaries

      23.In the game ofHearts, four players are each dealt 13 cards from a deck

              of 52. Is this a function? If so, what sets make up the domain and

            codomain, and is the function injective, surjective, b¼ective, or neither?

      24.Seven players are playing 5-card stud. Each player initially receives

            5 cards from a deck of 52. Is this a function? If so, what sets make

            up the domain and codomain, and is the function injective, surjective,

      b¼ective, or neither?

      25.Consider the functionf:N ! Nthat gives the number of handshakes

            that take place in a room ofnpeople assuming everyone shakes hands

        with everyone else. Give a recursive de nition for this function.

      26.Letf:X ! Ybe a function andA   Xbe a  nite subset of the

          domain. What can you say about the relationship betweenjAjand
    
    
              fA? Consider both the general case and what happens when you

          know f is injective, surjective, or b¼ective.

      27.Letf:X ! Ybe a function andB   Ybe a  nite subset of the

          codomain. What can you say about the relationship betweenjBjand
    
      1
    
              fB? Consider both the general case and what happens when you

          know f is injective, surjective, or b¼ective.

    28. Let f : X ! Y be a function, A   X and B   Y.
                     
            (a) Is f1fA  A? Always, sometimes, never? Explain.
                     
            (b) Is ff1B  B? Always, sometimes, never? Explain.

                (c)If one or both of the above do not always hold, is there something

                  else you can say? Will equality always hold for particular types

              of functions? Is there some other relationship other than equality

              that would always hold? Explore.

        29. Let f : X ! Y be a function and A; B   X be subsets of the domain.

            (a)IsfA[B   fA[ fB? Always, sometimes, or never? Explain.

            (b)IsfA\B   fA\ fB? Always, sometimes, or never? Explain.

          30.Letf:X ! Ybe a function andA; B   Ybe subsets of the codomain.

              (a)Isf1A [ B   f1A [ f1B? Always, sometimes, or never?

          Explain.

              (b)Isf1A \ B   f1A \ f1B? Always, sometimes, or never?

          Explain.                            Chapter 1


                        Counting



      One of the  rst things you learn in mathematics is how to count. Now

      we want to count large collections of things quickly and precisely. For

example:

          •In a group of 10 people, if everyone shakes hands with everyone else

      exactly once, how many handshakes took place?

          •How many ways can you distribute10girl scout cookies to7boy

    scouts?

      • How many anagrams are there of “anagram”?

            Before tackling questions like these, let’s look at the basics of counting.


          1.1 Additive and Multiplicative Principles


    Investigate!

            1.A restaurant o ers 8 appetizers and 14 entrées. How many

          choices do you have if:

              (a)you will eat one dish, either an appetizer or an entrée?

                (b)you are extra hungry and want to eat both an appetizer

            and an entrée?

              2.Think about the methods you used to solve question 1. Write

          down the rules for these methods.

            3.Do your rules work? A standard deck of playing cards has

          26 red cards and 12 face cards.

              (a)How many ways can you select a card which is either

              red or a face card?

              (b)How many ways can you select a card which is both

              red and a face card?

              (c)How many ways can you select two cards so that the

                 rst one is red and the second one is a face card?

        !Attempt the above activity before proceeding!

            Consider this rather simple counting problem: at Red Dogs and Donuts,

    there are 14 varieties of donuts, and 16 types of hot dogs. If you want

                                57  58 1. Counting


          either a donut or a dog, how many options do you have? This isn’t too

      hard, just add 14 and 16. Will that always work? What is important here?

      Additive Principle.

        Theadditive principlestates that if eventAcan occur inmways,

          and eventBcan occur inndisjointways, then the event “AorB” can

      occur in m + n ways.


          It is important that the events bedisjoint: i.e., that there is no way for

      AandBto both happen at the same time. For example, a standard deck of

      52 cards contains26red cards and12face cards. However, the number of

    ways to select a card which is either red or a face card is not26+12 38.

          This is because there are 6 cards which are both red and face cards.

    Example 1.1.1

        How many two letter “words” start with either A or B? (Aword

            is just a string of letters; it doesn’t have to be English, or even

    pronounceable.)

          Solution. First, how many two letter words start with A? We just

        need to select the second letter, which can be accomplished in 26

          ways. So there are 26 words starting with A. There are also 26 words

        that start with B. To select a word which starts with either A or B,

        we can pick the word from the  rst 26 or the second 26, for a total

    of 52 words.


          The additive principle also works with more than two events. Say, in

      addition to your 14 choices for donuts and 16 for dogs, you would also

      consider eating one of 15 wa es? How many choices do you have now?

      You would have 14 + 16 + 15   45 options.

    Example 1.1.2

            How many two letter words start with one of the 5 vowels?

        Solution. There are 26 two letter words starting with A, another

        26 starting with E, and so on. We will have 5 groups of 26. So we

          add 26 to itself 5 times. Of course it would be easier to just multiply

        5 26. We are really using the additive principle again, just using

      multiplication as a shortcut.                                      1.1. Additive and Multiplicative Principles59


Example 1.1.3

          Suppose you are going for some fro-yo. You can pick one of 6 yogurt

        choices, and one of 4 toppings. How many choices do you have?

        Solution. Break your choices up into disjoint events:Aare the

        choices with the  rst topping,Bthe choices featuring the second

          topping, and so on. There are four events; each can occur in 6 ways

        (one for each yogurt  avor). The events are disjoint, so the total

      number of choices is 6 + 6 + 6 + 6   24.


          Note that in both of the previous examples, when using the additive

      principle on a bunch of events all the same size, it is quicker to multiply.

  This really is the same, and not just because6+6+6+6 4 6. We

      can  rst select the topping in 4 ways (that is, we  rst select which of the

      disjoint events we will take). For each of those  rst 4 choices, we now have

  6 choices of yogurt. We have:

    Multiplicative Principle.

        Themultiplicative principlestates that if eventAcan occur inm

          ways, and each possibility forAallows for exactlynways for event

      B, then the event “A and B” can occur in m   n ways.


          The multiplicative principle generalizes to more than two events as

well.

Example 1.1.4

          How many license plates can you make out of three letters followed

    by three numerical digits?

          Solution. Here we have six events: the  rst letter, the second letter,

          the third letter, the  rst digit, the second digit, and the third digit.

          The  rst three events can each happen in 26 ways; the last three can

        each happen in 10 ways. So the total number of license plates will

      be 26   26   26   10   10   10, using the multiplicative principle.

              Does this make sense? Think about how we would pick a license

          plate. How many choices we would have? First, we need to pick the

           rst letter. There are 26 choices. Now for each of those, there are 26

          choices for the second letter: 26 second letters with  rst letter A, 26

        second letters with  rst letter B, and so on. We add 26 to itself 26

        times. Or quicker: there are 26   26 choices for the  rst two letters.

            Now for each choice of the  rst two letters, we have 26 choices

        for the third letter. That is, 26 third letters for the  rst two letters  60 1. Counting


          AA, 26 choices for the third letter after starting AB, and so on. There

            are26 26of these26third letter choices, for a total of26 26  26

        choices for the  rst three letters. And for each of these26 26 26

        choices of letters, we have a bunch of choices for the remaining

    digits.

              In fact, there are going to be exactly 1000 choices for the numbers.

        We can see this because there are 1000 three-digit numbers (000

          through 999). This is 10 choices for the  rst digit, 10 for the second,

          and 10 for the third. The multiplicative principle says we multiply:

    10   10   10   1000.

              All together, there were263choices for the three letters, and103

        choices for the numbers, so we have a total of263 103choices of

    license plates.


            Careful: “and” doesn’t mean “times.” For example, how many playing

          cards are both red and a face card? Not26 12. The answer is 6, and we

          needed to know something about cards to answer that question.

            Another caution: how many ways can you select two cards, so that the

       rst one is a red card and the second one is a face card? This looks more

        like the multiplicative principle (you are counting two separate events) but

      the answer is not26 12here either. The problem is that while there are 26

      ways for the  rst card to be selected, it is not the case thatfor eachof those

      there are 12 ways to select the second card. If the  rst card was both red

      and a face card, then there would be only 11 choices for the second card.1

    Example 1.1.5 Counting functions.

          How many functions f : f1;2;3;4;5g ! fa; b; c; dg are there?

        Solution. Remember that a function sends each element of the

        domain to exactly one element of the codomain. To determine a

        function, we just need to specify the image of each element in the

          domain. Where can we send 1? There are 4 choices. Where can we

          send 2? Again, 4 choices. What we have here is 5 “events” (picking

          the image of an element in the domain) each of which can happen in

        4 ways (the choices for that image). Thus there are4 4 4 4 4 45

    functions.

              This is more than just an example of how we can use the

          multiplicative principle in a particular counting question. What


          1To solve this problem, you could break it into two cases. First, count how many ways
          there are to select the two cards when the  rst card is a red non-face card. Second, count
          how many ways when the  rst card is a red face card. Doing so makes the events in each
        separate case independent, so the multiplicative principle can be applied.                                      1.1. Additive and Multiplicative Principles61


          we have here is a general interpretation of certain applications of

          the multiplicative principle using rigorously de ned mathematical

          objects: functions. Whenever we have a counting question that asks

        for the number of outcomes of a repeated event, we can interpret

        that as asking for the number of functions fromf1;2; : : : ; ng(where

        nis the number of times the event is repeated) tof1;2; : : : ; kg(where

    k is the number of ways that event can occur).



                        Counting With Sets

      Do you believe the additive and multiplicative principles? How would

        you convince someone they are correct? This is surprisingly di cult. They

    seem so simple, so obvious. But why do they work?

            To make things clearer, and more mathematically rigorous, we will use

      sets. Do not skip this section! It might seem like we are just trying to give

      a proof of these principles, but we are doing a lot more. If we understand

      the additive and multiplicative principles rigorously, we will be better at

      applying them, and knowing when and when not to apply them at all.

          We will look at the additive and multiplicative principles in a slightly

      di erent way. Instead of thinking about event A and event B, we want to

      think of a setAand a setB. The sets will contain all the di erent ways the

      event can happen. (It will be helpful to be able to switch back and forth

        between these two models when checking that we have counted correctly.)

Here’s what we mean:

Example 1.1.6

      Suppose you own 9 shirts and 5 pairs of pants.

        1. How many out ts can you make?

            2.If today is half-naked-day, and you will wear only a shirt or

            only a pair of pants, how many choices do you have?

        Solution. By now you should agree that the answer to the  rst

      question is9 5 45and the answer to the second question is

        9+5 14. These are the multiplicative and additive principles.

        There are two events: picking a shirt and picking a pair of pants.

        The  rst event can happen in 9 ways and the second event can

      happen in 5 ways. To get both a shirt and a pair of pants, you

        multiply. To get just one article of clothing, you add.

            Now look at this using sets. There are two sets, call themSand

        P. The setScontains all 9 shirts sojSj  9whilejPj  5, since there  62 1. Counting


          are 5 elements in the setP(namely your 5 pairs of pants). What are

          we asking in terms of these sets? Well in question 2, we really want

        jS [ Pj, the number of elements in the union of shirts and pants.

        This is justjSj + jPj(since there is no overlap;jS \Pj  0). Question

        1 is slightly more complicated. Your  rst guess might be to  nd

          jS \Pj, but this is not right (there is nothing in the intersection). We

        are not asking for how many clothing items are both a shirt and a

        pair of pants. Instead, we want one of each. We could think of this

            as asking how many pairsx; ythere are, wherexis a shirt andy

            is a pair of pants. As we will soon verify, this number is jSj   jPj.


            From this example we can see right away how to rephrase our additive

    principle in terms of sets:

        Additive Principle (with sets).

        Given two setsAandB, ifA \ B   ;(that is, if there is no element

      in common to both A and B), then

                            jA [ Bj jAj+jBj.


          This hardly needs a proof. To  ndA [ B, you take everything inAand

      throw in everything inB. Since there is no element in both sets already,

      you will havejAjthings and addjBjnew things to it. This is what adding

      does! Of course, we can easily extend this to any number of disjoint sets.

        From the example above, we see that in order to investigate the

      multiplicative principle carefully, we need to consider ordered pairs. We

    should de ne this carefully:

      Cartesian Product.

        Given sets A and B, we can form the set

                      A   B   fx; y : x 2 A ^ y 2 Bg

            to be the set of all ordered pairsx; ywherexis an element ofA

        andyis an element ofB. We callA   BtheCartesian productofA

    and B.


    Example 1.1.7

        Let A   f1;2g and B   f3;4;5g. Find A   B.

        Solution. We want to  nd ordered pairsa; bwhereacan be either

          1or2andbcan be either 3, 4, or 5.A   Bis the set of all of these                                      1.1. Additive and Multiplicative Principles63


  pairs:

              A   B   f1;3;1;4;1;5;2;3;2;4;2;5g.


        The question is, what isjA   Bj? To  gure this out, write outA   B.

  LetA   fa1; a2; a3; : : : ; amgandB   fb1; b2; b3; : : : ; bng(sojAj  mand

             n). The setA   Bcontains all pairs with the  rst half of the pair
jBj 

      being someai2 Aand the second being one of thebj2 B. In other words:

            A   B   fa1; b1;a1; b2;a1; b3; : : :a1; bn;

                      a2; b1;a2; b2;a2; b3; : : : ;a2; bn;

                      a3; b1;a3; b2;a3; b3; : : : ;a3; bn;

                  :
                  :
                  :

                      am; b1;am; b2;am; b3; : : : ;am; bng.

          Notice what we have done here: we mademrows ofnpairs, for a total

of m   n pairs.

          Each row above is reallyfaig   Bfor someai2 A. That is, we  xed the

  A-element. Broken up this way, we have

          A   B   fa1g   B [ fa2g   B [ fa3g   B [       [ famg   B.

          SoA   Bis really the union ofmdisjoint sets. Each of those sets hasn

      elements in them. The total (using the additive principle) isn + n + n +

      + n   m   n.

  To summarize:

        Multiplicative Principle (with sets).

    Given two sets A and B, we havejA   Bj Aj jBj.
                                          j


          Again, we can easily extend this to any number of sets.  64 1. Counting


                    Principle of Inclusion/Exclusion

      Investigate!

          A recent buzz marketing campaign forVillage Innsurveyed patrons

          on their pie preferences. People were asked whether they enjoyed

          (A) Apple, (B) Blueberry or (C) Cherry pie (respondents answered

            yes or no to each type of pie, and could say yes to more than one

          type). The following table shows the results of the survey.
                Pies enjoyed:A B C AB AC BC ABC

          Number of people:20 13 26 9 15 7 5

                How many of those asked enjoy at least one of the kinds of

        pie? Also, explain why the answer is not 95.

            !Attempt the above activity before proceeding!

            While we are thinking about sets, consider what happens to the additive

      principle when the sets are NOT disjoint. Suppose we want to  ndjA [ Bj

      and know thatjAj 10andjBj 8. This is not enough information though.

      We do not know how many of the 8 elements inBare also elements ofA.

          However, if we also know thatjA \ Bj 6, then we can say exactly how

      many elements are inA, and, of those, how many are inBand how many

          are not (6 of the 10 elements are inB, so 4 are inAbut not inB). We could

     ll in a Venn diagram as follows:


                        AB


                                  642




            This says there are 6 elements inA \ B, 4 elements inA n Band 2

          elements inB n A. Nowthesethree setsaredisjoint, so we can use the

      additive principle to  nd the number of elements inA[B. It is6+4+2 12.

          This will always work, but drawing a Venn diagram is more than we

      need to do. In fact, it would be nice to relate this problem to the case where

          AandBare disjoint. Is there one rule we can make that works in either

case?

          Here is another way to get the answer to the problem above. Start by

        just addingjAj+. This is10+8 18, which would be the answer if
                  jBj

                0. We see that we are o  by exactly 6, which just so happens to
jA \ Bj 

  bejA \ Bj. So perhaps we guess,

                      jA [ Bj jAj+jBjjA \ Bj.                                      1.1. Additive and Multiplicative Principles65


          This works for this one example. Will it always work? Think about

      what we are doing here. We want to know how many things are either in

      AorB(or both). We can throw in everything inA, and everything inB.

      This would givejAj+Bjmany elements. But of course when you actually
                  j

      take the union, you do not repeat elements that are in both. So far we have

      counted every element inA \ Bexactly twice: once when we put in the

      elements fromAand once when we included the elements fromB. We

      correct by subtracting out the number of elements we have counted twice.

      So we added them in twice, subtracted once, leaving them counted only

one time.

  In other words, we have:

      Cardinality of a union (2 sets).

    For any  nite sets A and B,

                      jA [ Bj jAj+jBjjA \ Bj.


    We can do something similar with three sets.

Example 1.1.8

        An examination in three subjects, Algebra, Biology, and Chem-

        istry, was taken by 41 students. The following table shows how

        many students failed in each single subject and in their various

  combinations:
              Subject:A B C AB AC BC ABC

              Failed:12 5 8 2 6 3 1

          How many students failed at least one subject?

          Solution. The answer is not 37, even though the sum of the numbers

        above is 37. For example, while 12 students failed Algebra, 2 of

        those students also failed Biology, 6 also failed Chemistry, and 1

        of those failed all three subjects. In fact, that 1 student who failed

        all three subjects is counted a total of 7 times in the total 37. To

        clarify things, let us think of the students who failed Algebra as

        the elements of the setA, and similarly for setsBandC. The one

        student who failed all three subjects is the lone element of the set

    A \ B \ C. Thus, in Venn diagrams:  66 1. Counting



                            AB


                                  1


                                      C

              Now let’s  ll in the other intersections. We knowA \ Bcontains

          2 elements, but 1 element has already been counted. So we should

            put a 1 in the region whereAandBintersect (butCdoes not).

        Similarly, we calculate the cardinality ofA\C nB, andB \C nA:

                            AB
                                  1

                                  1
                                52


                                      C

              Next, we determine the numbers which should go in the remain-

          ing regions, including outside of all three circles. This last number

        is the number of students who did not fail any subject:

                            AB
                                  1
                              5
                                      1

                                  1
                                52

                                  0
                          26
                                      C

              We found 5 goes in the “Aonly” region because the entire circle

          forAneeded to have a total of 12, and 7 were already accounted for.

          Similarly, we calculate the “Bonly” region to contain only 1 student

          and the “C only” region to contain no students.

            Thus the number of students who failed at least one class is 15

          (the sum of the numbers in each of the eight disjoint regions). The

        number of students who passed all three classes is 26: the total

        number of students, 41, less the 15 who failed at least one class.

              Note that we can also answer other questions. For example, how

        many students failed just Chemistry? None. How many passed

          Algebra but failed both Biology and Chemistry? This corresponds

            to the region inside bothBandCbut outside ofA, containing 2

    students.                                      1.1. Additive and Multiplicative Principles67


          Could we have solved the problem above in an algebraic way? While

      the additive principle generalizes to any number of sets, when we add a

      third set here, we must be careful. With two sets, we needed to know the

    cardinalities ofA,B, andA \ Bin order to  nd the cardinality ofA [ B.

      With three sets we need more information. There are more ways the sets

      can combine. Not surprisingly then, the formula for cardinality of the

    union of three non-disjoint sets is more complicated:

      Cardinality of a union (3 sets).

    For any  nite sets A, B, and C,

        jA [ B [ Cj jAj+jBj+jCjjA \ BjjA \ CjjB \ Cj+jA \ B \ Cj.


          To determine how many elements are in at least one ofA,B, orCwe

      add up all the elements in each of those sets. However, when we do that,

      any element in bothAandBis counted twice. Also, each element in both

    AandCis counted twice, as are elements inBandC, so we take each of

      those out of our sum once. But now what about the elements which are

    inA \ B \ C(in all three sets)? We added them in three times, but also

      removed them three times. They have not yet been counted. Thus we add

  those elements back in at the end.

        Returning to our example above, we havejAj 12,jBj 5,jCj 8.

  We also havejA \ Bj 2,jA \ Cj 6,jB \ Cj 3, andjA \ B \ Cj 1.

Therefore:

                             12 + 5 + 8 2 6 3 + 1   15.
            jA [ B [ Cj 

            This is what we got when we solved the problem using Venn diagrams.

          This process of adding in, then taking out, then adding back in, and so

        on is called thePrinciple of Inclusion/Exclusion, or simply PIE. We will return

      to this counting technique later to solve for more complicated problems

  (involving more than 3 sets).


                            Exercises

    1.Your wardrobe consists of 5 shirts, 3 pairs of pants, and 17 bow ties.

        bow ties How many di erent out ts can you make?

    2.For your college interview, you must wear a tie. You own 3 regular

    (boring) ties and 5 (cool) bow ties.

          (a) How many choices do you have for your neck-wear?

          (b)You realize that the interview is for clown college, so you should

                probably wear both a regular tie and a bow tie. How many

          choices do you have now?  68 1. Counting

              (c)For the rest of your out t, you have 5 shirts, 4 skirts, 3 pants, and

                  7 dresses. You want to select either a shirt to wear with a skirt or

                  pants, or just a dress. How many out ts do you have to choose

          from?

      3.Your Blu-ray collection consists of 9 comedies and 7 horror movies.

          Give an example of a question for which the answer is:

      (a) 16.

      (b) 63.

      4.hexadecimal We usually write numbers in decimal form (or base 10),

            meaning numbers are composed using 10 di erent “digits”f0;1; : : : ;9g.

          Sometimes though it is useful to write numbers hexadecimal or base

          16. Now there are 16 distinct digits that can be used to form numbers:

            f0;1; : : : ;9;A;B;C;D;E;Fg.So for example, a 3 digit hexadecimal

      number might be 2B8.

                (a)How many 2-digit hexadecimals are there in which the  rst digit

                  is E or F? Explain your answer in terms of the additive principle

            (using either events or sets).

                (b)Explain why your answer to the previous part is correct in terms

              of the multiplicative principle (using either events or sets). Why

                  do both the additive and multiplicative principles give you the

          same answer?

                (c)How many 3-digit hexadecimals start with a letter (A-F) and end

            with a numeral (0-9)? Explain.

              (d)How many 3-digit hexadecimals start with a letter (A-F) or end

              with a numeral (0-9) (or both)? Explain.

      5. Suppose you have sets A and B withjAj  10 andjBj  15.

          (a) What is the largest possible value forjA \ Bj?

          (b) What is the smallest possible value forjA \ Bj?

          (c) What are the possible values forjA [ Bj?

  6. IfjAj  8 andjBj  5, what isjA [ Bj+A \ Bj?
                                          j

      7.A group of college students were asked about their TV watching habits.

          Of those surveyed, 28 students watchThe Walking Dead, 19 watchThe

          Blacklist, and 24 watchGame of Thrones. Additionally, 16 watchThe

          Walking DeadandThe Blacklist, 14 watchThe Walking DeadandGame of

          Thrones, and 10 watchThe BlacklistandGame of Thrones. There are 8

          students who watch all three shows. How many students surveyed

        watched at least one of the shows?                                      1.1. Additive and Multiplicative Principles69

    8.In a recent survey, 30 students reported whether they liked their

            potatoes Mashed, French-fried, or Twice-baked. 15 liked them mashed,

          20 liked French fries, and 9 liked twice baked potatoes. Additionally,

          12 students liked both mashed and fried potatoes, 5 liked French fries

          and twice baked potatoes, 6 liked mashed and baked, and 3 liked all

          three styles. How many studentshatepotatoes? Explain why your

    answer is correct.

    9.For how manyn 2 f1;2; : : : ;500gisna multiple of one or more of 5,

  6, or 7?

      10. How many positive integers less than 1000 are multiples of 3, 5, or 7?

          Explain your answer using the Principle of Inclusion/Exclusion.

11. Let A, B, and C be sets.

                                        50,jBj 45,jCj 40,jA \ Bj 
      (a)FindjA [ C n BjprovidedjAj 

          20,jA \ Cj  15,jB \ Cj  23, andjA \ B \ Cj  12.

          (b) Describe a set in terms of A, B, and C with cardinality 26.

      12.Consider all 5 letter “words” made from the lettersathroughh.(Recall,

            words are just strings of letters, not necessarily actual English words.)

        (a) How many of these words are there total?

            (b) How many of these words contain no repeated letters?

            (c) How many of these words start with the sub-word “aha”?

        (d)How many of these words either start with “aha” or end with

        “bah” or both?

          (e)How many of the words containing no repeats also do not contain

          the sub-word “bad”?

      13.For how many three digit numbers (100 to 999) is thesum of the digits

        even? (For example,343has an even sum of digits:3+4+3 10

          which is even.) Find the answer and explain why it is correct in at least

  two di erent ways.

      14.The number 735000 factors as23 3 54 72. How many divisors does

          it have? Explain your answer using the multiplicative principle.  70 1. Counting


                    1.2 Binomial Coefficients


      Investigate!

        In chess, a rook can move only in straight lines (not diagonally).

            Fill in each square of the chess board below with the number

              of di erent shortest paths the rook, in the upper left corner, can

            take to get to that square. For example, one square is already

         lled in. There are six di erent paths from the rook to the square:

        DDRR (down down right right), DRDR, DRRD, RDDR, RDRD

      and RRDD.

                    R


                            6








            !Attempt the above activity before proceeding!

          Here are some apparently di erent discrete objects we can count:

        subsets, bit strings, lattice paths, and binomial coe cients. We will give an

        example of each type of counting problem (and say what these things even

      are). As we will see, these counting problems are surprisingly similar.


                              Subsets

        Subsets should be familiar, otherwise read over Section 0.3 again. Suppose

        we look at the setA   f1;2;3;4;5g. How many subsets ofAcontain

  exactly 3 elements?

          First, a simpler question: How many subsets ofAare there total? In

      other words, what isjPAj(the cardinality of the power set ofA)? Think

      about how we would build a subset. We need to decide, for each of the

          elements ofA, whether or not to include the element in our subset. So

      we need to decide “yes” or “no” for the element 1. And for each choice

      we make, we need to decide “yes” or “no” for the element 2. And so on.

      For each of the 5 elements, we have 2 choices. Therefore the number of

        subsets is simply 2   2   2   2   2   25(by the multiplicative principle).                                                1.2. Binomial Coefficients71


          Of those 32 subsets, how many have 3 elements? This is not obvious.

      Note that we cannot just use the multiplicative principle. Maybe we want

      to say we have 2 choices (yes/no) for the  rst element, 2 choices for the

      second, 2 choices for the third, and then only 1 choice for the other two.

      But what if we said “no” to one of the  rst three elements? Then we would

    have two choices for the 4th element. What a mess!

          Another (bad) idea: we need to pick three elements to be in our subset.

    There are 5 elements to choose from. So there are 5 choices for the  rst

      element, and for each of those 4 choices for the second, and then 3 for the

        third (last) element. The multiplicative principle would say then that there

    are a total of5 4 3 60ways to select the 3-element subset. But this

      cannot be correct (60>32for one thing). One of the outcomes we would

      get from these choices would be the setf3;2;5g, by choosing the element

      3  rst, then the element 2, then the element 5. Another outcome would

    bef5;2;3gby choosing the element 5  rst, then the element 2, then the

      element 3. But these are the same set! We can correct this by dividing: for

      each set of three elements, there are 6 outcomes counted among our 60

      (since there are 3 choices for which element we list  rst, 2 for which we list

      second, and 1 for which we list last). So we expect there to be 10 3-element

subsets of A.

            Is this right? Well, we could list out all 10 of them, being very systematic

    in doing so, to make sure we don’t miss any or list any twice. Or we

      could try to count how many subsets ofAdon’thave 3 elements in them.

      How many have no elements? Just 1 (the empty set). How many have 5?

      Again, just 1. These are the cases in which we say “no” to all elements,

      or “yes” to all elements. Okay, what about the subsets which contain a

      single element? There are 5 of these. We must say “yes” to exactly one

      element, and there are 5 to choose from. This is also the number of subsets

      containing 4 elements. Those are the ones for which we must say “no” to

exactly one element.

          So far we have counted 12 of the 32 subsets. We have not yet counted

      the subsets with cardinality 2 and with cardinality 3. There are a total of

      20 subsets left to split up between these two groups. But the number of

      each must be the same! If we say “yes” to exactly two elements, that can

      be accomplished in exactly the same number of ways as the number of

      ways we can say “no” to exactly two elements. So the number of 2-element

      subsets is equal to the number of 3-element subsets. Together there are 20

of these subsets, so 10 each.

              Number of elements: 0 1 2 3 4 5

              Number of subsets: 1 5 10 10 5 1  72 1. Counting


                              Bit Strings

      “Bit” is short for “binary digit,” so abit stringis a string of binary digits.

      Thebinary digitsare simply the numbers 0 and 1. All of the following

  are bit strings:

                        1001 0 1111 1010101010.

          The number of bits (0’s or 1’s) in the string is thelengthof the string;

      the strings above have lengths 4, 1, 4, and 10 respectively. We also can ask

      how many of the bits are 1’s. The number of 1’s in a bit string is theweight

      of the string; the weights of the above strings are 2, 0, 4, and 5 respectively.

      Bit Strings.

            •Ann-bit stringis a bit string of lengthn. That is, it is a string

              containing n symbols, each of which is a bit, either 0 or 1.

          • The weight of a bit string is the number of 1’s in it.

          • Bnis the set of all n-bit strings.

          n
        • Bis the set of all n-bit strings of weight k.
          k

                                      3
          For example, the elements of the setBare the bit strings 011, 101, and
                                      2
      110. Those are the only strings containing three bits exactly two of which

are 1’s.

          The counting questions: How many bit strings have length 5? How

          many of those have weight 3? In other words, we are asking for the
                      5
    cardinalities jB5j and jBj.
                      3
          To  nd the number of 5-bit strings is straight forward. We have 5 bits,

          and each can either be a 0 or a 1. So there are 2 choices for the  rst bit, 2

      choices for the second, and so on. By the multiplicative principle, there

    are 2   2   2   2   2   25  32 such strings.

          Finding the number of 5-bit strings of weight 3 is harder. Think about

      how such a string could start. The  rst bit must be either a 0 or a 1. In the

       rst case (the string starts with a 0), we must then decide on four more bits.

      To have a total of three 1’s, among those four remaining bits there must be

      three 1’s. To count all of these strings, we must include all 4-bit strings of

      weight 3. In the second case (the string starts with a 1), we still have four

          bits to choose, but now only two of them can be 1’s, so we should look
                                                    5
          at all the 4-bit strings of weight 2. So the strings inBall have the form
                                                    3
  444
          1B(that is, a 1 followed by a string fromB) or0B. These two sets are
  223
    disjoint, so we can use the additive principle:

                            544
                          jBj  
                                         jBj.
                                        3
                              3 jB2j +

        This is an example of arecurrence relation. We represented one

      instance of our counting problem in terms of two simpler instances of the                                                1.2. Binomial Coefficients73

                                            44
    problem. If only we knew the cardinalities ofBandB. Repeating the
                                            23
same reasoning,

              433433
                jBj   jBj + jBj and jBj   jBj + jBj.
              212323

                                                                  3
          We can keep going down, but this should be good enough. BothB
                                                                  1
    3
    andBcontain 3 bit strings: we must pick one of the three bits to be a 1
    2
      (three ways to do that) or one of the three bits to be a 0 (three ways to do
            344
    that). Also,Bcontains just one string: 111. ThusjBj  6andjBj  4,
            323
          5
  which puts Bat a total of 10 strings.
          3
            But wait —32 and 10 were the answers to the counting questions about

      subsets. Coincidence? Not at all. Each bit string can be thought of as a

    codefor a subset. To represent the subsets ofA   f1;2;3;4;5g, we can

    use 5-bit strings, one bit for each element ofA. Each bit in the string is

    a 0 if its corresponding element ofAis not in the subset, and a 1 if the

      element ofAis in the subset. Remember, deciding the subset amounted to

      a sequence of  ve yes/no votes for the elements ofA. Instead of yes, we

put a 1; instead of no, we put a 0.

          For example, the bit string11001represents the subsetf1;2;5gsince

      the  rst, second and  fth bits are 1’s. The subsetf3;5gwould be coded by

      the string 00101. What we really have here is a b¼ection from PA to B5.

            Now for a subset to contain exactly three elements, the corresponding

      bit string must contain exactly three 1’s. In other words, the weight must

      be 3. Thus counting the number of 3-element subsets ofAis the same as

  counting the number 5-bit strings of weight 3.


                            Lattice Paths

      Theinteger latticeis the set of all points in the Cartesian plane for which

      both thexandycoordinates are integers. If you like to draw graphs on

      graph paper, the lattice is the set of all the intersections of the grid lines.

          Alattice pathis one of the shortest possible paths connecting two

        points on the lattice, moving only horizontally and vertically. For example,

      here are three possible lattice paths from the point 0;0 to 3;2:

                  (3,2)(3,2)(3,2)



(0,0)(0,0)(0,0)

          Notice to ensure the path is theshortestpossible, each move must be

      either to the right or up. Additionally, in this case, note that no matter

      what path we take, we must make three steps right and two steps up. No

      matter what order we make these steps, there will always be 5 steps. Thus

each path has length 5.  74 1. Counting


          The counting question: how many lattice paths are there between

          0;0and3;2? We could try to draw all of these, or instead of drawing

          them, maybe just list which direction we travel on each of the 5 steps.

      One path might be RRUUR, or maybe UURRR, or perhaps RURRU (those

      correspond to the three paths drawn above). So how many such strings of

  R’s and U’s are there?

          Notice that each of these strings must contain 5 symbols. Exactly 3 of

      them must be R’s (since our destination is 3 units to the right). This seems

      awfully familiar. In fact, what if we used1’s instead of R’s and 0’s instead

      of U’s? Then we would just have 5-bit strings of weight 3. There are 10 of

        those, so there are 10 lattice paths from (0,0) to (3,2).

            The correspondence between bit strings and lattice paths does not stop

          there. Here is another way to count lattice paths. Consider the lattice

shown below:

                                            (3,2)
                                      A

                                            B



                      (0,0)

          Any lattice path from (0,0) to (3,2) must pass through exactly one ofA

      andB. The pointAis 4 steps away from (0,0) and two of them are towards

          the right. The number of lattice paths toAis the same as the number of

      4-bit strings of weight 2, namely 6. The pointBis 4 steps away from (0,0),

      but now 3 of them are towards the right. So the number of paths to point

          Bis the same as the number of 4-bit strings of weight 3, namely 4. So

          the total number of paths to (3,2) is just6+4. This is the same way we

      calculated the number of 5-bit strings of weight 3. The point: the exact

          same recurrence relation exists for bit strings and for lattice paths.


                          Binomial Coefficients

      Binomial coe cientsare the coe cients in the expanded version of a

        binomial, such asx + y5. What happens when we multiply such a

          binomial out? We will expandx + ynfor various values ofn. Each of

      these are done by multiplying everything out (i.e., FOIL-ing) and then

  collecting like terms.
                                  1
                                       x + y
                            x + y 

                              222
                        x + y  x+ 2x y + y

                          33223
                        x + y  x+ 3xy + 3x y+ y

                      4432234
                    x + y  x+ 4xy + 6xy+ 4x y+ y.                                                1.2. Binomial Coefficients75


        In fact, there is a quicker way to expand the above binomials. For

    example, consider the next one,x + y5. What we are really doing is

multiplying out,

                    x + yx + yx + yx + yx + y.

        If that looks daunting, go back to the case ofx+y3  x+yx+yx+y.

      Why do we only have onex3andy3but threex2yandx y2terms? Every

      time we distribute over anx + ywe create two copies of what is left, one

      multiplied by x, the other multiplied by y. To get x3, we need to pick the

      “multiplied byx” side every time (we don’t have anyy’s in the term). This

      will only happen once. On the other hand, to getx2ywe need to select the

    xside twice and theyside once. In other words, we need to pick one of

    the three x + y terms to “contribute” their y.

          Similarly, in the expansion ofx + y5, there will be only onex5term

    and oney5term. This is because to get anx5, we need to use thexterm

    in each of the copies of the binomialx + y, and similarly fory5. What

    aboutx4y? To get terms like this, we need to use fourx’s and oney, so

      we need exactly one of the  ve binomials to contribute ay. There are 5

      choices for this, so there are 5 ways to getx4y, so the coe cient ofx4yis

      5. This is also the coe cient forx y4for the same (but opposite) reason:

      there are 5 ways to pick which of the 5 binomials contribute the singlex.

So far we have

              554322345
            x + y  x+ 5xy + ?xy+ ?xy+ 5x y+ y.

          We still need the coe cients ofx3y2andx2y3. In both cases, we need

      to pick exactly 3 of the 5 binomials to contribute one variable, the other

      two to contribute the other. Wait. This sounds familiar. We have 5 things,

    each can be one of two things, and we need a total of 3 of one of them.

    That’s just like taking 5 bits and making sure exactly 3 of them are 1’s.

      So the coe cient ofx3y2(and alsox2y3) will be exactly the same as the

      number of bit strings of length 5 and weight 3, which we found earlier to

be 10. So we have:

                554322345
              x + y  x+ 5xy + 10xy+ 10xy+ 5x y+ y.

          These numbers we keep seeing over and over again. They are the

    number of subsets of a particular size, the number of bit strings of a

      particular weight, the number of lattice paths, and the coe cients of these

      binomial products. We will call thembinomial coe cients. We even

                              n 
  have a special symbol for them:.
                              k  76 1. Counting


      Binomial Coe cients.

          For each integern  0and integerkwith0  k   nthere is a

    number  
                                  n
                                    ,
                                  k

      read “n choose k.” We have:

          n n
            •  jBj, the number of n-bit strings of weight k.
          kk

          n 
            •is the number of subsets of a set of sizeneach with
          k
          cardinality k.

          n 
      •
                    is the number of lattice paths of lengthncontainingksteps
          k
          to the right.

          n knkn
            •is the coe cient of xyin the expansion of x + y.
          k

          n 
                  is the number of ways to selectkobjects from a total ofn
      •
          k
          objects.


                                                          n 
        The last bullet point is usually taken as the de nition of. Out ofn
                                                          k
      objects we must choosekof them, so there arenchoosekways of doing

      this. Each of our counting problems above can be viewed in this way:

          •How many subsets off1;2;3;4;5gcontain exactly 3 elements? We

                                                                    5 
            must choose3of the 5 elements to be in our subset. There are
                                                                    3

                                  5 
          ways to do this, so there aresuch subsets.
                                  3

          •How many bit strings have length 5 and weight 3? We must choose

                                      5 5 
          3of the 5 bits to be 1’s. There areways to do this, so there are
                                      33
        such bit strings.

            •How many lattice paths are there from (0,0) to (3,2)? We must choose

                                                    5 
            3 of the 5 steps to be towards the right. There areways to do this,
                                                    3

                  5 
          so there aresuch lattice paths.
                  3

          •What is the coe cient ofx3y2in the expansion ofx + y5? We must

              choose 3 of the 5 copies of the binomial to contribute anx. There are

      5 5 
            ways to do this, so the coe cient is.
      33

            It should be clear that in each case above, we have the right answer. All

      we had to do is phrase the question correctly and it became obvious that

5 
          is correct. However, this does not tell us that the answer is in fact 10 in
3 
                                              n
      each case. We will eventually  nd a formula for, but for now, look back
                                              k
      at how we arrived at the answer 10 in our counting problems above. It all

      came down to bit strings, and we have a recurrence relation for bit strings:

                          nn1n1
                          jBj   jBj + jBj.
                          kk1k                                                1.2. Binomial Coefficients77


          Remember, this is because we can start the bit string with either a 1 or

    a 0. In both cases, we haven 1more bits to pick. The strings starting

    with 1 must containk 1more 1’s, while the strings starting with 0 still

need k more 1’s.
                 
          nn
      SincejBj  , the same recurrence relation holds for binomial
          kk
coe cients:

                          n 
      Recurrence relation for.
                          k
                            
                      nn 1n 1
                           +.
                      kk 1k



                        Pascal’s Triangle

                                    n 
    Let’s arrange the binomial coe cientsinto a triangle like follows:
                                    k
                                
                                0

                                0
                              
                          11

                          01
                          
                      222

                      012
                      
                3333

                0123
                    
          44444

          01234

          This can continue as far down as we like. The recurrence relation for

n 
        tells us that each entry in the triangle is the sum of the two entries
k
    above it. The entries on the sides of the triangle are always 1. This is

      n 
           
    because1for allnsince there is only one way to pick 0 ofnobjects
      0 
  n
    and 1since there is one way to select allnout ofnobjects. Using
  n
      the recurrence relation, and the fact that the sides of the triangle are 1’s,

                                                                  n 
    we can easily replace all the entries above with the correct values of.
                                                                  k
Doing so gives us Pascal’s triangle.

          We can use Pascal’s triangle to calculate binomial coe cients. For

                                            12 
    example, using the triangle below, we can  nd  924.
                                            6  78 1. Counting


                        Pascal’s Triangle



                                  1

                                11

                              121

                            1331

                          14641

                        15101051

                        1615201561

                      172135352171

                    18285670562881

                    193684126126843691

                  1104512021025221012045101

                1115516533046246233016555111

              1126622049579292479249522066121

              11378286715128717161716128771528678131

              11491364100120023003343230032002100136491141

              11510545513653003500564356435500530031365455105151

            116120560182043688008114401287011440800843681820560120161


                              Exercises

  1. Let S   f1;2;3;4;5;6g

          (a) How many subsets are there total?

          (b) How many subsets have f2;3;5g as a subset?

          (c) How many subsets contain at least one odd number?

          (d) How many subsets contain exactly one even number?

  2. Let S   f1;2;3;4;5;6g

          (a) How many subsets are there of cardinality 4?

              (b) How many subsets of cardinality 4 have f2;3;5g as a subset?

            (c)How many subsets of cardinality 4 contain at least one odd

          number?

              (d)How many subsets of cardinality 4 contain exactly one even

          number?                                                1.2. Binomial Coefficients79

3. Let A   f1;2;3; : : : ;9g.

        (a)How many subsets ofAare there? That is,  ndjPAj.Explain.

        (b) How many subsets of A contain exactly 5 elements? Explain.

          (c) How many subsets of A contain only even numbers? Explain.

          (d)How many subsets ofAcontain an even number of elements?

        Explain.

      4.How many9-bit strings (that is, bit strings of length 9) are there which:

          (a) Start with the sub-string 101? Explain.

        (b)Have weight 5 (i.e., contain exactly  ve 1’s) and start with the

          sub-string 101? Explain.

          (c) Either start with 101 or end with 11 (or both)? Explain.

          (d)Have weight 5 and either start with 101 or end with 11 (or both)?

        Explain.

      5.You break your piggy-bank to discover lots of pennies and nickels.

        You start arranging these in rows of 6 coins.

          (a)You  nd yourself making rows containing an equal number of

              pennies and nickels. For fun, you decide to lay out every possible

          such row. How many coins will you need?

        (b)How many coins would you need to make all possible rows

            of 6 coins (not necessarily with equal number of pennies and

        nickels)?

  6. How many 10-bit strings contain 6 or more 1’s?

  7. How many subsets of f0;1; : : : ;9g have cardinality 6 or more?

  8. What is the coe cient of x12in x + 215?

    9.What is the coe cient ofx9in the expansion ofx +114+ x3x +215?

    10. How many lattice paths start at (3,3) and

      (a) end at (10,10)?

        (b) end at (10,10) and pass through (5,7)?

      (c) end at (10,10) and avoid (5,7)?

      11.Gridtown USA, besides having excellent donut shops, is known for its

          precisely laid out grid of streets and avenues. Streets run east-west,

          and avenues north-south, for the entire stretch of the town, never

        curving and never interrupted by parks or schools or the like.  80 1. Counting

            Suppose you live on the corner of 3rd and 3rd and work on the

          corner of 12th and 12th. Thus you must travel 18 blocks to get to work

      as quickly as possible.

                (a)How many di erent routes can you take to work, assuming you

              want to get there as quickly as possible? Explain.

              (b)Now suppose you want to stop and get a donut on the way to

                  work, from your favorite donut shop on the corner of 10th ave

                and 8th st. How many routes to work, stopping at the donut

              shop, can you take (again, ensuring the shortest possible route)?

          Explain.

                (c)Disaster Strikes Gridtown: there is a pothole on 4th ave between

              5th st and 6th st. How many routes to work can you take avoiding

                that unsightly (and dangerous) stretch of road? Explain.

                (d)The pothole has been repaired (phew) and a new donut shop has

                  opened on the corner of 4th ave and 5th st. How many routes to

                  work drive by one or the other (or both) donut shops? Hint: the

            donut shops serve PIE.

      12.Suppose you are ordering a large pizza fromD.P. Dough. You want 3

          distinct toppings, chosen from their list of 11 vegetarian toppings.

            (a) How many choices do you have for your pizza?

              (b)How many choices do you have for your pizza if you refuse to

            have pineapple as one of your toppings?

              (c)How many choices do you have for your pizza if youinsiston

              having pineapple as one of your toppings?

                (d)How do the three questions above relate to each other? Explain.

      13.Explain why the coe cient ofx5y3the same as the coe cient ofx3y5

      in the expansion of x + y8?                                          1.3. Combinations and Permutations81


            1.3 Combinations and Permutations


    Investigate!

          You have a bunch of chips which come in  ve di erent colors: red,

      blue, green, purple and yellow.

            1.How many di erent two-chip stacks can you make if the

            bottom chip must be red or blue? Explain your answer using

              both the additive and multiplicative principles.

            2.How many di erent three-chip stacks can you make if the

              bottom chip must be red or blue and the top chip must be

                green, purple or yellow? How does this problem relate to

          the previous one?

            3.How many di erent three-chip stacks are there in which no

              color is repeated? What about four-chip stacks?

            4.Suppose you wanted to take three di erent colored chips

                and put them in your pocket. How many di erent choices

              do you have? What if you wanted four di erent colored

                chips? How do these problems relate to the previous one?

        !Attempt the above activity before proceeding!

            Apermutationis a (possible) rearrangement of objects. For example,

    there are 6 permutations of the letters a, b, c:

                  abc; acb; bac; bca; cab; cba.

          We know that we have them all listed above —there are 3 choices for

      which letter we put  rst, then 2 choices for which letter comes next, which

      leaves only 1 choice for the last letter. The multiplicative principle says we

multiply 3   2   1.

Example 1.3.1

      How many permutations are there of the letters a, b, c, d, e, f?

          Solution. We do NOT want to try to list all of these out. However,

        if we did, we would need to pick a letter to write down  rst. There

          are 6 choices for that letter. For each choice of  rst letter, there are 5

        choices for the second letter (we cannot repeat the  rst letter; we

          are rearranging letters and only have one of each), and for each of

        those, there are 4 choices for the third, 3 choices for the fourth, 2

        choices for the  fth and  nally only 1 choice for the last letter. So

          there are 6   5   4   3   2   1   720 permutations of the 6 letters.  82 1. Counting


          A piece of notation is helpful here:n!, read “nfactorial”, is the product

      of all positive integers less than or equal ton(for reasons of convenience,

          we also de ne 0! to be 1). So the number of permutation of 6 letters, as

        seen in the previous example is 6!   6   5   4   3   2   1. This generalizes:

      Permutations of n elements.

          There aren!  n  n1   n2          2 1permutations ofn(distinct)

    elements.


      Example 1.3.2 Counting Bijective Functions.

          How many functions f : f1;2; : : : ;8g ! f1;2; : : : ;8g are b¼ective?

          Solution. Remember what it means for a function to be b¼ective:

        each element in the codomain must be the image of exactly one

        element of the domain. Using two-line notation, we could write

    one of these b¼ections as

                          
                          1 2 3 4 5 6 7 8
                                                .
                    f  
                          3 1 5 8 7 6 2 4

        What we are really doing is just rearranging the elements of the

          codomain, so we are creating a permutation of 8 elements. In fact,

          “permutation” is another term used to describe b¼ective functions

      from a  nite set to itself.

              If you believe this, then you see the answer must be8! 

          8 7         1 40320. You can see this directly as well: for each

            element of the domain, we must pick a distinct element of the

        codomain to map to. There are 8 choices for where to send 1, then

        7 choices for where to send 2, and so on. We multiply using the

      multiplicative principle.


          Sometimes we do not want to permute all of the letters/numbers/

  elements we are given.

    Example 1.3.3

          How many 4 letter “words” can you make from the lettersathrough

      f, with no repeated letters?

          Solution. This is just like the problem of permuting 4 letters, only

          now we have more choices for each letter. For the  rst letter, there

        are 6 choices. For each of those, there are 5 choices for the second

          letter. Then there are 4 choices for the third letter, and 3 choices for                                          1.3. Combinations and Permutations83


        the last letter. The total number of words is6 5 4 3 360. This is

          not6!because we never multiplied by 2 and 1. We could start with
                                              6!
    6! and then cancel the 2 and 1, and thus write.
                                              2!


        In general, we can ask how many permutations exist ofkobjects

      choosing those objects from a larger collection ofnobjects. (In the example

    above,k  4, andn  6.) We write this numberPn; kand sometimes

      call it ak-permutation of n elements. From the example above, we see

    that to computePn; kwe must apply the multiplicative principle tok

    numbers, starting with n and counting backwards. For example

                        P10;4   10   9   8   7.

          Notice again thatP10;4starts out looking like10!, but we stop after

      7. We can formally account for this “stopping” by dividing away the part

of the factorial we do not want:

                        10   9   8   7   6   5   4   3   2   110!
            P10;4  
                                                 .
                            6   5   4   3   2   16!

        Careful: The factorial in the denominator is not 4! but rather 10 4!.

      k-permutations of n elements.

        Pn; kis the number ofk-permutations of n elements, the number

      of ways to arrange k objects chosen from n distinct objects.

                    n!
          Pn; k    nn 1n 2       n k 1.
                  n k!

                                          n!
                                                    n!(since we de ned
      Note that whenn   k, we havePn; n  
                                          nn!
      0!to be 1). This makes sense —we already known!gives the number of

  permutations of all n objects.

      Example 1.3.4 Counting injective functions.

        How many functionsf:f1;2;3g ! f1;2;3;4;5;6;7;8gareinjective?

          Solution. Note that it doesn’t make sense to ask for the number of

        b¼ectionshere, as there are none (because the codomain is larger

          than the domain, there are no surjections). But for a function to be

          injective, we just can’t use an element of the codomain more than

  once.

            We need to pick an element from the codomain to be the image

          of 1. There are 8 choices. Then we need to pick one of the remaining

        7 elements to be the image of 2. Finally, one of the remaining 6  84 1. Counting


        elements must be the image of 3. So the total number of functions

    is 8   7   6   P8;3.

              What this demonstrates in general is that the number of injections

        f : A ! B, wherejAj  k andjBj  n, is Pn; k.


            Here is another way to  nd the number ofk-permutations ofnelements:

       rst select whichkelements will be in the permutation, then count how

        many ways there are to arrange them. Once you have selected thekobjects,

      we know there arek!ways to arrange (permute) them. But how do you

          selectkobjects from then? You havenobjects, and you need tochoose

                                n 
        kof them. You can do that inways. Then for each choice of those
                                k
          kelements, we can permutethemink!ways. Using the multiplicative

    principle, we get another formula for Pn; k:

                                      
                                    n
                                          k!.
                            Pn; k  
                                    k

            Now since we have a closed formula forPn; kalready, we can

  substitute that in:  
                            n!n
                                          k!.
                                   
                            n k!k

                                                          n 
          If we divide both sides by k! we get a closed formula for.
                                                          k

                        n 
      Closed formula for.
                        k
            
              nn!nn 1n 2       n k 1
                  .
              kn k!k!kk 1k 2  
                                                      1


                                            n 
        We sayPn; kcountspermutations, andcountscombinations. The
                                            k
        formulas for each are very similar, there is just an extrak!in the denominator

    n n 
        of. That extrak!accounts for the fact thatdoes not distinguish
    kk
          between the di erent orders that thekobjects can appear in. We are

      just selecting (or choosing) thekobjects, not arranging them. Perhaps

      “combination” is a misleading label. We don’t mean it like a combination

        lock (where the order would de nitely matter). Perhaps a better metaphor

          is a combination of  avors — you just need to decide which  avors to

        combine, not the order in which to combine them.

            To further illustrate the connection between combinations and permu-

  tations, we close with an example.                                          1.3. Combinations and Permutations85


Example 1.3.5

          You decide to have a dinner party. Even though you are incredibly

          popular and have 14 di erent friends, you only have enough chairs

  to invite 6 of them.

              1.How many choices do you have for which 6 friends to invite?

            2.What if you need to decide not only which friends to invite

            but also where to seat them along your long table? How many

        choices do you have then?


  Solution.

            1.You must simply choose 6 friends from a group of 14. This

                      14 
              can be done inways. We can  nd this number either by
                      6
                                                  14!
            using Pascal’s triangle or the closed formula:  3003.
                                                  8! 6!

            2. Here you must count all the ways you can permute 6 friends

              chosen from a group of 14. So the answer isP14;6, which
                          14!
          can be calculated as  2162160.
                          8!

              Notice that we can think of this counting problem as a question

            about counting functions: how many injective functions are

              there from your set of 6 chairs to your set of 14 friends (the

            functions are injective because you can’t have a single chair

          go to two of your friends).

          How are these numbers related? Notice thatP14;6ismuch

            14 14 
      larger than. This makes sense.picks 6 friends, butP14;6
              66
        arranges the 6 friends as well as picks them. In fact, we can say

        exactly how much largerP14;6is. In both counting problems

        we choose 6 out of 14 friends. For the  rst one, we stop there, at

          3003 ways. But for the second counting problem, each of those 3003

        choices of 6 friends can be arranged in exactly6!ways. So now we

      have 3003   6! choices and that is exactly 2162160.

              Alternatively, look at the  rst problem another way. We want to

        select 6 out of 14 friends, but we do not care about the order they

      are selected in. To select 6 out of 14 friends, we might try this:

                        14   13   12   11   10   9.

            This is a reasonable guess, since we have 14 choices for the  rst

        guest, then 13 for the second, and so on. But the guess is wrong

        (in fact, that product is exactly2162160  P14;6). It distinguishes

          between the di erent orders in which we could invite the guests.  86 1. Counting


        To correct for this, we could divide by the number of di erent

        arrangements of the 6 guests (so that all of these would count as

          just one outcome). There are precisely6!ways to arrange 6 guests,

      so the correct answer to the  rst question is

                          14   13   12   11   10   9
                                            .
                                  6!

          Note that another way to write this is

                                  14!
                                      .
                                8!   6!

      which is what we had originally.


                              Exercises

    1. A pizza parlor o ers 10 toppings.

              (a)How many 3-topping pizzas could they put on their menu?

              Assume double toppings are not allowed.

                (b)How many total pizzas are possible, with between zero and ten

            toppings (but not double toppings) allowed?

            (c)The pizza parlor will list the 10 toppings in two equal-sized

                  columns on their menu. How many ways can they arrange the

            toppings in the left column?

      2. A combination lock consists of a dial with 40 numbers on it. To open

          the lock, you turn the dial to the right until you reach a  rst number,

            then to the left until you get to second number, then to the right

          again to the third number. The numbers must be distinct. How many

        di erent combinations are possible?

          3.Using the digits 2 through 8,  nd the number of di erent 5-digit

      numbers such that:

          (a) Digits can be used more than once.

          (b) Digits cannot be repeated, but can come in any order.

              (c)Digits cannot be repeated and must be written in increasing

          order.

              (d)Which of the above counting questions is a combination and

              which is a permutation? Explain why this makes sense.                                          1.3. Combinations and Permutations87

    4.In an attempt to clean up your room, you have purchased a new

         oating shelf to put some of your 17 books you have stacked in a

          corner. These books are all by di erent authors. The new book shelf

    is large enough to hold 10 of the books.

        (a)How many ways can you select and arrange 10 of the 17 books

            on the shelf? Notice that here we will allow the books to end up

          in any order. Explain.

          (b)How many ways can you arrange 10 of the 17 books on the shelf

            if you insist they must be arranged alphabetically by author?

        Explain.

      5.Suppose you wanted to draw a quadrilateral using the dots below as

            vertices (corners). The dots are spaced one unit apart horizontally and

    two units apart vertically.






          How many quadrilaterals are possible?

      How many are squares?

        How many are rectangles?

          How many are parallelograms?

              How many are trapezoids? (Here, as in calculus, a trapezoid is

          de ned as a quadrilateral withat leastone pair of parallel sides. In

        particular, parallelograms are trapezoids.)

          How many are trapezoids that are not parallelograms?

      6.How many triangles are there with vertices from the points shown

          below? Note, we are not allowing degenerate triangles - ones with all

          three vertices on the same line, but we do allow non-right triangles.

      Explain why your answer is correct.  88 1. Counting

      7.Ananagramof a word is just a rearrangement of its letters. How many

            di erent anagrams of “uncopyrightable” are there? (This happens to

          be the longest common English word without any repeated letters.)

      8.How many anagrams are there of the word “assesses” that start with

      the letter “a”?

      9. How many anagrams are there of “anagram”?

          10. On a business retreat, your company of 20 executives go gol ng.

              (a)You need to divide up into foursomes (groups of 4 people): a

                   rst foursome, a second foursome, and so on. How many ways

            can you do this?

              (b)After all your hard work, you realize that in fact, you want each

                  foursome to include one of the  ve Board members. How many

            ways can you do this?

        11.How many di erent seating arrangements are possible for King Arthur

        and his 9 knights around their round table?

      12. Consider sets A and B with jAj   10 and jBj   17.

          (a) How many functions f : A ! B are there?

        (b) How many functions f : A ! B are injective?

        13. Consider functions f : f1;2;3;4g ! f1;2;3;4;5;6g.

        (a) How many functions are there total?

            (b) How many functions are injective?

            (c)How many of the injective functions areincreasing? To be

              increasing means that ifa < bthenfa < fb,or in other

                words, the outputs get larger as the inputs get larger.

                                                n!
        14.We have seen that the formula forPn; kis. Your task here is
                                              n k!
        to explain why this is the right formula.

              (a)Suppose you have 12 chips, each a di erent color. How many

                  di erent stacks of 5 chips can you make? Explain your answer

                and why it is the same as using the formula for P12;5.

              (b)Using the scenario of the 12 chips again, what does12!count?

            What does 7! count? Explain.

              (c)Explain why it makes sense to divide12!by7!when computing

            P12;5 (in terms of the chips).

              (d)Does your explanation work for numbers other than 12 and 5?
                                        n!
              Explain the formulaPn; k  using the variablesnandk.
                                      nk!                                                1.4. Combinatorial Proofs89


                  1.4 Combinatorial Proofs


    Investigate!

              1.The Stanley Cup is decided in a best of 7 tournament between

              two teams. In how many ways can your team win? Let’s

            answer this question two ways:

                (a)How many of the 7 games does your team need to win?

                How many ways can this happen?

              (b)What if the tournament goes all 7 games? So you win

                the last game. How many ways can the  rst 6 games

            go down?

                (c)What if the tournament goes just 6 games? How many

                  ways can this happen? What about 5 games? 4 games?

                (d)What are the two di erent ways to compute the number

                of ways your team can win? Write down an equation

                                                    n 
                  involving binomial coe cients (that is,’s). What
                                                    k
                  pattern in Pascal’s triangle is this an example of?

          2.Generalize. What if the rules changed and you played a

            best of9tournament (5 wins required)? What if you played

              anngame tournament withkwins required to be named

        champion?

        !Attempt the above activity before proceeding!



                  Patterns in Pascal’s Triangle

      Have a look again at Pascal’s triangle. Forget for a moment where it comes

    from. Just look at it as a mathematical object. What do you notice?


                                1

                              11

                            121

                          1331

                        14641

                      15101051

                    1615201561

                  172135352171  90 1. Counting


          There are lots of patterns hidden away in the triangle, enough to  ll a

          reasonably sized book. Here are just a few of the most obvious ones:

      1. The entries on the border of the triangle are all 1.

          2. Any entry not on the border is the sum of the two entries above it.

          3.The triangle is symmetric. In any row, entries on the left side are

        mirrored on the right side.

          4.The sum of all entries on a given row is a power of 2. (You should

      check this!)

          We would like to state these observations in a more precise way, and

      then prove that they are correct. Now each entry in Pascal’s triangle is in

                                                              0 
          fact a binomial coe cient. The 1 on the very top of the triangle is. The
                                                              0
      next row (which we will call row 1, even though it is not the top-most row)

            1 1 
        consists ofand. Row 4 (the row 1, 4, 6, 4, 1) consists of the binomial
            01
  coe cients              
                          44444
                                            .
                          01234

          Given this description of the elements in Pascal’s triangle, we can

    rewrite the above observations as follows:


      n n 
            1 and  1.
  1.
      0n

        n n1 n1 
    2. +.
      kk1k

      n n 
  3. .
      knk

        n n n n n
    4.+++       +  2.
      012n

          Each of these is an example of abinomial identity: an identity (i.e.,

    equation) involving binomial coe cients.

          Our goal is to establish these identities. We wish to prove that they

          hold for all values ofnandk. These proofs can be done in many ways.

                                                                  n 
          One option would be to give algebraic proofs, using the formula for:
                                                                  k
                            
                            nn!
                               .
                            kn k!k!

            Here’s how you might do that for the second identity above.

    Example 1.4.1

          Give an algebraic proof for the binomial identity

                              
                        nn 1n 1
                             +.
                        kk 1k                                                1.4. Combinatorial Proofs91


  Solution.

                            n 
      Proof. By the de nition of, we have
                            k
          
          n 1n 1!n 1!
                  
          k 1n 1 k 1!k 1!n k!k 1!

  and  
                      n 1n 1!
                                            .
                             
                        kn 1 k!k!

          Thus, starting with the right-hand side of the equation:

            
          n 1n 1n 1!n 1!
                + +
            k 1kn k!k 1!n 1 k!k!

                              n 1!kn 1!n k
                           
                                      +
                              n k!k!n k!k!

                              n 1!k + n k
                           
                                n k!k!
                                n!
                           
                            n k!k!
                              
                            n
                              .
                           
                            k

            The second line (where the common denominator is found)

      works because kk 1!   k! and n kn k 1!   n k!.  


          This is certainly a valid proof, but also is entirely useless. Even if you

      understand the proof perfectly, it does not tell youwhythe identity is true.

                                          n 
    A better approach would be to explain whatmeansand then say why
                                          k

                n1 n1 
  that is also what+means. Let’s see how this works for the four
              k1k
identities we observed above.

Example 1.4.2


              n n 
    Explain why  1 and  1.
              0n

                                                              n 
        Solution. What do these binomial coe cients tell us? Well,
                                                              0
        gives the number of ways to select 0 objects from a collection ofn

        objects. There is only one way to do this, namely to not select any

                      n n 
                         
      of the objects. Thus1. Similarly,gives the number of ways
                    0n
        to selectnobjects from a collection ofnobjects. There is only one

                                        n 
      way to do this: select all n objects. Thus  1.
                                        n 
                                n
          Alternatively, we know thatis the number ofn-bit strings
                                  0
          with weight 0. There is only one such string, the string of all 0’s. So  92 1. Counting



    n n 
                 1. Similarlyis the number ofn-bit strings with weightn.
    0n
        There is only one string with this property, the string of all 1’s.

                      n 
                Another way:gives the number of subsets of a set of sizen
                      0
          containing 0 elements. There is only one such subset, the empty set.

    n 
            gives the number of subsets containingnelements. The only
    n
        such subset is the original set (of all elements).


    Example 1.4.3




                  n n1 n1 
    Explain why
                   
                          +
                                .
                  kk1k

                                                                n 
            Solution. The easiest way to see this is to consider bit strings.
                                                                k
            is the number of bit strings of lengthncontainingk1’s. Of all of

        these strings, some start with a 1 and the rest start with a 0. First

        consider all the bit strings which start with a 1. After the 1, there

        must ben 1more bits (to get the total length up ton) and exactly

            k 1of them must be 1’s (as we already have one, and we needk

                                                              n1 
        total). How many strings are there like that? There are exactly
                                                              k1
        such bit strings, so of all the lengthnbit strings containingk1’s,

    n1 n1 
            of them start with a 1. Similarly, there arewhich start
    k1k
            with a 0 (we still needn 1bits and nowkof them must be 1’s).

                  n1 
          Since there arebit strings containingn 1bits withk1’s, that
                    k
        is the number of lengthnbit strings withk1’s which start with a 0.

              n n1 n1 
    Therefore +.
              kk1k
              Another way: consider the question, how many ways can you

        selectkpizza toppings from a menu containingnchoices? One

                        n 
        way to do this is just. Another way to answer the same question
                        k
            is to  rst decide whether or not you want anchovies. If you do

            want anchovies, you still need to pickk 1toppings, now from

                                          n1 
        justn 1choices. That can be done inways. If you do not
                                          k1
        want anchovies, then you still need to selectktoppings fromn 1

                                                    n1 
        choices (the anchovies are out). You can do that inways. Since
                                                    k
        the choices with anchovies are disjoint from the choices without

                                  n1 n1 
                                      +
          anchovies, the total choices are. But wait. We answered
                                  k1k
          the same question in two di erent ways, so the two answers must

                      n n1 n1 
      be the same. Thus +.
                      kk1k
              You can also explain (prove) this identity by counting subsets,

    or even lattice paths.                                                1.4. Combinatorial Proofs93


Example 1.4.4


                            n n 
      Prove the binomial identity .
                            knk

                                n 
      Solution. Why is this true?counts the number of ways to
                                k 
                                                  n
      selectkthings fromnchoices. On the other hand,counts the
                                                  nk
      number of ways to selectn kthings fromnchoices. Are these

        really the same? Well, what if instead of selecting then kthings

          you choose to exclude them. How many ways are there to choose

                                                      n 
      n k things to exclude from n choices. Clearly this isas well
                                                      nk
          (it doesn’t matter whether you include or exclude the things once

        you have chosen them). And if you excluden kthings, then you

        are including the otherkthings. So the set of outcomes should be

  the same.

            Let’s try the pizza counting example like we did above. How

          many ways are there to pickktoppings from a list ofnchoices? On

                                    n 
        the one hand, the answer is simply. Alternatively, you could
                                    k
        make a list of all the toppings you don’t want. To end up with a

          pizza containing exactlyktoppings, you need to picknktoppings

                                  n 
        to not put on the pizza. You havechoices for the toppings you
                                  nk
        don’t want. Both of these ways give you a pizza withktoppings,

        in fact all the ways to get a pizza withktoppings. Thus these two


                            n n 
                               .
    answers must be the same:
                            knk
            You can also prove (explain) this identity using bit strings,

                                                        n 
        subsets, or lattice paths. The bit string argument is nice:counts
                                                        k
      the number of bit strings of lengthnwithk1’s. This is also the

        number of bit string of lengthnwithk0’s (just replace each 1 with

        a 0 and each 0 with a 1). But if a string of lengthnhask0’s, it must

                                      n 
      haven k1’s. And there are exactlystrings of lengthnwith
                                      nk
  n k 1’s.


Example 1.4.5


                              n n n n n
      Prove the binomial identity+++       +  2.
                              012n

          Solution. Let’s do a “pizza proof” again. We need to  nd a question

          about pizza toppings which has2nas the answer. How about this:

        If a pizza joint o ersntoppings, how many pizzas can you build

        using any number of toppings from no toppings to all toppings,

    using each topping at most once?

            On one hand, the answer is2n. For each topping you can say

      “yes” or “no,” so you have two choices for each topping.  94 1. Counting


          On the other hand, divide the possible pizzas into disjoint

          groups: the pizzas with no toppings, the pizzas with one topping,

          the pizzas with two toppings, etc. If we want no toppings, there is

        only one pizza like that (the empty pizza, if you will) but it would

                                      n 
            be better to think of that number assince we choose 0 of then
                                      0
          toppings. How many pizzas have 1 topping? We need to choose 1

                        n 
        of the n toppings, so. We have:
                        1

                                n 
          • Pizzas with 0 toppings:
                                0

                                n 
        • Pizzas with 1 topping:
                                1

                                n 
          • Pizzas with 2 toppings:
                                2

        :
        :
      •:

                                n 
        • Pizzas with n toppings:.
                                n

            The total number of possible pizzas will be the sum of these,

        which is exactly the left-hand side of the identity we are trying to

    prove.

            Again, we could have proved the identity using subsets, bit

          strings, or lattice paths (although the lattice path argument is a little

    tricky).


            Hopefully this gives some idea of how explanatory proofs of binomial

      identities can go. It is worth pointing out that more traditional proofs can

      also be beautiful.2For example, consider the following rather slick proof

  of the last identity.

      Expand the binomial x + yn:

                      
        nnnnn1nn22nnnn
    x + y x+xy +xy+       +x   y+y.
            012n 1n

      Let x   1 and y   1. We get:

                      
        nnnnn1nn22nnnn
    1 + 1 1+11 +11+       +1   1+1.
            012n 1n

        Of course this simpli es to:

                              
                  nnnnnn
              2 +++       ++.
                      012n 1n

          Something fun to try: Let x   1 and y   2. Neat huh?

          2Most every binomial identity can be proved using mathematical induction, using the
                     
          recursive de nition forn. We will discuss induction in Section 2.5.
                    k                                                1.4. Combinatorial Proofs95


                          More Proofs

      The explanatory proofs given in the above examples are typically called

      combinatorial proofs. In general, to give a combinatorial proof for a

  binomial identity, say A   B you do the following:

          1. Find a counting problem you will be able to answer in two ways.

      2. Explain why one answer to the counting problem is A.

        3. Explain why the other answer to the counting problem is B.

        Since bothAandBare the answers to the same question, we must

have A   B.

          The tricky thing is coming up with the question. This is not always

      obvious, but it gets easier the more counting problems you solve. You will

      start to recognize types of answers as the answers to types of questions.

      More often what will happen is you will be solving a counting problem

      and happen to think up two di erent ways of  nding the answer. Now

      you have a binomial identity and the proof is right there. The proofisthe

      problem you just solved together with your two solutions.

      For example, consider this counting question:

        How many 10-letter words use exactly four A’s, three B’s, two

    C’s and one D?

    Let’s try to solve this problem. We have 10 spots for letters to go. Four

                                                      10 
    of those need to be A’s. We can pick the four A-spots inways. Now
                                                      4
      where can we put the B’s? Well there are only 6 spots left, we need to pick

                            6 
    3of them. This can be done inways. The two C’s need to go in two of
                            3

                                3 
      the 3 remaining spots, so we haveways of doing that. That leaves just
                                2

                                                1 
    one spot of the D, but we could write that 1 choice as. Thus the answer
                                                1
is:           
                            10631
                                        .
                            4321

          But why stop there? We can  nd the answer another way too. First

      let’s decide where to put the one D: we have 10 spots, we need to choose 1

                            10 9 
    of them, so this can be done inways. Next, choose one of theways
                            12
    to place the two C’s. We now have7spots left, and three of them need

                            7 
    to be  lled with B’s. There areways to do this. Finally the A’s can be
                            3

        4 
      placed in(that is, only one) ways. So another answer to the question is
        4
                                     
                            10974
                                        .
                            1234

      Interesting. This gives us the binomial identity:
                                        
                    1063110974
                                 .
                    43211234  96 1. Counting


            Here are a couple more binomial identities with combinatorial proofs.

    Example 1.4.6

      Prove the identity

                                                        
                                                      n + 2
            1n + 2n 1 + 3n 2 +       + n 12 + n1  .
                                                        3


        Solution. To give a combinatorial proof we need to think up a

        question we can answer in two ways: one way needs to give the

          left-hand-side of the identity, the other way needs to be the right-

          hand-side of the identity. Our clue to what question to ask comes

                              n+2 
        from the right-hand side:counts the number of ways to select
                              3
            3 things from a group ofn +2things. Let’s name those things

        1;2;3; : : : ; n +2. In other words, we want to  nd 3-element subsets

          of those numbers (since order should not matter, subsets are exactly

            the right thing to think about). We will have to be a bit clever

        to explain why the left-hand-side also gives the number of these

      subsets. Here’s the proof.

        Proof. Consider the question “How many 3-element subsets are

            there of the set f1;2;3; : : : ; n + 2g?” We answer this in two ways:

              Answer 1: We must select 3 elements from the collection ofn +2

                                  n+2 
                                      ways.
      elements. This can be done in
                                  3
              Answer 2: Break this problem up into cases by what the middle

            number in the subset is. Say each subset isfa; b; cgwritten in

          increasing order. We count the number of subsets for each distinct

        value ofb. The smallest possible value ofbis2, and the largest is

    n + 1.

            Whenb  2, there are1  nsubsets: 1 choice foraandnchoices

    (3 through n + 2) for c.

              Whenb  3, there are2  n 1subsets: 2 choices foraandn 1

    choices for c.

              Whenb  4, there are3  n2subsets: 3 choices foraandn2

    choices for c.

            And so on. Whenb   n +1, there arenchoices foraand only 1

      choice for c, so n   1 subsets.

            Therefore the total number of subsets is

                1n + 2n 1 + 3n 2 +       + n 12 + n1.                                                1.4. Combinatorial Proofs97


              Since Answer 1 and Answer 2 are answers to the same question,

    they must be equal. Therefore

                                                      
                                                    n + 2
        1n + 2n 1 + 3n 2 +       + n 12 + n1  .
                                                      3

                                                               


Example 1.4.7

    Prove the binomial identity

                        
                                          2
                              2
                        2
                  2
                nnnn2n
                                                  .
                                             
                                +       +
                          +
                  +
                012nn


        Solution. We will give two di erent proofs of this fact. The  rst

          will be very similar to the previous example (counting subsets). The

      second proof is a little slicker, using lattice paths.

        Proof. Consider the question: “How many pizzas can you make

        using n toppings when there are 2n toppings to choose from?”

              Answer 1: There are2ntoppings, from which you must choose

                        2n 
    n. This can be done inways.
                        n
            Answer 2: Divide the toppings into two groups ofntoppings

        (perhapsnmeats andnveggies). Any choice ofntoppings must

          include some number from the  rst group and some number from

          the second group. Consider each possible number of meat toppings

  separately:


              n  n 
          0 meats:, since you need to choose 0 of thenmeats andn
              0n
  of the n veggies.

              n  n 
          1 meat:, since you need 1 ofnmeats son 1ofn
              1n1
  veggies.

              n  n 
          2 meats:. Choose 2 meats and the remainingn 2
                2n2
    toppings from the n veggies.

                                                            n  n 
          And so on. The last case isnmeats, which can be done in
                                                            n0
ways.

          Thus the total number of pizzas possible is

                              
          nnnnnnnn
                +++       +.
            0n1n 12n 2n0


                                                          n n 
        This is not quite the left-hand side . . . yet. Notice that 
                                                          n0  
        nn
        and and so on, by the identity in Example 1.4.4. Thus
      n11  98 1. Counting


      we do indeed get

                            
                        2222
                      nnnn
                        +++       +.
                      012n

              Since these two answers are answers to the same question, they

      must be equal, and thus

                          
                    2222
                  nnnn2n
                      +++       + .
                  012nn

                                                                   

              For an alternative proof, we use lattice paths. This is reasonable

          to consider because the right-hand side of the identity reminds us

      of the number of paths from 0;0 to n; n.

        Proof. Consider the question: How many lattice paths are there

    from 0;0 to n; n?

            Answer 1: We must travel2nsteps, andnof them must be in

                                    2n 
        the up direction. Thus there arepaths.
                                    n
          Answer 2: Note that any path from0;0ton; nmust cross the

        linex + y   n. That is, any path must pass through exactly one of

      the points:0; n,1; n 1,2; n 2, . . . ,n;0. For example, this

      is what happens in the case n   4:

                                        (4,4)(0,4)

                              (1,3)

                                (2,2)

                                    (3,1)

                                        (4,0)
                        (0,0)x +
                                             y   4

            How many paths pass through0; n? To get to that point, you

            must travelnunits, and0of them are to the right, so there are

    n 
            ways to get to0; n. From0; nton; ntakesnsteps, and0
    0 
                                n
        of them are up. So there areways to get from0; nton; n.
                                0  
                        n n
        Therefore there arepaths from0;0ton; nthrough the
                        00
    point 0; n.

                                                n 
              What about through1; n 1. There arepaths to get there
                                                1 
                                n
            (nsteps, 1 to the right) andpaths to complete the journey to
                                1  
                                      n n
          n; n(nsteps,1up). So there arepaths from0;0ton; n
                                      11
    through 1; n 1.

            In general, to get ton; nthrough the pointk; n kwe have

    n n 
              paths to the midpoint and thenpaths from the midpoint
    kk                                                1.4. Combinatorial Proofs99



                          n  n 
      ton; n. So there arepaths from0;0ton; nthrough
                        kk
  k; n k.

          All together then the total paths from0;0ton; npassing

      through exactly one of these midpoints is

                          
                      2222
                    nnnn
                        +++       +.
                  012n

              Since these two answers are answers to the same question, they

    must be equal, and thus

                        
                  2222
                nnnn2n
                    +++       + .
                012nn

                                                               


                            Exercises

      1. Give a combinatorial proof of the identity 2 + 2 + 2   3   2.

      2.Suppose you ownxfezzes andybow ties. Of course,xandyare both

  greater than 1.

          (a)How many combinations of fez and bow tie can you make? You

              can wear only one fez and one bow tie at a time. Explain.


                                        x+y x y 
          (b)Explain why the answer isalso. (If this is what

                                        222
            you claimed the answer was in part (a), try it again.)

              (c)Use your answers to parts (a) and (b) to give a combinatorial

          proof of the identity

                                
                          x + yxy
                                              x y:.
                            222

      3. How many triangles can you draw using the dots below as vertices?






            (a)Find an expression for the answer which is the sum of three

            terms involving binomial coe cients.

          (b)Find an expression for the answer which is the di erence of two

          binomial coe cients.  100 1. Counting

                (c)Generalize the above to state and prove a binomial identity using

                  a combinatorial proof. Say you havexpoints on the horizontal

              axis and y points in the semi-circle.

      4.Consider all the triangles you can create using the points shown below

            as vertices. Note, we are not allowing degenerate triangles (ones with

            all three vertices on the same line) but we do allow non-right triangles.









              (a)Find the number of triangles, and explain why your answer is

          correct.

              (b)Find the number of triangles again, using a di erent method.

              Explain why your new method works.

                (c)State a binomial identity that your two answers above establish

              (that is, give the binomial identity that your two answers a proof

              for). Then generalize this using m’s and n’s.

          5.A woman is getting married. She has 15 best friends but can only

          select 6 of them to be her bridesmaids, one of which needs to be her

          maid of honor. How many ways can she do this?

              (a)What if she  rst selects the 6 bridesmaids, and then selects one

              of them to be the maid of honor?

            (b)What if she  rst selects her maid of honor, and then 5 other

          bridesmaids?

                        15 14 
        (c) Explain why 6  15.
                        65

  6. Consider the identity:

                                  
                                nn 1
                              k  n.
                                kk 1

            (a) Is this true? Try it for a few values of n and k.

                              n 
                                    to give an algebraic proof of the identity.
        (b)Use the formula for
                              k

            (c) Give a combinatorial proof of the identity.


                                              n  n2 n  k 
                                                     .
    7. Give a combinatorial proof of the identity
                                              2k2k2                                                1.4. Combinatorial Proofs101

  8. Consider the binomial identity

                        
                nnnn
                                                  n1
                    + 2+ 3+       + n  n2.
                123n

          (a)Give a combinatorial proof of this identity. Hint: What if some

            number of a group ofnpeople wanted to go to an escape room,

            and among those going, one needed to be the team captain?

        (b)Give an alternate proof by multiplying out1+ xnand taking

          derivatives of both sides.

                                                                n+1 
                                                                    .
  9. Give a combinatorial proof for the identity 1 + 2 + 3 +       + n  
                                                                2

                            6
    10. Consider the bit strings in B(bit strings of length 6 and weight 2).
                            2

        (a) How many of those bit strings start with 1?

          (b) How many of those bit strings start with 01?

          (c) How many of those bit strings start with 001?

        (d)Are there any other strings we have not counted yet? Which

          ones, and how many are there?

                                              6
        (e) How many bit strings are there total in B?
                                              2

          (f)What binomial identity have you just given a combinatorial proof

        for?

      11.Let’s countternarydigit strings, that is, strings in which each digit

  can be 0, 1, or 2.

            (a) How many ternary digit strings contain exactly n digits?

        (b)How many ternary digit strings contain exactlyndigits andn

        2’s.

          (c)How many ternary digit strings contain exactlyndigits andn1

            2’s. (Hint: where can you put the non-2 digit, and then what

        could it be?)

          (d)How many ternary digit strings contain exactlyndigits andn2

          2’s. (Hint: see previous hint)

        (e)How many ternary digit strings contain exactlyndigits and

        n k 2’s.

          (f)How many ternary digit strings contain exactlyndigits and no

          2’s. (Hint: what kind of a string is this?)  102 1. Counting

                (g)Use the above parts to give a combinatorial proof for the identity

                            
                  nnnnn
                                23nn
                        + 2+ 2+ 2+       + 2  3.
                  0123n

      12.How many ways are there to rearrange the letters in the word “rear-

            range”? Answer this question in at least two di erent ways to establish

      a binomial identity.

        13. Establish the identity below using a combinatorial proof.

                                
          2n3n 14n 2n2n + 3
                +++       + .
          222222225

      14.In Example 1.4.5 we established that the sum of any row in Pascal’s

        triangle is a power of two. Speci cally,

                              
                      nnnn
                                                  n
                          +++       +  2.
                      012n

          The argument given there used the counting question, “how many

          pizzas can you build using any number ofndi erent toppings?” To

          practice, give new proofs of this identity using di erent questions.

          (a) Use a question about counting subsets.

            (b) Use a question about counting bit strings.

          (c) Use a question about counting lattice paths.                                                  1.5. Stars and Bars103


                    1.5 Stars and Bars


    Investigate!

        Suppose you have some number of identical Rubik’s cubes to

        distribute to your friends. Imagine you start with a single row of

  the cubes.

            1.Find the number of di erent ways you can distribute the

          cubes provided:

              (a) You have 3 cubes to give to 2 people.

          (b) You have 4 cubes to give to 2 people.

              (c) You have 5 cubes to give to 2 people.

            (d) You have 3 cubes to give to 3 people.

              (e) You have 4 cubes to give to 3 people.

              (f) You have 5 cubes to give to 3 people.

              2.Make a conjecture about how many di erent ways you could

            distribute 7 cubes to 4 people. Explain.

            3.What if each person were required to getat least onecube?

            How would your answers change?

        !Attempt the above activity before proceeding!

        Consider the following counting problem:

            You have 7 cookies to give to 4 kids. How many ways can you

    do this?

      Take a moment to think about how you might solve this problem. You

      may assume that it is acceptable to give a kid no cookies. Also, the cookies

      are all identical and the order in which you give out the cookies does not

matter.

          Before solving the problem, here is a wrong answer: You might guess

      that the answer should be47because for each of the 7 cookies, there are 4

      choices of kids to which you can give the cookie. This is reasonable, but

      wrong. To see why, consider a few possible outcomes: we could assign the

       rst six cookies to kid A, and the seventh cookie to kid B. Another outcome

      would assign the  rst cookie to kid B and the six remaining cookies to

      kid A. Both outcomes are included in the47answer. But for our counting

      problem, both outcomes are really the same – kid A gets six cookies and

kid B gets one cookie.  104 1. Counting


          What do outcomes actually look like? How can we represent them?

      One approach would be to write an outcome as a string of four numbers

like this:

                                3112,

      which represent the outcome in which the  rst kid gets 3 cookies, the

      second and third kid each get 1 cookie, and the fourth kid gets 2 cookies.

        Represented this way, the order in which the numbers occur matters. 1312

      is a di erent outcome, because the  rst kid gets a one cookie instead of

      3. Each number in the string can be any integer between 0 and 7. But the

      answer is not 74. We need the sum of the numbers to be 7.

            Another way we might represent outcomes is to write a string of seven

letters:

                              ABAADCD,

      which represents that the  rst cookie goes to kid A, the second cookie goes

          to kid B, the third and fourth cookies go to kid A, and so on. In fact, this

      outcome is identical to the previous one—A gets 3 cookies, B and C get 1

      each and D gets 2. Each of the seven letters in the string can be any of the

      4 possible letters (one for each kid), but the number of such strings is not

      47, because here order doesnotmatter. In fact, another way to write the

  same outcome is

                              AAABCDD.

            This will be the preferred representation of the outcome. Since we can

      write the letters in any order, we might as well write them inalphabetical

      order for the purposes of counting. So we will write all the A’s  rst, then

  all the B’s, and so on.

          Now think about how you could specify such an outcome. All we

          really need to do is say when to switch from one letter to the next. In

      terms of cookies, we need to say after how many cookies do we stop giving

          cookies to the  rst kid and start giving cookies to the second kid. And

      then after how many do we switch to the third kid? And after how many

      do we switch to the fourth? So yet another way to represent an outcome is

like this:

                                   j   j   j    .

          Three cookies go to the  rst kid, then we switch and give one cookie to

      the second kid, then switch, one to the third kid, switch, two to the fourth

      kid. Notice that we need 7 stars and 3 bars – one star for each cookie, and

      one bar for each switch between kids, so one fewer bars than there are

        kids (we don’t need to switch after the last kid – we are done).

          Why have we done all of this? Simple: to count the number of ways to

      distribute 7 cookies to 4 kids, all we need to do is count how manystars and

      barscharts there are. But astars and bars chartis just a string of symbols,                                                  1.5. Stars and Bars105


      some stars and some bars. If instead of stars and bars we would use 0’s

    and 1’s, it would just be a bit string. We know how to count those.

            Before we get too excited, we should make sure that reallyanystring of

      (in our case) 7 stars and 3 bars corresponds to a di erent way to distribute

    cookies to kids. In particular consider a string like this:

                            j       jj        .

          Does that correspond to a cookie distribution? Yes. It represents the

      distribution in which kid A gets 0 cookies (because we switch to kid B

    before any stars), kid B gets three cookies (three stars before the next

    bar), kid C gets 0 cookies (no stars before the next bar) and kid D gets

      the remaining 4 cookies. No matter how the stars and bars are arranged,

      we can distribute cookies in that way. Also, given any way to distribute

      cookies, we can represent that with a stars and bars chart. For example,

      the distribution in which kid A gets 6 cookies and kid B gets 1 cookie has

the following chart:

                                      j   jj.

            After all that work we are  nally ready to count. Each way to distribute

      cookies corresponds to a stars and bars chart with 7 stars and 3 bars. So

    there are 10 symbols, and we must choose 3 of them to be bars. Thus:

                    
                  10
            There areways to distribute 7 cookies to 4 kids.
                  3

          While we are at it, we can also answer a related question: how many

      ways are there to distribute 7 cookies to 4 kids so that each kid gets at least

      one cookie? What can you say about the corresponding stars and bars

      charts? The charts must start and end with at least one star (so that kids A

      and D) get cookies, and also no two bars can be adjacent (so that kids B

      and C are not skipped). One way to assure this is to place bars only in the

      spacesbetweenthe stars. With 7 stars, there are 6 spots between the stars,

                                                                  6 
    so we must choose 3 of those 6 spots to  ll with bars. Thus there are
                                                                  3
      ways to distribute 7 cookies to 4 kids giving at least one cookie to each kid.

          Another (and more general) way to approach this modi ed problem

      is to  rst give each kid one cookie. Now the remaining 3 cookies can be

      distributed to the 4 kids without restrictions. So we have 3 stars and 3

      bars for a total of 6 symbols, 3 of which must be bars. So again we see that

        6 
there are
            ways to distribute the cookies.
        3
          Stars and bars can be used in counting problems other than kids and

  cookies. Here are a few examples:  106 1. Counting


    Example 1.5.1

          Your favorite mathematical ice-cream parlor o ers 10  avors. How

          many milkshakes could you create using exactly 6, not necessarily

          distinct scoops? The order you add the  avors does not matter (they

        will be blended up anyway) but you are allowed repeats. So one

          possible shake is triple chocolate, double cherry, and mint chocolate

    chip.

            Solution. We get six scoops, each of which could be one of ten

        possible  avors. Represent each scoop as a star. Think of going

          down the counter one  avor at a time: you see vanilla  rst, and skip

        to the next, chocolate. You say yes to chocolate three times (use

          three stars), then switch to the next  avor. You keep skipping until

          you get to cherry, which you say yes to twice. Another switch and

        you are at mint chocolate chip. You say yes once. Then you keep

          switching until you get past the last  avor, never saying yes again

          (since you already have said yes six times). There are ten  avors to

          choose from, so we must switch from considering one  avor to the

        next nine times. These are the nine bars.

            Now that we are con dent that we have the right number of

          stars and bars, we answer the question simply: there are 6 stars and

        9 bars, so 15 symbols. We need to pick 9 of them to be bars, so the

                                    15 
        number of milkshakes possible is.
                                    9


    Example 1.5.2

        How many 7 digit phone numbers are there in which the digits

        are non-increasing? That is, every digit is less than or equal to the

    previous one.

        Solution. We need to decide on 7 digits so we will use 7 stars. The

          bars will represent a switch from each possible single digit number

        down to the next smaller one. So the phone number 866-5221 is

        represented by the stars and bars chart

                            j   jj    j   jjj    j   j.

                There are 10 choices for each digit (0-9) so we must switch

        between choices 9 times. We have 7 stars and 9 bars, so the total

                                16 
        number of phone numbers is.
                                9                                                  1.5. Stars and Bars107


Example 1.5.3

        How many integer solutions are there to the equation

                        x1+ x2+ x3+ x4+ x5  13.

            (Aninteger solutionto an equation is a solution in which the

      unknown must have an integer value.)

      1. where xi  0 for each xi?

      2. where xi> 0 for each xi?

      3. where xi  2 for each xi?


        Solution. This problem is just like giving 13 cookies to 5 kids. We

        need to say how many of the 13 units go to each of the 5 variables.

          In other words, we have 13 stars and 4 bars (the bars are like the “+”

  signs in the equation).

            1.Ifxican be 0 or greater, we are in the standard case with no

                                                              17 
            restrictions. So 13 stars and 4 bars can be arranged in
                                                              4
      ways.

            2.Now each variable must be at least 1. So give one unit to each

            variable to satisfy that restriction. Now there are 8 stars left,

                                                  12 
            and still 4 bars, so the number of solutions is.
                                                  4

          3.Now each variable must be 2 or greater. So before any counting,

            give each variable 2 units. We now have 3 remaining stars and

                          7 
        4 bars, so there aresolutions.
                          4


                      Counting with Functions.

      Many of the counting problems in this section might at  rst appear to be

      examples of countingfunctions. After all, when we try to count the number

      of ways to distribute cookies to kids, we are assigning each cookie to a

      kid, just like you assign elements of the domain of a function to elements

      in the codomain. However, the number of ways to assign 7 cookies to 4

      10 
  kids is 120, while the number of functionsf:f1;2;3;4;5;6;7g !
      7
    fa; b; c; dg is 47  16384. What is going on here?

          When we count functions, we consider the following two functions,

for example, to be di erent:

            
            1 2 3 4 5 6 71 2 3 4 5 6 7
    f  g  .
          a b c c c c cb a c c c c c  108 1. Counting


        But these two functions would correspond to thesamecookie distribution:

          kids a and b each get one cookie, kid c gets the rest (and none for kid d).

            The point: elements of the domain are distinguished, cookies are indis-

      tinguishable. This is analogous to the distinction between permutations

        (like counting functions) and combinations (not).


                              Exercises

          1.A multiset is a collection of objects, just like a set, but can contain an

          object more than once (the order of the elements still doesn’t matter).

          For example, f1;1;2;5;5;7g is a multiset of size 6.

              (a)How manysetsof size 5 can be made using the 10 numeric digits

          0 through 9?

              (b)How manymultisets of size 5 can be made using the 10 numeric

            digits 0 through 9?

          2.Using the digits 2 through 8,  nd the number of di erent 5-digit

      numbers such that:

              (a)Digits cannot be repeated and must be written in increasing

                order. For example, 23678 is okay, but 32678 is not.

              (b)Digitscanbe repeated and must be written innon-decreasing

                order. For example, 24448 is okay, but 24484 is not.

          3.Each of the counting problems below can be solved with stars and

        bars. For each, say what outcome the diagram

                                     j   jj    j

          represents, if there are the correct number of stars and bars for the

          problem. Otherwise, say why the diagram does not represent any

          outcome, and what a correct diagram would look like.

                (a)How many ways are there to select a handful of 6 jellybeans from

            a jar that contains 5 di erent  avors?

              (b)How many ways can you distribute 5 identical lollipops to 6

          kids?

              (c)How many 6-letter words can you make using the 5 vowels in

          alphabetical order?

                                                          x2+x3+x4 6.
              (d)How many solutions are there to the equationx1+

      4.After gym class you are tasked with putting the 14 identical dodgeballs

      away into 5 bins.

            (a) How many ways can you do this if there are no restrictions?                                                  1.5. Stars and Bars109

          (b)How many ways can you do this if each bin must contain at least

        one dodgeball?

      5.How many integer solutions are there to the equationx + y + z  8for

  which

      (a) x, y, and z are all positive?

        (b) x, y, and z are all non-negative?

        (c) x, y, and z are all greater than or equal to 3.

      6. When playing Yahtzee, you roll  ve regular 6-sided dice. How many

          di erent outcomes are possible from a single roll? The order of the

    dice does not matter.

      7.Your friend tells you she has 7 coins in her hand (just pennies, nickels,

          dimes and quarters). If you guess how many of each kind of coin she

        has, she will give them to you. If you guess randomly, what is the

      probability that you will be correct?

    8.How many integer solutions tox1+ x2+ x3+ x4 25are there for

      which x1  1, x2  2, x3  3 and x4  4?

      9.Solve the three counting problems below. Then say why it makes sense

          that they all have the same answer. That is, say how you can interpret

    them as each other.

            (a) How many ways are there to distribute 8 cookies to 3 kids?

        (b)How many solutions in non-negative integers are there tox +

        y + z   8?

              (c)How many di erent packs of 8 crayons can you make using

          crayons that come in red, blue and yellow?

    10. Consider functions f : f1;2;3;4;5g ! f0;1;2; : : : ;9g.

          (a)How many of these functions are strictly increasing? Explain. (A

                function is strictly increasing provided ifa < b,thenfa < fb.)

        (b)How many of the functions are non-decreasing? Explain. (A

              function is non-decreasing provided if a < b, then fa   fb.)

      11.Conic, your favorite math themed fast food drive-in o ers 20  avors

          which can be added to your soda. You have enough money to buy a

            large soda with 4 added  avors. How many di erent soda concoctions

  can you order if:

          (a) You refuse to use any of the  avors more than once?

          (b)You refuse repeats but care about the order the  avors are added?

          (c) You allow yourself multiple shots of the same  avor?  110 1. Counting

                (d)You allow yourself multiple shots, and care about the order the

           avors are added?                                          1.6. Advanced Counting Using PIE111


              1.6 Advanced Counting Using PIE


    Investigate!

        You have 11 identical mini key-lime pies to give to 4 children.

        However, you don’t want any kid to get more than 3 pies. How

      many ways can you distribute the pies?

            1.How many ways are there to distribute the pies without any

        restriction?

            2.Let’s get rid of the ways that one or more kid gets too many

              pies. How many ways are there to distribute the pies if Al

              gets too many pies? What if Bruce gets too many? Or Cat?

        Or Dent?

            3.What if two kids get too many pies? How many ways can

              this happen? Does it matter which two kids you pick to

        overfeed?

          4.Is it possible that three kids get too many pies? If so, how

            many ways can this happen?

            5.How should you combine all the numbers you found above

          to answer the original question?

            Suppose now you have 13 pies and 7 children. No child can

        have more than 2 pies. How many ways can you distribute the

  pies?

        !Attempt the above activity before proceeding!

          Stars and bars allows us to count the number of ways to distribute

    10 cookies to 3 kids and natural number solutions tox + y + z  11, for

      example. A relatively easy modi cation allows us to put alower bound

      restriction on these problems: perhaps each kid must get at least two

    cookies orx; y; z  2. This was done by  rst assigning each kid (or

      variable) 2 cookies (or units) and then distributing the rest using stars and

bars.

            What if we wanted anupper boundrestriction? For example, we might

    insist that no kid gets more than 4 cookies or that x; y; z   4. It turns out

      this is considerably harder, but still possible. The idea is to count all the

      distributions and then remove those that violate the condition. In other

      words, we must count the number of ways to distribute 11 cookies to 3

    kids in whichone or moreof the kids gets more than 4 cookies. For any

      particular kid, this is not a problem; we do this using stars and bars. But  112 1. Counting


      how to combine the number of ways for kid A, or B or C? We must use the

PIE.

            The Principle of Inclusion/Exclusion (PIE) gives a method for  nding

          the cardinality of the union of not necessarily disjoint sets. We saw in

      Section 1.1 how this works with three sets. To  nd how many things are

      inone or moreof the setsA,B, andC, we should just add up the number of

      things in each of these sets. However, if there is any overlap among the

      sets, those elements are counted multiple times. So we subtract the things

          in each intersection of a pair of sets. But doing this removes elements

      which are in all three sets once too often, so we need to add it back in. In

    terms of cardinality of sets, we have

        jA [ B [ Cj   jAj + jBj + jCj jA \ Bj jA \ Cj jB \ Cj + jA \ B \ Cj.

    Example 1.6.1

        Three kids, Alberto, Bernadette, and Carlos, decide to share 11

          cookies. They wonder how many ways they could split the cookies

          up provided that none of them receive more than 4 cookies (someone

        receiving no cookies is for some reason acceptable to these kids).

        Solution. Without the “no more than 4” restriction, the answer

              13 
        would be, using 11 stars and 2 bars (separating the three kids).
              2
          Now count the number of ways that one or more of the kids violates

        the condition, i.e., gets at least 4 cookies.

            LetAbe the set of outcomes in which Alberto gets more than

        4 cookies. LetBbe the set of outcomes in which Bernadette gets

        more than 4 cookies. LetCbe the set of outcomes in which Carlos

            gets more than 4 cookies. We then are looking (for the sake of

        subtraction) for the size of the setA [ B [ C. Using PIE, we must

           nd the sizes ofjAj,jBj,jCj,jA \ Bjand so on. Here is what we

     nd.


                8 
                      . First give Alberto 5 cookies, then distribute the
      • jAj  
                2
                remaining 6 to the three kids without restrictions, using 6

          stars and 2 bars.

              8 
          • jBj  . Just like above, only now Bernadette gets 5 cookies
              2
          at the start.

              8 
          • jCj  . Carlos gets 5 cookies  rst.
              2

                    3 
                          . Give Alberto and Bernadette 5 cookies each,
        • jA \ Bj  
                    2
                leaving 1 (star) to distribute to the three kids (2 bars).

                  3 
          • jA \ Cj  . Alberto and Carlos get 5 cookies  rst.
                  2

                  3 
            • jB \ Cj  . Bernadette and Carlos get 5 cookies  rst.
                  2                                          1.6. Advanced Counting Using PIE113


          • jA \ B \ Cj  0. It is not possible for all three kids to get 4 or

        more cookies.

      Combining all of these we see

                                
                    888333
        jA [ B [ Cj  +++ 0   75.
                    222222


                                              13 
          Thus the answer to the original question is75 7875 3.
                                              2
          This makes sense now that we see it. The only way to ensure that no

        kid gets more than 4 cookies is to give two kids 4 cookies and one

          kid 3; there are three choices for which kid that should be. We could

          have found the answer much quicker through this observation, but

        the point of the example is to illustrate that PIE works!


          For four or more sets, we do not write down a formula for PIE. Instead,

      we just think of the principle: add up all the elements in single sets, then

      subtract out things you counted twice (elements in the intersection of a

      pairof sets), then add back in elements you removed too often (elements

      in the intersection of groups of three sets), then take back out elements

      you added back in too often (elements in the intersection of groups of four

      sets), then add back in, take back out, add back in, etc. This would be very

      di cult if it wasn’t for the fact that in these problems, all the cardinalities

      of the single sets are equal, as are all the cardinalities of the intersections

    of two sets, and that of three sets, and so on. Thus we can group all of

      these together and multiply by how many di erent combinations of 1, 2, 3,

. . . sets there are.

Example 1.6.2

        How many ways can you distribute 10 cookies to 4 kids so that no

    kid gets more than 2 cookies?

                      13 
      Solution. There areways to distribute 10 cookies to 4 kids
                      3
        (using 10 stars and 3 bars). We will subtract all the outcomes in

          which a kid gets 3 or more cookies. How many outcomes are there

          like that? We can force kid A to eat 3 or more cookies by giving him

        3 cookies before we start. Doing so reduces the problem to one in

          which we have 7 cookies to give to 4 kids without any restrictions.

        In that case, we have 7 stars (the 7 remaining cookies) and 3 bars

          (one less than the number of kids) so we can distribute the cookies

    10 
        inways. Of course we could choose any one of the 4 kids to give
    3

                                                    4  10 
      too many cookies, so it would appear that there areways to
                                                    13  114 1. Counting


        distribute the cookies giving too many to one kid. But in fact, we

      have over counted.

            We must get rid of the outcomes in which two kids have too

                              4 
          many cookies. There areways to select 2 kids to give extra
                              2
        cookies. It takes 6 cookies to do this, leaving only 4 cookies. So we

        have 4 stars and still 3 bars. The remaining 4 cookies can thus be

                  7 4 
            distributed inways (for each of thechoices of which 2 kids to
                  32
    over-feed).

            But now we have removed too much. We must add back in all

          the ways to give too many cookies to three kids. This uses 9 cookies,

          leaving only 1 to distribute to the 4 kids using stars and bars, which

                  4 
        can be done inways. We must consider this outcome for every
                  3

                                                                4 
        possible choice of which three kids we over-feed, and there are
                                                                3
        ways of selecting that set of 3 kids.

              Next we would subtract all the ways to give four kids too many

          cookies, but in this case, that number is 0.

            All together we get that the number of ways to distribute 10

        cookies to 4 kids without giving any kid more than 2 cookies is:

                                       
                    134104744
                                          +
                    3132333

    which is

                        286 480 210 + 16   0.

            This makes sense: there is NO way to distribute 10 cookies to

        4 kids and make sure that nobody gets more than 2. It is slightly

    surprising that

                                     
                    134104744
                       +,
                    3132333

        but since PIE works, this equality must hold.


            Just so you don’t think that these problems always have easier solutions,

    consider the following example.

    Example 1.6.3

          Earlier (Example 1.5.3) we counted the number of solutions to the

    equation

                          x1+ x2+ x3+ x4+ x5  13,

    where xi  0 for each xi.                                          1.6. Advanced Counting Using PIE115


          How many of those solutions have 0   xi  3 for each xi?

          Solution. We must subtract o  the number of solutions in which

          one or more of the variables has a value greater than 3. We will need

          to use PIE because counting the number of solutions for which each

          of the  ve variables separately are greater than 3 counts solutions

      multiple times. Here is what we get:


                      17 
      • Total solutions:.
                      4

                                  13 
          •Solutions wherex1>3:. Givex4 units  rst, then
                                            1
                                  4
          distribute the remaining 9 units to the 5 variables.

                                            9 
            •Solutions wherex1>3andx2>3:. After you give 4
                                            4
              units tox1and another 4 tox2, you only have 5 units left to

        distribute.

                                                5 
          • Solutions where x1> 3, x2> 3 and x3> 3:.
                                                4

          • Solutions where x1> 3, x2> 3, x3> 3, and x4> 3: 0.

            We also need to account for the fact that we could choose any

                                                              5 
      of the  ve variables in the place ofx1above (so there will be
                                                              1
        outcomes like this), any pair of variables in the place ofx1and

      5 
      x2(outcomes) and so on. It is because of this that the double
      2
        counting occurs, so we need to use PIE. All together we have that

    the number of solutions with 0   xi  3 is

                                 
              175135955
                                      +  15.
                4142434



                      Counting Derangements

    Investigate!

        For your senior prank, you decide to switch the nameplates on

        your favorite 5 professors’ doors. So that none of them feel left

        out, you want to make sure that all of the nameplates end up on

        the wrong door. How many ways can this be accomplished?

        !Attempt the above activity before proceeding!

          The advanced use of PIE has applications beyond stars and bars. A

      derangementofnelementsf1;2;3; : : : ; ngis a permutation in which no

    element is  xed. For example, there are6permutations of the three  116 1. Counting


  elements f1;2;3g:

                        123 132 213 231 312 321.

          but most of these have one or more elements  xed:123has all three

      elements  xed since all three elements are in their original positions,132

      has the  rst element  xed (1 is in its original  rst position), and so on. In

      fact, the only derangements of three elements are

                              231 and 312.

        If we go up to 4 elements, there are 24 permutations (because we

          have 4 choices for the  rst element, 3 choices for the second, 2 choices

          for the third leaving only 1 choice for the last). How many of these are

      derangements? If you list out all 24 permutations and eliminate those

      which are not derangements, you will be left with just 9 derangements.

      Let’s see how we can get that number using PIE.

    Example 1.6.4

        How many derangements are there of 4 elements?

          Solution. We count all permutations, and subtract those which are

        not derangements. There are4! 24permutations of 4 elements.

          Now for a permutation tonotbe a derangement, at least one of the

                                        4 
            4 elements must be  xed. There arechoices for which single
                                        1
        element we  x. Once  xed, we need to  nd a permutation of the

        other three elements. There are 3! permutations on 3 elements.

              But now we have counted too many non-derangements, so we

          must subtract those permutations which  x two elements. There

        4 
            arechoices for which two elements we  x, and then for each
        2
          pair,2!permutations of the remaining elements. But this subtracts

        too many, so add back in permutations which  x 3 elements, all

    4 4 
            1!of them. Finally subtract the0!permutations (recall0! 1)
    34
          which  x all four elements. All together we get that the number of

      derangements of 4 elements is:

                             
                  4444
              4!3!2! +1!0!  24 15   9.
                  1234


          Of course we can use a similar formula to count the derangements of

        any number of elements. However, the more elements we have, the longer

    the formula gets. Here is another example:                                          1.6. Advanced Counting Using PIE117


Example 1.6.5

          Five gentlemen attend a party, leaving their hats at the door. At the

          end of the party, they hastily grab hats on their way out. How many

        di erent ways could this happen so that none of the gentlemen

    leave with his own hat?

          Solution. We are counting derangements on 5 elements. There are

        5!ways for the gentlemen to grab hats in any order—but many of

          these permutations will result in someone getting their own hat. So

        we subtract all the ways in which one or more of the men get their

          own hat. In other words, we subtract the non-derangements. Doing

      so requires PIE. Thus the answer is:

                                 
                  55555
              5!4!3! +2!1! +0!.
                  12345


                      Counting Functions

    Investigate!

          1.Consider all functionsf:f1;2;3;4;5g ! f1;2;3;4;5g. How

                many functions are there all together? How many of those

                are injective? Remember, a function is an injection if every

            input goes to a di erent output.

                                      2;3;4;5g ! f1;2;3;4;5g. How
      2.Consider all functionsf:f1;

            many of theinjectionshave the property thatfx , xfor

        any x 2 f1;2;3;4;5g?

          Your friend claims that the answer is:
                                   
                      55555
                5!4!3! +2!1! +0!.
                      12345

          Explain why this is correct.

            3.Recall that asurjectionis a function for which every element

                of the codomain is in the range. How many of the functions

              f : f1;2;3;4;5g ! f1;2;3;4;5g are surjective? Use PIE!

        !Attempt the above activity before proceeding!

            We have seen throughout this chapter that many counting questions can

        be rephrased as questions about counting functions with certain properties.

      This is reasonable since many counting questions can be thought of as  118 1. Counting


      counting the number of ways to assign elements from one set to elements

  of another.

    Example 1.6.6

          You decide to give away your video game collection so as to better

          spend your time studying advanced mathematics. How many ways

      can you do this, provided:

            1.You want to distribute your 3 di erent PS4 games among 5

                friends, so that no friend gets more than one game?

            2.You want to distribute your 8 di erent 3DS games among 5

          friends?

              3.You want to distribute your 8 di erent SNES games among 5

              friends, so that each friend gets at least one game?

          In each case, model the counting question as a function counting

    question.

    Solution.

            1.We must use the three games (call them 1, 2, 3) as the domain

                and the 5 friends (a,b,c,d,e) as the codomain (otherwise the

                function would not be de ned for the whole domain when

                a friend didn’t get any game). So how many functions are

              there with domainf1;2;3gand codomainfa; b; c; d; eg? The

                  answer to this is53 125, since we can assign any of 5 elements

              to be the image of 1, any of 5 elements to be the image of 2

            and any of 5 elements to be the image of 3.

                But this is not the correct answer to our counting problem,
                                                
                                              1 2 3
            because one of these functions isf  ; one friend
                                              a a a
              can get more than one game. What we really need to do is

              countinjectivefunctions. This givesP5;3  60functions,

            which is the answer to our counting question.

            2.Again, we need to use the 8 games as the domain and the 5

                  friends as the codomain. We are counting all functions, so the

            number of ways to distribute the games is 58.

            3.This question is harder. Use the games as the domain and

              friends as the codomain (the reverse would not give a function).

                To ensure that every friend gets at least one game means that

                  every element of the codomain is in the range. In other words,

                we are looking forsurjectivefunctions. How do you count

        those??                                          1.6. Advanced Counting Using PIE119


          In Example 1.1.5 we saw how to count all functions (using the multi-

        plicative principle) and in Example 1.3.4 we learned how to count injective

      functions (using permutations). Surjective functions are not as easily

      counted (unless the size of the domain is smaller than the codomain, in

which case there are none).

          The idea is to count the functions which arenotsurjective, and then

      subtract that from the total number of functions. This works very well

    when the codomain has two elements in it:

Example 1.6.7

      How many functions f : f1;2;3;4;5g ! fa; bg are surjective?

          Solution. There are25functions all together, two choices for where

      to send each of the 5 elements of the domain. Now of these,

        the functions which arenotsurjective must exclude one or more

          elements of the codomain from the range. So  rst, consider functions

        for whichais not in the range. This can only happen one way:

          everything gets sent tob. Alternatively, we could excludebfrom the

          range. Then everything gets sent toa, so there is only one function

        like this. These are the only ways in which a function could not be

        surjective (no function excludes bothaandbfrom the range) so

      there are exactly 25 2 surjective functions.


          When there are three elements in the codomain, there are now three

      choices for a single element to exclude from the range. Additionally, we

      could pick pairs of two elements to exclude from the range, and we must

    make sure we don’t over count these. It’s PIE time!

Example 1.6.8

      How many functions f : f1;2;3;4;5g ! fa; b; cg are surjective?

        Solution. Again start with the total number of functions:35(as

      each of the  ve elements of the domain can go to any of three

          elements of the codomain). Now we count the functions which are

  not surjective.

              Start by excludingafrom the range. Then we have two choices (b

          orc) for where to send each of the  ve elements of the domain. Thus

        there are25functions which excludeafrom the range. Similarly,

          there are25functions which excludeb, and another25which exclude

          c. Now have we counted all functions which are not surjective? Yes,

          but in fact, we have counted some multiple times. For example, the

        function which sends everything tocwas one of the25functions  120 1. Counting


        we counted when we excludedafrom the range, and also one of

          the25functions we counted when we excludedbfrom the range.

          We must subtract out all the functions which speci cally exclude

          two elements from the range. There is 1 function when we exclude

          aandb(everything goes toc), one function when we excludeaand

        c, and one function when we exclude b and c.

              We are using PIE: to count the functions which are not surjective,

        we added up the functions which excludea,b, andcseparately,

          then subtracted the functions which exclude pairs of elements. We

          would then add back in the functions which exclude groups of three

          elements, except that there are no such functions. We  nd that the

          number of functions which are not surjective is

                        555
                        2+ 2+ 2 1 1 1 + 0.

            Perhaps a more descriptive way to write this is

                              
                          333
                                            5
                                    5
                            5
                                          0.
                            21+
                          123

        since each of the25’s was the result of choosing 1 of the 3 elements

        of the codomain to exclude from the range, each of the three15’s

        was the result of choosing 2 of the 3 elements of the codomain to

          exclude. Writing15instead of 1 makes sense too: we have 1 choice

        of where to send each of the 5 elements of the domain.

            Now we can  nally count the number of surjective functions:

                                
                        53535
                      321  150.
                            12


            You might worry that to count surjective functions when the codomain

      is larger than 3 elements would be too tedious. We need to use PIE but

      with more than 3 sets the formula for PIE is very long. However, we have

      lucked out. As we saw in the example above, the number of functions

        which exclude a single element from the range is the same no matter which

      single element is excluded. Similarly, the number of functions which

          exclude a pair of elements will be the same for every pair. With larger

      codomains, we will see the same behavior with groups of 3, 4, and more

      elements excluded. So instead of adding/subtracting each of these, we

          can simply add or subtract all of them at once, if you know how many

          there are. This works just like it did in for the other types of counting

      questions in this section, only now the size of the various combinations of                                          1.6. Advanced Counting Using PIE121


      sets is a number raised to a power, as opposed to a binomial coe cient or

      factorial. Here’s what happens with 4 and 5 elements in the codomain.

Example 1.6.9


          1.How many functionsf:f1;2;3;4;5g ! fa; b; c; dgare sur-

        jective?

        2.How many functionsf:f1;2;3;4;5g ! fa; b; c; d; egare

        surjective?


  Solution.

              1.There are45functions all together; we will subtract the func-

            tions which are not surjective. We could exclude any one of

            the four elements of the codomain, and doing so will leave

            us with35functions for each excluded element. This counts

          too many so we subtract the functions which exclude two

              of the four elements of the codomain, each pair giving25

              functions. But this excludes too many, so we add back in

                the functions which exclude three of the four elements of

                                                              4 
              the codomain, each triple giving15function. There are
                                                              1

                                                        4 
              groups of functions excluding a single element,groups
                                                      2

                                                    4 
              of functions excluding a pair of elements, andgroups of
                                                    3
            functions excluding a triple of elements. This means that the

          number of functions which are not surjective is:

                                
                          444
                                            5
                                    5
                              5
                                            1.
                            32+
                          123

              We can now say that the number of functions which are

        surjective is:

                                  
                      5454545
                      432+1.
                            123

        2. The number of surjective functions is:

                                  
                    555555555
                  543+21.
                        1234

            We took the total number of functions55and subtracted all

                                          5 
            that were not surjective. There wereways to select a single
                                          1
            element from the codomain to exclude from the range, and

            for each there were45functions. But this double counts, so  122 1. Counting


                we use PIE and subtract functions excluding two elements

                                  5 
              from the range: there arechoices for the two elements to
                                  2
                exclude, and for each pair,35functions. This takes out too

                many functions, so we add back in functions which exclude

                                      5 
            3 elements from the range:choices for which three to
                                      3
                exclude, and then25functions for each choice of elements.

              Finally we take back out the 1 function which excludes 4

                                5 
            elements for each of thechoices of 4 elements.
                                4

                  If you happen to calculate this number precisely, you will get

                120 surjections. That happens to also be the value of5!. This

                  might seem like an amazing coincidence until you realize that

              every surjective functionf:X ! YwithjXj Yj nite must
                                                    j

                  necessarily be a b¼ection. The number of b¼ections is always

                jXj!in this case. What we have here is acombinatorial proofof

            the following identity:

                        
              nnnnnnn
                                                   +1  n!.
            nn 1n 2+
                  12n 1


            We have seen that counting surjective functions is another nice example

        of the advanced use of the Principle of Inclusion/Exclusion. Also, counting

        injective functions turns out to be equivalent to permutations, and counting

      all functions has a solution akin to those counting problems where order

      matters but repeats are allowed (like counting the number of words you

    can make from a given set of letters).

          These are not just a few more examples of the techniques we have

        developed in this chapter. Quite the opposite: everything we have learned

      in this chapter are examples of counting functions!

    Example 1.6.10

        How many 5-letter words can you make using the eight lettersa

        through h? How many contain no repeated letters?

          Solution. By now it should be no surprise that there are85words,

        andP8;5words without repeated letters. The new piece here is

          that we are actually counting functions. For the  rst problem, we

          are counting all functions fromf1;2; : : : ;5gtofa; b; : : : ; hg. The

        numbers in the domain represent thepositionof the letter in the

          word, the codomain represents the letter that could be assigned to

        that position. If we ask for no repeated letters, we are asking for

      injective functions.                                          1.6. Advanced Counting Using PIE123


            IfAandBareanysets withjAj  5andjBj  8, then the

        number of functionsf:A ! Bis85and the number of injections is

          P8;5. So if you can represent your counting problem as a function

    counting problem, most of the work is done.


Example 1.6.11

      How many subsets are there off1;2; : : : ;9g? How many 9-bit

    strings are there (of any weight)?

        Solution. We saw in Section 1.2 that the answer to both these

        questions is29, as we can say yes or no (or 0 or 1) to each of the 9

          elements in the set (positions in the bit-string). But29also looks like

          the answer you get from counting functions. In fact, if you count all

      functionsf:A ! BwithjAj  9andjBj  2, this is exactly what

  you get.

          This makes sense! LetA   f1;2; : : : ;9gandB   fy; ng. We are

      assigning each element of the set either a yes or a no. Or in the

        language of bit-strings, we would take the 9 positions in the bit

          string as our domain and the set f0;1g as the codomain.


          So far we have not used a function as a model for binomial coe cients

      (combinations). Think for a moment about the relationship between

                                              9 
    combinations and permutations, say speci callyandP9;3. Wedo
                                              3
      have a function model forP9;3. This is the number ofinjectivefunctions

    from a set of size 3 (sayf1;2;3gto a set of size 9 (sayf1;2; : : : ;9g) since

      there are 9 choices for where to send the  rst element of the domain, then

      only 8 choices for the second, and 7 choices for the third. For example, the

  function might look like this:

                  f1   5f2   8f3   4.

    This is a di erent function from:

                  f1   4f2   5f3   8.


                                                              9 
        NowP9;3counts these as di erent outcomes correctly, butwill
                                                              3
    count these (among others) as just one outcome. In fact, in terms of

        9 
      functionsjust counts the number of di erent ranges possible of injective
        3
      functions. This should not be a surprise since binomial coe cients counts

      subsets, and the range is a possible subset of the codomain.3

          3A more mathematically sophisticated interpretation of combinations is that we are
          de ning two injective functions to beequivalentif they have the same range, and then
        counting the number of equivalence classes under this notion of equivalence.  124 1. Counting


          While it is possible to interpret combinations as functions, perhaps

      the better advice is to instead use combinations (or stars and bars) when

      functions are not quite the right way to interpret the counting question.


                              Exercises

    1.The dollar menu at your favorite tax-free fast food restaurant has 7

          items. You have $10 to spend. How many di erent meals can you buy

      if you spend all your money and:

          (a) Purchase at least one of each item.

        (b) Possibly skip some items.

          (c) Don’t get more than 2 of any particular item.

      2.After a late night of math studying, you and your friends decide to go

          to your favorite tax-free fast food Mexican restaurant,Burrito Chime.

          You decide to order o  of the dollar menu, which has 7 items. Your

          group has $16 to spend (and will spend all of it).

              (a) How many di erent orders are possible? Explain. (The order in

                  which the order is placed does not matter - just which and how

              many of each item that is ordered.)

              (b)How many di erent orders are possible if you want to get at

              least one of each item? Explain.

              (c)How many di erent orders are possible if you don’t get more

              than 4 of any one item? Explain.

      3.After another gym class you are tasked with putting the 14 identical

          dodgeballs away into 5 bins. This time, no bin can hold more than 6

          balls. How many ways can you clean up?

      4.Consider the equationx1+ x2+ x3+ x4 15.How many solutions are

      there with 2   xi  5 for all i 2 f1;2;3;4g?

          5.Suppose you planned on giving 7 gold stars to some of the 13 star

          students in your class. Each student can receive at most one star. How

        many ways can you do this?

              Use PIE. Then,  nd the numeric answer in Pascal’s triangle and

        explain why that makes sense.

    6.Based on the previous question, give a combinatorial proof for the

    identity:

                     
                                n

                                                           1
              nn + k 1nn +
                                        j+1 k 2j +
                 1.
              kkjk 2j
                                j 1                                          1.6. Advanced Counting Using PIE125

    7.Illustrate how the counting of derangements works by writing all

          permutations off1;2;3;4gand the crossing out those which are not

          derangements. Keep track of the permutations you cross out more

    than once, using PIE.

      8.How many permutations off1;2;3;4;5gleave exactly 1 element  xed?

    9.Ten ladies of a certain age drop o  their red hats at the hat check of a

          museum. As they are leaving, the hat check attendant gives the hats

            back randomly. In how many ways can exactly six of the ladies receive

      their own hat (and the other four not)? Explain.

      10.The Grinch sneaks into a room with 6 Christmas presents to 6 di erent

          people. He proceeds to switch the name-labels on the presents. How

    many ways could he do this if:

          (a)No present is allowed to end up with its original label? Explain

          what each term in your answer represents.

          (b) Exactly 2 presents keep their original labels? Explain.

          (c) Exactly 5 presents keep their original labels? Explain.

  11.Consider functionsf:f1;2;3;4g ! fa; b; c; d; e; f g.How many

        functions have the property that f1 , a or f2 , b, or both?

      12.Consider setsAandBwithjAj  10andjBj  5.How many functions

    f : A ! B are surjective?

    13.LetA   f1;2;3;4;5g.How many injective functionsf:A ! Ahave

      the property that for each x 2 A, fx , x?

      14.Letdnbe the number of derangements ofnobjects. For example, using

        the techniques of this section, we  nd

                                      
                              333
                    d3  3!2!1! +0!.
                              123


                              n 
        We can use the formula forto write this all in terms of factorials.
                              k
    After simplifying, for d3we would get

                                
                                   111
                        d3  3!1+.
                                  126

        Generalize this to  nd a nicer formula fordn. Bonus: For largen,

            approximately what fraction of all permutations are derangements?

        Use your knowledge of Taylor series from calculus.  126 1. Counting                                                  1.7. Chapter Summary127


                    1.7 Chapter Summary


    Investigate!

          Suppose you have a huge box of animal crackers containing plenty

          of each of 10 di erent animals. For the counting questions below,

          carefully examine their similarities and di erences, and then give

        an answer. The answers are all one of the following:

                              10 615 
              P10;610.
                              69

            1.How many animal parades containing 6 crackers can you

        line up?

            2.How many animal parades of 6 crackers can you line up so

              that the animals appear in alphabetical order?

            3.How many ways could you line up 6 di erent animals in

          alphabetical order?

          4.How many ways could you line up 6 di erent animals if

          they can come in any order?

          5.How many ways could you give 6 children one animal

        cracker each?

          6.How many ways could you give 6 children one animal

            cracker each so that no two kids get the same animal?

          7. How many ways could you give out 6 gira es to 10 kids?

            8.Write a question about giving animal crackers to kids that

                      10 
        has the answer.
                        6

        !Attempt the above activity before proceeding!

          With all the di erent counting techniques we have mastered in this

      last chapter, it might be di cult to know when to apply which technique.

      Indeed, it is very easy to get mixed up and use the wrong counting method

      for a given problem. You get better with practice. As you practice you

      start to notice some trends that can help you distinguish between types

      of counting problems. Here are some suggestions that you might  nd

      helpful when deciding how to tackle a counting problem and checking

  whether your solution is correct.

•
          Remember that you are counting the number of items in somelist

          of outcomes. Write down part of this list. Write down an element in

          the middle of the list – how are you deciding whether your element  128 1. Counting


                really is in the list. Could you get this element more than once using

        your proposed answer?

            •If generating an element on the list involves selecting something (for

              example, picking a letter or picking a position to put a letter, etc),

          can the things you select be repeated? Remember, permutations and

              combinations select objects from a set without repeats.

  •
              Does order matter? Be careful here and be sure you know what

                your answer really means. We usually say that order matters when

              you get di erent outcomes when the same objects are selected in

              di erent orders. Combinations and “Stars & Bars” are used when

        order does not matter.

  •
              There are four possibilities when it comes to order and repeats. If

                order matters and repeats are allowed, the answer will look likenk.

            If order matters and repeats are not allowed, we havePn; k. If

                order doesn’t matter and repeats are allowed, use stars and bars. If

                                                            n 
            order doesn’t matter and repeats are not allowed, use. But be
                                                            k
              careful: this only applies when you are selecting things, and you

                should make sure you know exactly what you are selecting before

        determining which case you are in.

          •Think about how you would represent your counting problem in

              terms of sets or functions. We know how to count di erent sorts of

          sets and di erent types of functions.

            •As we saw with combinatorial proofs, you can often solve a counting

            problem in more than one way. Do that, and compare your numerical

          answers. If they don’t match, something is amiss.

            While we have covered many counting techniques, we have really only

        scratched the surface of the large subject ofenumerative combinatorics. There

      are mathematicians doing original research in this area even as you read

    this. Counting can be really hard.

          In the next chapter, we will approach counting questions from a very

      di erent direction, and in doing so, answer in nitely many counting

      questions at the same time. We will createsequencesof answers to related

questions.


                            Chapter Review

    1.You have 9 presents to give to your 4 kids. How many ways can this

    be done if:

                (a)The presents are identical, and each kid gets at least one present?

                (b)The presents are identical, and some kids might get no presents?                                                  1.7. Chapter Summary129

          (c) The presents are unique, and some kids might get no presents?

          (d) The presents are unique and each kid gets at least one present?

      2.For each of the following counting problems, say whether the answer

    10 
      is,P10;4, or neither. If you answer is “neither,” say what the
      4
    answer should be instead.

            (a) How many shortest lattice paths are there from 0;0 to 10;4?

          (b)If you have 10 bow ties, and you want to select 4 of them for next

            week, how many choices do you have?

          (c)Suppose you have 10 bow ties and you will wear a di erent one

                on each of the next 4 days. How many choices do you have?

        (d)If you want to wear 4 of your 10 bow ties next week (Monday

              through Sunday), how many ways can this be accomplished?

        (e)Out of a group of 10 classmates, how many ways can you rank

        your top 4 friends?

              (f)If 10 students come to their professor’s o ce but only 4 can  t

            at a time, how di erent combinations of 4 students can see the

        prof  rst?

          (g)How many 4 letter words can be made from the  rst 10 letters of

        the alphabet?

        (h)How many ways can you make the word “cake” from the  rst

          10 letters of the alphabet?

          (i)How many ways are there to distribute 10 identical apples among

        4 children?

        (j)If you have 10 kids (and live in a shoe) and 4 types of cereal, how

            many ways can your kids eat breakfast?

          (k)How many ways can you arrange exactly 4 ones in a string of 10

        binary digits?

          (l)You want to select 4 distinct, single-digit numbers as your lotto

            picks. How many choices do you have?

          (m)10 kids want ice-cream. You have 4 varieties. How many ways

                are there to give the kids as much ice-cream as they want?

          (n)How many 1-1 functions are there fromf1;2; : : : ;10gtofa; b; c; dg?

        (o)How many surjective functions are there fromf1;2; : : : ;10gto

        fa; b; c; dg?

            (p)Each of your 10 bow ties match 4 pairs of suspenders. How

          many out ts can you make?  130 1. Counting

              (q)After the party, the 10 kids each choose one of 4 party-favors.

            How many outcomes?

              (r)How many 6-elements subsets are there of the setf1;2; : : : ;10g

              (s) How many ways can you split up 11 kids into 5 named teams?

            (t)How many solutions are there tox1+ x2+       + x5 6where

            each xiis a non-negative integer?

            (u)Your band goes on tour. There are 10 cities within driving

                distance, but only enough time to play 4 of them. How many

            choices do you have for the cities on your tour?

                (v)In how many di erent ways can you play the 4 cities you choose?

              (w)Out of the 10 breakfast cereals available, you want to have 4

            bowls. How many ways can you do this?

              (x)There are 10 types of cookies available. You want to make a 4

              cookie stack. How many di erent stacks can you make?

              (y)From your home at (0,0) you want to go to either the donut shop

                at (5,4) or the one at (3,6). How many paths could you take?

              (z)How many 10-digit numbers do not contain a sub-string of 4

          repeated digits?

      3.bow tiesRecall, you own 3 regular ties and 5 bow ties. You realize that

          it would be okay to wear more than two ties to your clown college

    interview.

              (a)You must select some of your ties to wear. Everything is okay,

                from no ties up to all ties. How many choices do you have?

              (b)If you want to wear at least one regular tie and one bow tie, but

                  are willing to wear up to all your ties, how many choices do you

            have for which ties to wear?

                (c)How many choices of which ties to wear do you have if you wear

              exactly 2 of the 3 regular ties and 3 of the 5 bow ties?

              (d)Once you have selected 2 regular and 3 bow ties, in how many

                  orders could you put the ties on, assuming you must have one

            of the three bow ties on top?

      4.Give a counting question where the answer is8 3 3 5. Give another

        question where the answer is 8 + 3 + 3 + 5.

      5.Consider  ve digit numbers    a1a2a3a4a5,with each digit from the

      set f1;2;3;4g.

        (a) How many such numbers are there?                                                  1.7. Chapter Summary131

            (b)How many such numbers are there for which thesumof the

        digits is even?

        (c)How many such numbers contain more even digits than odd

        digits?

      6. In a recent small survey of airline passengers, 25 said they had  own

        American in the last year, 30 had  own Jet Blue, and 20 had  own

          Continental. Of those, 10 reported they had  own on American and

          Jet Blue, 12 had  own on Jet Blue and Continental, and 7 had  own

          on American and Continental. 5 passengers had  own on all three

  airlines.

          How many passengers were surveyed? (Assume the results above

      make up the entire survey.)

      7. Recall, by 8-bit strings, we mean strings of binary digits, of length 8.

      (a) How many 8-bit strings are there total?

      (b) How many 8-bit strings have weight 5?

              (c)How many subsets of the setfa; b; c; d; e; f; g; hgcontain exactly

        5 elements?

          (d)Explain why your answers to parts (b) and (c) are the same. Why

            are these questions equivalent?

    8.What is the coe cient ofx10in the expansion ofx +113+x2x +117?

      9.How many 8-letter words contain exactly 5 vowels? (One such word

      is “aaioobtt”; don’t consider “y” a vowel for this exercise.)

          What if repeated letters were not allowed?

      10.For each of the following,  nd the number of shortest lattice paths

    from 0;0 to 8;8 which:

      (a) pass through the point 2;3.

        (b) avoid (do not pass through) the point 7;5.

          (c) either pass through 2;3 or 5;7 (or both).

    11.You live in Grid-Town on the corner of 2nd and 3rd, and work in a

          building on the corner of 10th and 13th. How many routes are there

        which take you from home to work and then back home, but by a

  di erent route?

    12. How many 10-bit strings start with 111 or end with 101 or both?

      13.How many 10-bit strings of weight 6 start with111or end with101or

  both?  132 1. Counting

      14.How many 6 letter words made from the lettersa; b; c; d; e; fwithout

          repeats do not contain the sub-word “bad” in consecutive letters?

                How many don’t to contain the subword “bad” in not-necessarily

        consecutive letters (but in order)?


                                    nn n
                                              2.
  15. Explain using lattice paths why
                                    k 0k

      16.Suppose you have 20 one-dollar bills to give out as prizes to your top

            5 discrete math students. How many ways can you do this if:

            (a) Each of the 5 students gets at least 1 dollar?

          (b) Some students might get nothing?

              (c) Each student gets at least 1 dollar but no more than 7 dollars?

          17.How many functionsf:f1;2;3;4;5g ! fa; b; c; d; egare there satis-

    fying:

        (a) f1   a or f2   b (or both)?

        (b) f1 , a or f2 , b (or both)?

          (c) f1 , a and f2 , b, and f is injective?

            (d) fis surjective, butf1 , a, f2 , b, f3 , c, f4 , dand

          f5 , e?

          18.How many functions mapf1;2;3;4;5;6gontofa; b; c; dg(i.e., how

        many surjections are there)?

          19.To thank your math professor for doing such an amazing job all

          semester, you decide to bake Oscar cookies. You know how to make

      10 di erent types of cookies.

              (a)If you want to give your professor 4 di erent types of cookies,

              how many di erent combinations of cookie type can you select?

            Explain your answer.

          (b)To keep things interesting, you decide to make a di erent number

                  of each type of cookie. If again you want to select 4 cookie types,

                  how many ways can you select the cookie types and decide for

                which there will be the most, second most, etc. Explain your

          answer.

              (c)You change your mind again. This time you decide you will

                  make a total of 12 cookies. Each cookie could be any one of the

                  10 types of cookies you know how to bake (and it’s okay if you

              leave some types out). How many choices do you have? Explain.

                (d)You realize that the previous plan did not account for presenta-

                  tion. This time, you once again want to make 12 cookies, each                                                  1.7. Chapter Summary133

            one could be any one of the 10 types of cookies. However, now

            you plan to shape the cookies into the numerals 1, 2, ..., 12 (and

            probably arrange them to make a giant clock, but you haven’t

              decided on that yet). How many choices do you have for which

              types of cookies to bake into which numerals? Explain.

          (e)The only  aw with the last plan is that your professor might not

            get to sample all 10 di erent varieties of cookies. How many

            choices do you have for which types of cookies to make into

              which numerals, given that each type of cookie should be present

          at least once? Explain.

      20.For which of the parts of the previous problem (Exercise 1.7.19) does

          it make sense to interpret the counting question as counting some

            number of functions? Say what the domain and codomain should be,

            and whether you are counting all functions, injections, surjections, or

  something else.  134 1. Counting                            Chapter 2


                        Sequences



    Investigate!

        There is a monastery in Hanoi, as the legend goes, with a great

        hall containing three tall pillars. Resting on the  rst pillar are 64

        giant disks (or washers), all di erent sizes, stacked from largest

          to smallest. The monks are charged with the following task: they

        must move the entire stack of disks to the third pillar. However,

          due to the size of the disks, the monks cannot move more than one

        at a time. Each disk must be placed on one of the pillars before

        the next disk is moved. And because the disks are so heavy and

          fragile, the monks may never place a larger disk on top of a smaller

          disk. When the monks  nally complete their task, the world shall

        come to an end. Your task:  gure out how long before we need to

      start worrying about the end of the world.

            1.First, let’s  nd the minimum number of moves required for

            a smaller number of disks. Collect some data. Make a table.

            2.Conjecture a formula for the minimum number of moves

            required to movendisks. Test your conjecture. How do you

          know your formula is correct?

          3.If the monks were able to move one disk every second

                without ever stopping, how long before the world ends?

        !Attempt the above activity before proceeding!

          This puzzle is called theTower of Hanoi. You are tasked with  nding

      the minimum number of moves to complete the puzzle. This certainly

        sounds like a counting problem. Perhaps you have an answer? If not, what

else could we try?

          The answer depends on the number of disks you need to move. In

      fact, we could answer the puzzle  rst for 1 disk, then 2, then 3 and so on.

    If we list out all of the answers for each number of disks, we will get a

      sequenceof numbers. Thenth term in the sequence is the answer to the

      question, “what is the smallest number of moves required to complete

      the Tower of Hanoi puzzle withndisks?” You might wonder why we

      would create such a sequence instead of just answering the question. By

      looking at how the sequence of numbers grows, we gain insight into the

    problem. It is easy to count the number of moves required for a small

      number of disks. We can then look for a pattern among the  rst few terms


                                135  136 2. Sequences


      of the sequence. Hopefully this will suggest a method for  nding thenth

      term of the sequence, which is the answer to our question. Of course we

      will also need to verify that our suspected pattern is correct, and that this

      correct pattern really does give us thenth term we think it does, but it is

        impossible to prove that your formula is correct without having a formula

  to start with.

          Sequences are also interesting mathematical objects to study in their

    own right. Let’s see why.


                    2.1 Describing Sequences


      Investigate!

            You have a large collection of1 1squares and1 2dominoes.

        You want to arrange these to make a1 15strip. How many ways

    can you do this?

            1.Start by collecting data. How many length1 1strips can

                you make? How many1 2strips? How many1 3strips?

          And so on.

          2.How are the1 3and1 4strips related to the1 5strips?

            3. How many 1   15 strips can you make?

                4.What if I asked you to  nd the number of1 1000strips?

                  Would the method you used to calculate the number fo1 15

            strips be helpful?

            !Attempt the above activity before proceeding!

          Asequenceis simply an ordered list of numbers. For example, here

          is a sequence: 0, 1, 2, 3, 4, 5, . . . . This is di erent from the setNbecause,

      while the sequence is a complete list of every element in the set of natural

      numbers, in the sequence we very much care what order the numbers

      come in. For this reason, when we use variables to represent terms in a

    sequence they will look like this:

                            a0; a1; a2; a3; : : :.

          To refer to theentiresequence at once, we will writeann2orann , or
                                                        N0
      sometimes if we are being sloppy, justan(in which case we assume we

  start the sequence with a0).

          We might replace theawith another letter, and sometimes we omit

          a0, starting witha1, in which case we would useann to refer to the
                                                      1
      sequence as a whole. The numbers in the subscripts are calledindices

  (the plural of index).                                                2.1. Describing Sequences137


            While we often just think of a sequence as an ordered list of numbers, it

      is really a type of function. Speci cally, the sequenceann is a function
                                                      0
      with domainNwhereanis the image of the natural numbern. Later we

      will manipulate sequences in much the same way you have manipulated

      functions in algebra or calculus. We can shift a sequence up or down, add

      two sequences, or ask for the rate of change of a sequence. These are done

  exactly as you would for functions.

            That said, while keeping the rigorous mathematical de nition in mind

      is helpful, we often describe sequences by writing out the  rst few terms.

Example 2.1.1

      Can you  nd the next term in the following sequences?

      1. 7;7;7;7;7; : : :

      2. 3;3;3;3;3; : : :

      3. 1;5;2;10;3;15; : : :

      4. 1;2;4;8;16;32; : : :

      5. 1;4;9;16;25;36; : : :

      6. 1;2;3;5;8;13;21; : : :

      7. 1;3;6;10;15;21; : : :

      8. 2;3;5;7;11;13; : : :

      9. 3;2;1;0;1; : : :

    10. 1;1;2;6; : : :


          Solution. No you cannot. You might guess that the next terms are:

      1. 74. 647. 2810. 24

    2. 35. 498. 17

    3. 46. 349. 2

            In fact, those are the next terms of the sequences I had in mind

        when I made up the example, but there is no way to be sure they

  are correct.

              Still, we will often do this. Given the  rst few terms of a sequence,

          we can ask what the pattern in the sequence suggests the next terms

are.  138 2. Sequences


          Given that no number of initial terms in a sequence is enough to say

      for certain which sequence we are dealing with, we need to  nd another

      way to specify a sequence. We consider two ways to do this:

      Closed formula.

        Aclosed formulafor a sequenceann2is a formula foranusing a
                                        N
           xed  nite number of operations onn. This is what you normally

        think of as a formula inn, just as if you were de ning a function in

          terms of n (because that is exactly what you are doing).


        Recursive de nition.

          Arecursive de nition(sometimes called aninductive de nition)

          for a sequenceann2consists of arecurrence relation: an equation
                      N
          relating a term of the sequence to previous terms (terms with smaller

          index) and aninitial condition: a list of a few terms of the sequence

        (one less than the number of terms in the recurrence relation).

        It is easier to understand what is going on here with an example:

    Example 2.1.2

        Here are a few closed formulas for sequences:

        • an  n2.

              nn + 1
      • an .
                2
               p  p 
                    nn
              1+
                  515
                22
      • an 
                      p.
                      5

                Note in each formula, if you are givenn, you can calculate

            andirectly: just plug inn. For example, to  nda3in the second
                                33+1
      sequence, just compute a3   6.
                                2
            Here are a few recursive de nitions for sequences:

        • an  2an1with a0  1.

        • an  2an1with a0  27.

            • an  an1+ an2with a0  0 and a1  1.

            In these formulas, if you are givenn, you cannot calculatean

        directly, you  rst need to  ndan1(oran1andan2). In the second

            sequence, to  nda3you would take2a2, but to  nda2 2a1we

        would need to knowa1 2a0. We do know this, so we could trace

        back through these equations to  nda1 54,a2 108and  nally

    a3  216.                                                2.1. Describing Sequences139


            You might wonder why we would bother with recursive de nitions for

      sequences. After all, it is harder to  ndanwith a recursive de nition than

    with a closed formula. This is true, but it is also harder to  nd a closed

      formula for a sequence than it is to  nd a recursive de nition. So to  nd a

      useful closed formula, we might  rst  nd the recursive de nition, then

  use that to  nd the closed formula.

          This is not to say that recursive de nitions aren’t useful in  ndingan.

      You can always calculateangiven a recursive de nition, it might just take

a while.

Example 2.1.3

      Finda6in the sequence de ned byan 2an1 an2witha0 3

  and a1  4.

        Solution. We know thata6 2a5 a4. So to  nda6we need to  nd

  a5and a4. Well

                a5  2a4 a3anda4  2a3 a2,

      so if we can only  nd a3and a2we would be set. Of course

                a3  2a2 a1anda2  2a1 a0,

        so we only need to  nd a1and a0. But we are given these. Thus

                        a0  3

                        a1  4

                          a2  2   4 3   5

                          a3  2   5 4   6

                          a4  2   6 5   7

                          a5  2   7 6   8

                          a6  2   8 7   9.

            Note that now we can guess a closed formula for thenth term

        of the sequence:an  n +3. To be sure this will always work, we

      could plug in this formula into the recurrence relation:

              2an1 an2  2n 1 + 3 n 2 + 3

                            2n + 4 n 1

                            n + 3   an.


            That is not quite enough though, since there can be multiple

          closed formulas that satisfy the same recurrence relation; we must  140 2. Sequences


          also check that our closed formula agrees on the initial terms of the

          sequence. Sincea0 0+3 3anda1 1+3 4are the correct

          initial conditions, we can now conclude we have the correct closed

    formula.


            Finding closed formulas, or even recursive de nitions, for sequences is

      not trivial. There is no one method for doing this. Just as in evaluating

      integrals or solving di erential equations, it is useful to have a bag of tricks

    you can apply, but sometimes there is no easy answer.

          One useful method is to relate a given sequence to another sequence

      for which we already know the closed formula. To do this, we need a few

      “known sequences” to compare mystery sequences to. Here are a few that

          are good to know. We will verify the formulas for these in the coming

sections.

        Common Sequences.

    1;4;9;16;25; : : :

              Thesquare numbers. The sequencesnn has closed for-
                                                    1
          mula sn  n2

    1;3;6;10;15;21; : : :

                Thetriangular numbers. The sequenceTnn has closed
                                                      1
                        nn+1
            formula Tn .
                        2

    1;2;4;8;16;32; : : :

                Thepowers of 2. The sequenceann with closed formula
                                              0
          an  2n.

    1;1;2;3;5;8;13; : : :

                TheFibonacci numbers(or Fibonacci sequence), de ned

                recursively by Fn  Fn1+ Fn2with F1  F2  1.


    Example 2.1.4

                          nn+1n
          Use the formulasTn andan 2to  nd closed formulas
                            2
        that agree with the following sequences. Assume each  rst term

    corresponds to n   0.

        1. bn: 1;2;4;7;11;16;22; : : :.

        2. cn: 3;5;9;17;33; : : :.

        3. dn: 0;2;6;12;20;30;42; : : :.

        4. en: 3;6;10;15;21;28; : : :.                                                2.1. Describing Sequences141


      5. fn: 0;1;3;7;15;31; : : :.

      6. gn 3;6;12;24;48; : : :.

      7. hn: 6;10;18;34;66; : : :.

      8. jn: 15;33;57;87;123; : : :.


        Solution. We wish to compare these sequences to the triangular

        numbers0;1;3;6;10;15;21; : : :, when we start withn  0, and the

    powers of 2: 1;2;4;8;16; : : :.

            1. 1;2;4;7;11;16;22; : : :. Note that if subtract 1 from each term,

          we get the sequenceTn. So we havebn  Tn+1. Therefore a
                              nn+1
          closed formula isbn +1. A quick check of the  rst
                                2
          few n con rms we have it right.

          2. 3;5;9;17;33; : : :. Each term in this sequence is one more

              than a power of 2, so we might guess the closed formula is

                cn  an+1 2n+1. If we try this though, we getc0 20+1 2

            andc1 21+1 3. We are o  because the indices are shifted.
                                                        1
            What we really want is cn  an++ 1 giving cn  2n++ 1.
                                    1

            3.(0;2;6;12;20;30;42; : : :). Notice that all these terms are even.

            What happens if we factor out a 2? We getTn! More precisely,

          we  nd thatdn2  Tn, so this sequence has closed formula

        dn  nn + 1.

                6;10;15;21;28; : : :. These are all triangular numbers.
    4. 3;

            However, we are starting with 3 as our initial term instead of

            as our third term. So if we could plug in 2 instead of 0 into the

            formula forTn, we would be set. Therefore the closed formula
              n+2n+3
          isen (wheren+3came fromn+2+1). Thinking
                2
            about sequences as functions, we are doing a horizontal shift

                by 2:en  Tn+which would cause the graph to shift 2 units
                    2
        to the left.

          5. 0;1;3;7;15;31; : : :. Try adding 1 to each term and we get

            powers of 2. You might guess this because each term is a little

            more than twice the previous term (the powers of 2 areexactly

            twice the previous term). Closed formula: fn  2n 1.

                6;12;24;48; : : :. These numbers are also doubling each
    6. 3;

            time, but are also all multiples of 3. Dividing each by 3 gives

            1, 2, 4, 8, . . . . Aha. We get the closed formula gn  3   2n.  142 2. Sequences


              7. 6;10;18;34;66; : : :. To get from one term to the next, we

                almost double each term. So maybe we can relate this back

              to2n. Yes, each term is 2 more than a power of 2. So we get
                2
              hn 2n+2(then +2is because the  rst term is 2 more than
                  +

                  22, not20). Alternatively, we could have related this sequence

                to the second sequence in this example: starting with 3, 5, 9,

                17, . . . we see that this sequence is twice the terms from that
                                                              1
                sequence. That sequence had closed formulacn 2n++1.

              Our sequence here would be twice this, sohn 22n+1,

              which is the same as we got before.

              8. 15;33;57;87;123; : : :. Try dividing each term by 3. That

              gives the sequence5;11;19;29;41; : : :. Now add 1 to each

                term:6;12;20;30;42; : : :, which isdnin this example, except

              starting with 6 instead of 0. So let’s start with the formula

              dn  nn +1. To start with the 6, we shift:n +2n +3.

              But this is one too many, so subtract 1:n +2n +3 1.

              That gives us our sequence, but divided by 3. So we want

          jn  3n + 2n + 3 1.


                              Partial sums.

      Some sequences naturally arise as the sum of terms of another sequence.

    Example 2.1.5

        Sam keeps track of how many push-ups she does each day of her

        “do lots of push-ups challenge.” Letann be the sequence that
                                            1
            describes the number of push-ups done on thenth day of the

      challenge. The sequence starts

                          3;5;6;10;9;0;12; : : :.

            Describe a sequencebnn that describes the total number of
                              1
        push-ups done by Sam after the nth day.

        Solution. We can  nd the terms of this sequence easily enough.

                          3;8;14;24;33;33;45; : : :.

      Here b1is just a1, but then

                            b2  3 + 5   a1+ a2,

                        b3  3 + 5 + 6   a1+ a2+ a3,                                                2.1. Describing Sequences143


  and so on.

              There are a few ways we might describebnin general. We could

  do so recursively as,

                            bn  bn1+ an,

        since the total number of push-ups done afterndays will be the

      number done after n 1 days, plus the number done on day n.

          For something closer to a closed formula, we could write

                      bn  a1+ a2+ a3+       + an,

    or the same thing using summation notation:

                                  n

                            bn ai.
                                i 1

          However, note that these are not really closed formulas since even if

          we had a formula foran, we would still have an increasing number

    of computations to do as n increases.


        Given any sequenceann2, we can always form a new sequence
                            N
bnn2by
    N
                      bn  a0+ a1+ a2+       + an.

    Since the terms ofbnare the sums of the initial part of the sequencean

    ways callbnthesequence of partial sums of an. Soon we will see that

      it is sometimes possible to  nd a closed formula forbnfrom the closed

formula for an.

          To simplify writing out these sums, we will often use notation like
n

      ak. This means add up the ak’s where k changes from 1 to n.
k 1

Example 2.1.6


    Usenotation to rewrite the sums:

      1. 1 + 2 + 3 + 4 +       + 100

                          50
      2. 1 + 2 + 4 + 8 +       + 2

      3. 6 + 10 + 14 +       + 4n 2.

  Solution.

        10050n


                                k
    1.k2.23.4k 2
                                                    2
      k 1k 
                              0k   144 2. Sequences

                                                            n

            If we want to multiply theakinstead, we could writeak. For
                                                            k 1
          n

  example,k   n!.
          k 1

                              Exercises

      1.Find the closed formula for each of the following sequences by relating

          them to a well known sequence. Assume the  rst term given is a1.

        (a) 2;5;10;17;26; : : :

      (b) 0;2;5;9;14;20; : : :

        (c) 8;12;17;23;30; : : :

        (d) 1;5;23;119;719; : : :

      2.For each sequence given below,  nd a closed formula foran, thenth

          term of the sequence (assume the  rst terms area0) by relating it to

          another sequence for which you already know the formula. In each

        case, brie y say how you got your answers.

        (a) 4, 5, 7, 11, 19, 35, . . .

      (b) 0, 3, 8, 15, 24, 35, . . .

        (c) 6, 12, 20, 30, 42, . . .

            (d)0, 2, 7, 15, 26, 40, 57, . . . (Cryptic Hint: these might be called

            “house numbers”)

      3.Write out the  rst 5 terms (starting witha0) of each of the sequences

          described below. Then give either a closed formula or a recursive

            de nition for the sequence (whichever is NOT given in the problem).

              12
      (a) an n+ n.
              2

          (b) an  2an1 an2with a0  0 and a1  1.

        (c) an  nan1with a0  1.

          4.Consider the sequenceann that starts1;3;5;7;9; : : :(i.e., the odd
                                1
      numbers in order).

                (a)Give a recursive de nition and closed formula for the sequence.

            (b)Write out the sequencebnn of partial sums ofan. Write
                                      2
                down the recursive de nition forbnand guess at the closed

          formula.                                                2.1. Describing Sequences145

  5. The Fibonacci sequence is 0;1;1;2;3;5;8;13; : : : (where F0  0).

        (a)Write out the  rst few terms of the sequence of partial sums:0,

        0 + 1, 0 + 1 + 1,. . .

          (b)Guess a formula for the sequence of partial sums expressed in

            terms of a single Fibonacci number. For example, you might
                                2
              sayF0+ F1+       + Fn 3F+, although that is de nitely not
                                       n
                                n1
        correct.

      6.Consider the three sequences below. For each,  nd a recursive de ni-

      tion. How are these sequences related?

      (a) 2;4;6;10;16;26;42; : : :.

      (b) 5;6;11;17;28;45;73; : : :.

      (c) 0;0;0;0;0;0;0; : : :.

  7.Write out the  rst few terms of the sequence given bya1 3;

        an 2an1+4. Then  nd a recursive de nition for the sequence

  10;24;52;108; : : :.

    8.Write out the  rst few terms of the sequence given byan  n23n +

        1. Then  nd a closed formula for the sequence (starting witha1)

  0;2;6;12;20; : : :.

    9.Show thatan 3 2n+7 5nis a solution to the recurrence relation

        an 7an110an2. What would the initial conditions need to be for

      this to be the closed formula for the sequence?

    10.Show thatan 2n5nis also a solution to the recurrence relation

        an 7an110an2. What would the initial conditions need to be for

      this to be the closed formula for the sequence?

    11.Find a closed formula for the sequence with recursive de nition

    an  2an1 an2with a1  1 and a2  2.

      12.Give two di erent recursive de nitions for the sequence with closed

          formulaan 3+2n. Prove you are correct. At least one of the recursive

            de nitions should makes use of two previous terms and no constants.

    13.Use summation () or product () notation to rewrite the following.

      (a) 2 + 4 + 6 + 8 +       + 2n.(d) 2   4   6           2n.

      (b) 1 + 5 + 9 + 13 +       + 425.

            1111 123 100
    (c) 1 +
                             +.(e)      .
              2+3+4+50234101  146 2. Sequences

      14.Expand the following sums and products. That is, write them out the

    long way.
          100100


                                                  k2
      (a)3 + 4k.(d).
                                                k2 1
                                              2
          k 1k 
          nn


              k
      (b)2.(e)2 +
                                                   3k.
          k 0k 
                                              0
          50

                1
      (c).
              k2 1
          k 2
          15.Suppose you drawnlines in the plane so that every pair of lines

          cross (no lines are parallel) and no three lines cross at the same point.

          This will create some number of regions in the plane, including some

          unbounded regions. Call the number of regionsRn. Find a recursive

          formula for the number of regions created bynlines, and justify why

      your recursion is correct.

      16.Aternarystring is a sequence of 0’s, 1’s and 2’s. Just like a bit string,

      but with three symbols.

                Let’s call a ternary stringgoodprovided it never contains a 2

          followed immediately by a 0. LetGnbe the number of good strings

              of lengthn. For example,G1 3, andG2 8(since of the 9 ternary

        strings of length 2, only one is not good).

              Find, with justi cation, a recursive formula forGn, and use it to

      compute G5.

      17.Consider bit strings with lengthland weightk(so strings ofl0’s and

          1’s, includingk1’s). We know how to count the number of these for a

           xedlandk. Now, we will count the number of strings for which the

          sum of the length and the weight is  xed. For example, let’s count all

      the bit strings for which l + k   11.

              (a)Find examples of these strings of di erent lengths. What is the

                longest string possible? What is the shortest?

              (b)How many strings are there of each of these lengths. Use this to

              count the total number of strings (with sum 11).

              (c)The other approach: Letn   l + kvary. How many strings have

                sumn  1? How many have sumn  2? And so on. Find and

                  explain a recurrence relation for the sequenceanwhich gives

            the number of strings with sum n.

            (d)Describe what you have found above in terms of Pascal’s Triangle.

            What pattern have you discovered?                                                2.1. Describing Sequences147

      18.When bees play chess, they use a hexagonal board like the one shown

          below. The queen bee can move one space at a time either directly

          to the right or angled up-right or down-right (but can never move

            leftwards). How many di erent paths can the queen take from the top

          left hexagon to the bottom right hexagon? Explain your answer, and

          this relates to the previous question. (As an example, there are three

          paths to get to the second hexagon on the bottom row.)


                start


                          3stop


      19.Lettndenote the number of ways to tile a2  nchessboard using1 2

        dominoes. Write out the  rst few terms of the sequencetnn and
                                                              1
            then give a recursive de nition. Explain why your recursive formula

  is correct.  148 2. Sequences


            2.2 Arithmetic and Geometric Sequences


      Investigate!

            For the patterns of dots below, draw the next pattern in the

        sequence. Then give a recursive de nition and a closed formula

        for the number of dots in the nth pattern.



                n   0n   1n   2







                n   0n   1n   2





                n   1n   2n   3n   4

            !Attempt the above activity before proceeding!

          We now turn to the question of  nding closed formulas for particular

  types of sequences.

        Arithmetic Sequences.

          If the terms of a sequence di er by a constant, we say the sequence

        isarithmetic. If the initial term (a0) of the sequence isaand the

        common di erence is d, then we have,

            Recursive de nition: an  an1+ d with a0  a.

          Closed formula: an  a + dn.

            How do we know this? For the recursive de nition, we need to specify

          a0. Then we need to expressanin terms ofan1. If we call the  rst terma,

      thena0  a. For the recurrence relation, by the de nition of an arithmetic

        sequence, the di erence between successive terms is some constant, sayd.

  So an an1  d, or in other words,

                        a0  a an  an1+ d.                                    2.2. Arithmetic and Geometric Sequences149


        To  nd a closed formula,  rst write out the sequence in general:

                  a0  a

                    a1  a0+ d   a + d

                  a2  a1+ d   a + d + d   a + 2d

                    a3  a2+ d   a + 2d + d   a + 3d

                  :
                  :
                  :

          We see that to  nd thenth term, we need to start withaand then add

    d a bunch of times. In fact, add it n times. Thus an  a + dn.

Example 2.2.1

          Find recursive de nitions and closed formulas for the arithmetic

        sequences below. Assume the  rst term listed is a0.

      1. 2;5;8;11;14; : : :.

    2. 50;43;36;29; : : :.


        Solution. First we should check that these sequences really are

          arithmetic by taking di erences of successive terms. Doing so will

    reveal the common di erence d.

        1.52 3,85 3, etc. To get from each term to the next,

          we add three, sod  3. The recursive de nition is therefore

              an  an1+ 3 with a0  2. The closed formula is an  2 + 3n.

          2.Here the common di erence is7, since we add7to 50 to

              get 43, and so on. Thus we have a recursive de nition of

            an  an17witha0 50. The closed formula isan 507n.


        What about sequences like2;6;18;54; : : :? This is not arithmetic

      because the di erence between terms is not constant. However, theratio

      between successive terms is constant. We call such sequences geometric.

          The recursive de nition for the geometric sequence with initial term

  aand common ratiorisan  an1  r;a0  a. To get the next term we

      multiply the previous term byr. We can  nd the closed formula like we

    did for the arithmetic progression. Write

                    a0  a

                    a1  a0  r
                                              2
                      a2  a1  r   a0  r   r   a0  r

                    :
                    :
                    :  150 2. Sequences


          We must multiply the  rst termabyra number of times,ntimes to be

  precise. We get an  a   rn.

      Geometric Sequences.

          A sequence is calledgeometricif the ratio between successive terms

          is constant. Suppose the initial terma0isaand thecommon ratiois

    r. Then we have,

          Recursive de nition: an  ran1with a0  a.

        Closed formula: an  a   rn.


    Example 2.2.2

          Find the recursive and closed formula for the geometric sequences

        below. Again, the  rst term listed is a0.

        1. 3;6;12;24;48; : : :

      2. 27;9;3;1;13; : : :


            Solution. Start by checking that these sequences really are geometric

        by dividing each term by its previous term. If this ratio really is

      constant, we will have found r.

                      2,126 2,2412 2, etc. Yes, to get from any term to
      1.63 

                the next, we multiply byr  2. So the recursive de nition is

                an  2an1with a0  3. The closed formula is an  3   2n.

            2.The common ratio isr  13. So the sequence has recursive
                        1
              de nitionan an1witha0 27and closed formulaan 
                        3
            1n
        27  .
            3


          In the examples and formulas above, we assumed that theinitialterm

      wasa0. If your sequence starts witha1, you can easily  nd the term that

      would have beena0and use that in the formula. For example, if we want a

      formula for the sequence2;5;8; : : :and insist that2  a1, then we can  nd

          a0  1(since the sequence is arithmetic with common di erence 3, we

      have a0+ 3   a1). Then the closed formula will be an  1 + 3n.

          Remark 2.2.3If you look at other textbooks or online, you might  nd

      that their closed formulas for arithmetic and geometric sequences di er

        from ours. Speci cally, you might  nd the formulasan  a + n 1d

      (arithmetic) andan  a   rn1(geometric). Which is correct? Both! In our

      case, we takeato bea0. If instead we hada1as our initial term, we would

          get the (slightly more complicated) formulas you  nd elsewhere.                                    2.2. Arithmetic and Geometric Sequences151


            Sums of Arithmetic and Geometric Sequences

    Investigate!

        Your neighborhood grocery store has a candy machine full of

  Skittles.

              1.Suppose that the candy machine currently holds exactly 650

            Skittles, and every time someone inserts a quarter, exactly 7

          Skittles come out of the machine.

              (a)How many Skittles will be left in the machine after 20

              quarters have been inserted?

              (b)Will there ever be exactly zero Skittles left in the ma-

              chine? Explain.

            2.What if the candy machine gives 7 Skittles to the  rst cus-

                tomer who put in a quarter, 10 to the second, 13 to the third,

              16 to the fourth, etc. How many Skittles has the machine

            given out after 20 quarters are put into the machine?

              3.Now, what if the machine gives 4 Skittles to the  rst customer,

              7 to the second, 12 to the third, 19 to the fourth, etc. How

                many Skittles has the machine given out after 20 quarters

          are put into the machine?

        !Attempt the above activity before proceeding!

        Look at the sequenceTnn which starts1;3;6;10;15; : : :. These are
                            1
      called thetriangular numberssince they represent the number of dots in

      an equilateral triangle (think of how you arrange 10 bowling pins: a row

  of 4 plus a row of 3 plus a row of 2 and a row of 1).




                  T1  1T2  3T3  6T4  10

      Is this sequence arithmetic? No, since31 2and63 3,2, so

    there is no common di erence. Is the sequence geometric? No.31 3

    but 63   2, so there is no common ratio. What to do?

            Notice that thedi erencesbetween termsdoform an arithmetic sequence:

    2;3;4;5;6; : : :. This means that thenth term of the sequenceTnis the

    sumof the  rstnterms in the sequence1;2;3;4;5; : : :. We say thatTn

    is thesequence of partial sumsof the sequence1;2;3; : : :(partialsums

    because we are not taking the sum of all in nitely many terms).  152 2. Sequences


          This should become clearer if we write the triangular numbers like

this:

                          1   1

                          3   1 + 2

                          6   1 + 2 + 3

                          10   1 + 2 + 3 + 4

                          ::
                          ::
                          ::

                          Tn  1 + 2 + 3 +       + n.

          If we know how to add up the terms of an arithmetic sequence, we

      could  nd a closed formula for a sequence whose di erences are the terms

      of that arithmetic sequence. Consider how we could  nd the sum of the

       rst 100 positive integers (that is,T100). Instead of adding them in order,

      we regroup and add1+100 101. The next pair to combine is2+99 101.

      Then 3 + 98   101. Keep going. This gives 50 pairs which each add up to

    101, so T100  101   50   5050.1
                                                                nn+1
        In general, using this same sort of regrouping, we  nd thatTn .
                                                                  2

                                        n+1 
          Incidentally, this is exactly the same as, which makes sense if you
                                        2
      think of the triangular numbers as counting the number of handshakes

          that take place at a party withn +1people: the  rst person shakesn

      hands, the next shakes an additional n 1 hands and so on.

          The point of all of this is that some sequences, while not arithmetic or

        geometric, can be interpreted as the sequence of partial sums of arithmetic

        and geometric sequences. Luckily there are methods we can use to compute

  these sums quickly.


              Summing Arithmetic Sequences: Reverse and Add

      Here is a technique that allows us to quickly  nd the sum of an arithmetic

  sequence.

    Example 2.2.4

        Find the sum: 2 + 5 + 8 + 11 + 14 +       + 470.

            Solution. The idea is to mimic how we found the formula for

        triangular numbers. If we add the  rst and last terms, we get 472.

        The second term and second-to-last term also add up to 472. To


          1This insight is usually attributed to Carl Friedrich Gauss, one of the greatest mathe-
            maticians of all time, who discovered it as a child when his unpleasant elementary teacher
          thought he would keep the class busy by requiring them to compute the lengthy sum.                                    2.2. Arithmetic and Geometric Sequences153


          keep track of everything, we might express this as follows. Call the

  sum S. Then,

          S  2+5+8+     + 467 + 470

        + S   470 + 467 + 464 +     +5+2

            2S   472 + 472 + 472 +     + 472 + 472

            To  nd2Sthen we add 472 to itself a number of times. What

          number? We need to decide how many terms (summands) are in

          the sum. Since the terms form an arithmetic sequence, thenth term

        in the sum (counting2as the 0th term) can be expressed as2+3n.

        If2+3n  470thenn  156. Sonranges from 0 to 156, giving 157

        terms in the sum. This is the number of 472’s in the sum for2S.

  Thus

                        2S   157   472   74104.

      It is now easy to  nd S:

                        S   741042   37052.


          This will work for the sum of anyarithmeticsequence. Call the sum

      S. Reverse and add. This produces a single number added to itself many

  times. Find the number of times. Multiply. Divide by 2. Done.

Example 2.2.5

    Find a closed formula for 6 + 10 + 14 +       + 4n 2.

        Solution. Again, we have a sum of an arithmetic sequence. How

          many terms are in the sequence? Clearly each term in the sequence

          has the form4k2(as evidenced by the last term). For which values

          ofkthough? To get 6,k  2. To get4n 2takek   n. So to  nd

          the number of terms, we must count the number of integers in the

      range2;3; : : : ; n. This isn 1. (There arennumbers from 1 ton,

    so one less if we start with 2.)

      Now reverse and add:

          S  6+10+     + 4n 6 + 4n 2

      + S   4n 2 + 4n 6 +     +10+6

            2S   4n + 4 + 4n + 4 +     + 4n + 4 + 4n + 4

        Since there are n 1 terms, we get

                                            n 14n + 4
          2S   n 14n + 4soS  .
                                                  2  154 2. Sequences


            Besides  nding sums, we can use this technique to  nd closed formulas

      for sequences we recognize as sequences of partial sums.

    Example 2.2.6

        Use partial sums to  nd a closed formula forann which starts
                                                      0
      2;3;7;14;24;37; : : : : : :

          Solution. First, if you look at the di erences between terms, you get

        a sequence of di erences:1;4;7;10;13; : : :, which is an arithmetic

      sequence. Written another way:

                          a0  2

                            a1  2 + 1

                            a2  2 + 1 + 4

                            a3  2 + 1 + 4 + 7

            and so on. We can write the general term ofanin terms of the

      arithmetic sequence as follows:

                  an  2 + 1 + 4 + 7 + 10 +       + 1 + 3n 1

          (we use1+3n 1instead of1+3nto get the indices to line up

          correctly; for a3we add up to 7, which is 1 + 33 1).

              We can reverse and add, but the initial 2 does not  t our pattern.

            This just means we need to keep the 2 out of the reverse part:

          an  2 +1+4+     + 1 + 3n 1

        + an  2 + 1 + 3n 1 + 1 + 3n 2 +     +1

            2an  4 + 2 + 3n 1 + 2 + 3n 1 +     + 2 + 3n 1

            Not counting the  rst term (the 4) there arensummands of

        2 + 3n 1   3n 1 so the right-hand side becomes 4 + 3n 1n.

          Finally, solving for anwe get

                                4 + 3n 1n
                          an .
                                    2

                                44+2
          Just to be sure, we checka0  2,a1  3, etc. We have the
                                22
      correct closed formula.


          Summing Geometric Sequences: Multiply, Shift and Subtract

      To  nd the sum of a geometric sequence, we cannot just reverse and add.

      Do you see why? The reason we got the same term added to itself many

          times is because there was a constant di erence. So as we added that                                    2.2. Arithmetic and Geometric Sequences155


      di erence in one direction, we subtracted the di erence going the other

      way, leaving a constant total. For geometric sums, we have a di erent

technique.

Example 2.2.7

    What is 3 + 6 + 12 + 24 +       + 12288?

          Solution. Multiply each term by 2, the common ratio. You get2S  

        6+12+24+     +24576. Now subtract:2SS   3+24576 24573.

      Since 2S S   S, we have our answer.


          To better see what happened in the above example, try writing it this

way:

                  S   3+ 6 + 12 + 24 +       + 12288

                  2S  6 + 12 + 24 +       + 12288 +24576

                  S   3+ 0 + 0 + 0 +       + 024576

          Then divide both sides by1and we have the same result forS. The

      idea is, by multiplying the sum by the common ratio, each term becomes

      the next term. We shift over the sum to get the subtraction to mostly cancel

  out, leaving just the  rst term and new last term.

Example 2.2.8

      Find a closed formula for Sn   2 + 10 + 50 +       + 2   5n.

    Solution. The common ratio is 5. So we have

                    S   2 + 10 + 50 +       + 2   5n
                                                      1
                    5S  10 + 50 +       + 2   5n+ 2   5n+
                                1
                  4S   2 2   5n+

                        1
              2 2   5n+
      Thus S  
                    4


            Even though this might seem like a new technique, you have probably

used it before.

Example 2.2.9

    Express 0:464646: : : as a fraction.

      Solution. Let N   0:46464646: : :. Consider 0:01N. We get:  156 2. Sequences


                                N   0:4646464: : :

                            0:01N   0:00464646: : :

                            0:99N   0:46

              46
            SoN  . What have we done? We viewed the repeating deci-
              99
            mal0:464646: : :as a sum of the geometric sequence0:46;0:0046;0:000046; : : :

        The common ratio is0:01. The only real di erence is that we are

          now computing anin nitegeometric sum, we do not have the extra

        “last” term to consider. Really, this is the result of taking a limit as

          you would in calculus when you compute in nite geometric sums.


                              Exercises

        1. Consider the sequence 5;9;13;17;21; : : : with a1  5

          (a) Give a recursive de nition for the sequence.

          (b) Give a closed formula for the nth term of the sequence.

          (c) Is 2013 a term in the sequence? Explain.

              (d)How many terms does the sequence5;9;13;17;21; : : : ;533have?

            (e) Find the sum: 5 + 9 + 13 + 17 + 21 +       + 533. Show your work.

                (f)Use what you found above to  ndbn, thenthterm of1;6;15;28;45; : : :,

          where b0  1

      2. Consider the sequence ann which starts 8;14;20;26; : : :.
                                0

          (a) What is the next term in the sequence?

            (b) Find a formula for the nth term of this sequence.

                                                            99
              (c) Find the sum of the  rst 100 terms of the sequence:ak.
                                                              k 0

    3. Consider the sum 4 + 11 + 18 + 25 +       + 249.

          (a) How many terms (summands) are in the sum?

              (b) Compute the sum using a technique discussed in this section.

    4. Consider the sequence 1;7;13;19; : : : ;6n + 7.

              (a)How many terms are there in the sequence? Your answer will

            be in terms of n.

        (b) What is the second-to-last term?

            (c) Find the sum of all the terms in the sequence, in terms of n.

        5. Find 5 + 7 + 9 + 11 +       + 521 using a technique from this section.                                    2.2. Arithmetic and Geometric Sequences157


6. Find 5 + 15 + 45 +       + 5   320.

           24230
7. Find 1+.
          39       +
                      330

    8. Find x and y such that 27; x; y;1 is part of an arithmetic sequence.

          Then  ndxandyso that the sequence is part of a geometric

  sequence.

          (Warning: x and y might not be integers.)

    9. Find x and y such that 5; x; y;32 is part of an arithmetic sequence.

          Then  ndxandyso that the sequence is part of a geometric

  sequence.

          (Warning: x and y might not be integers.)

  10.Is there a pair of integersa; bsuch thata; x1; y1; bis part of an

          arithmetic sequences anda; x2; y2; bis part of a geometric sequence

    with x1; x2; y1; y2all integers?

      11.Consider the sequence2;7;15;26;40;57; : : :(witha0 2). By looking

          at the di erences between terms, express the sequence as a sequence

        of partial sums. Then  nd a closed formula for the sequence by

      computing the nth partial sum.

      12.Starting with any rectangle, we can create a new, larger rectangle by

          attaching a square to the longer side. For example, if we start with

        a2 5rectangle, we would glue on a5 5square, forming a5 7

  rectangle:


                5 5

                  257

              The next rectangle would be formed by attaching a7 7square to

    the top or bottom of the 5   7 rectangle.

        (a)Create a sequence of rectangles using this rule starting with a

              1 2rectangle. Then write out the sequence ofperimetersfor the

            rectangles (the  rst term of the sequence would be 6, since the

            perimeter of a 1   2 rectangle is 6 - the next term would be 10).

        (b) Repeat the above part this time starting with a 1   3 rectangle.

          (c)Find recursive formulas for each of the sequences of perimeters

            you found in parts (a) and (b). Don’t forget to give the initial

          conditions as well.

          (d)Are the sequences arithmetic? Geometric? If not, are theyclose

            to being either of these (i.e., are the di erences or ratiosalmost

          constant)? Explain.  158 2. Sequences

      13.If you have enough toothpicks, you can make a large triangular grid.

          Below, are the triangular grids of size 1 and of size 2. The size 1 grid

            requires 3 toothpicks, the size 2 grid requires 9 toothpicks.





            (a)Lettnbe the number of toothpicks required to make a size

                ntriangular grid. Write out the  rst 5 terms of the sequence

          t1; t2; : : :.

              (b)Find a recursive de nition for the sequence. Explain why you

          are correct.

                (c)Is the sequence arithmetic or geometric? If not, is it the sequence

                    of partial sums of an arithmetic or geometric sequence? Explain

            why your answer is correct.

              (d)Use your results from part (c) to  nd a closed formula for the

            sequence. Show your work.

          14.If you were to shade in an   nsquare on graph paper, you could do

          it the boring way (with sides parallel to the edge of the paper) or the

        interesting way, as illustrated below:









              The interesting thing here, is that a3 3square now has area 13.

          Our goal is the  nd a formula for the area of an   n(diagonal) square.

              (a)Write out the  rst few terms of the sequence of areas (assume

                a1 1,a2 5, etc). Is the sequence arithmetic or geometric? If

              not, is it the sequence of partial sums of an arithmetic or geometric

                  sequence? Explain why your answer is correct, referring to the

            diagonal squares.

              (b)Use your results from part (a) to  nd a closed formula for the

                  sequence. Show your work. Note, while there are lots of ways

                to  nd a closed formula here, you should use partial sums

          speci cally.                                    2.2. Arithmetic and Geometric Sequences159

        (c)Find the closed formula in as many other interesting ways as

        you can.

      15.Here is a surprising use of sequences to answer a counting question:

          How many license plates consist of 6 symbols, using only the three

        numerals 1, 2, and 3 and the four letters a, b, c, and d, so that no

          numeral appears after any letter? For example, “31ddac”, “123321”,

          and “ababab” are each acceptable license plates, but “13ba2c” is not.

          (a)First answer this question by considering di erent cases: how

            many of the license plates contain no numerals? How many

          contain one numeral, etc.

          (b)Now use the techniques of this section to show why the answer

        is 47 37.  160 2. Sequences


                      2.3 Polynomial Fitting


      Investigate!

          A standard8 8chessboard contains 64 squares. Actually, this is

            just the number of unit squares. How many squares of all sizes

              are there on a chessboard? Start with smaller boards:1 1,2 2,

            3 3, etc. Find a formula for the total number of squares in an

      n   n board.

            !Attempt the above activity before proceeding!

        So far we have seen methods for  nding the closed formulas for

      arithmetic and geometric sequences. Since we know how to compute the

      sum of the  rstnterms of arithmetic and geometric sequences, we can

      compute the closed formulas for sequences which have an arithmetic (or

        geometric) sequence of di erences between terms. But what if we consider

          a sequence which is the sum of the  rstnterms of a sequence which is

      itself the sum of an arithmetic sequence?

            Before we get too carried away, let’s consider an example: How many

      squares (of all sizes) are there on a chessboard? A chessboard consists

      of64squares, but we also want to consider squares of longer side length.

      Even though we are only considering an8 8board, there is already a

      lot to count. So instead, let us build a sequence: the  rst term will be the

      number of squares on a1 1board, the second term will be the number

      of squares on a2 2board, and so on. After a little thought, we arrive at

  the sequence

                            1;5;14;30;55; : : :.

          This sequence is not arithmetic (or geometric for that matter), but

        perhaps it’s sequence of di erences is. For di erences we get

                              4;9;16;25; : : :.

          Not a huge surprise: one way to count the number of squares in a4 4

      chessboard is to notice that there are16squares with side length 1, 9 with

      side length 2, 4 with side length 3 and 1 with side length 4. So the original

      sequence is just the sum of squares. Now this sequence of di erences

      is not arithmetic since it’s sequence of di erences (the di erences of the

      di erences of the original sequence) is not constant. In fact, this sequence

  of second di erences is

                              5;7;9; : : :,

      whichisan arithmetic sequence (with constant di erence 2). Notice

      that our original sequence hadthird di erences(that is, di erences of

      di erences of di erences of the original) constant. We will call such a                                                2.3. Polynomial Fitting161


      sequence 3-constant. The sequence1;4;9;16; : : :has second di erences

      constant, so it will be a 2-constant sequence. In general, we will say a

      sequence is a  k-constant sequence if the kth di erences are constant.

Example 2.3.1

          Which of the following sequences are k-constant for some value of

k?

      1. 2;3;7;14;24;37; : : :.

      2. 1;8;27;64;125;216; : : :.

      3. 1;2;4;8;16;32;64; : : :.


  Solution.

              1.This is the sequence from Example 2.2.6, in which we found a

              closed formula by recognizing the sequence as the sequence of

            partial sums of an arithmetic sequence. Indeed, the sequence

          of  rst di erences is1;4;7;10;13; : : :, which itself has di er-

              ences3;3;3;3; : : :. Thus2;3;7;14;24;37; : : :is a 2-constant

        sequence.

              2.These are the perfect cubes. The sequence of  rst di erences

              is7;19;37;61;91; : : :; the sequence of second di erences is

            12;18;24;30; : : :; the sequence of third di erences is constant:

            6;6;6; : : :. Thus the perfect cubes are a 3-constant sequence.

            3.If we take  rst di erences we get1;2;4;8;16; : : :. Wait, what?

            That’s the sequence we started with. So taking second dif-

                ferences will give us the same sequence again. No matter

            how many times we repeat this we will always have the same

              sequence, which in particular means no  nite number of di er-

            ences will be constant. Thus this sequence is not k-constant

      for any k.


            The 0-constant sequences are themselves constant, so a closed formula

    for them is easy to compute (it’s just the constant). The 1-constant

        sequences are arithmetic and we have a method for  nding closed formulas

      for them as well. Every 2-constant sequence is the sum of an arithmetic

      sequence so we can  nd formulas for these as well. But notice that the

        format of the closed formula for a 2-constant sequence is always quadratic.

      For example, the square numbers are 2-constant with closed formula

      an  n2. The triangular numbers (also 2-constant) have closed formula
    nn+12
  an , which when multiplied out gives you annterm as well. It
    2  162 2. Sequences


      appears that every time we increase the complexity of the sequence, that

      is, increase the number of di erences before we get constants, we also

      increase the degree of the polynomial used for the closed formula. We go

      from constant to linear to quadratic. The sequence of di erences between

          terms tells us something about the rate of growth of the sequence. If a

      sequence is growing at a constant rate, then the formula for the sequence

      will be linear. If the sequence is growing at a rate which itself is growing at

        a constant rate, then the formula is quadratic. You have seen this elsewhere:

      if a function has a constant second derivative (rate of change) then the

    function must be quadratic.

    This works in general:

      Finite Di erences.

        The closed formula for a sequence will be a degreekpolynomial

        if and only if the sequence is k-constant (i.e., thekth sequence of

    di erences is constant).

          This tells us that the sequence of numbers of squares on a chessboard,

          1;5;14;30;55; : : :, which we saw to be 3-constant, will have a cubic

    (degree 3 polynomial) for its closed formula.

          Now once we know what format the closed formula for a sequence

      will take, it is much easier to actually  nd the closed formula. In the case

      that the closed formula is a degreekpolynomial, we just needk +1data

      points to “ t” the polynomial to the data.

    Example 2.3.2

            Find a formula for the sequence 3;7;14;24; : : :. Assume a1  3.

          Solution. First, check to see if the formula has constant di erences

        at some level. The sequence of  rst di erences is4;7;10; : : :which

          is arithmetic, so the sequence of second di erences is constant. The

        sequence is 2-constant, so the formula foranwill be a degree 2

        polynomial. That is, we know that for some constants a, b, and c,

                                  2
                            an  an+ bn + c.

            Now to  nda,b, andc. First, it would be nice to know whata0

        is, since plugging inn  0simpli es the above formula greatly. In

        this case,a0 2(work backwards from the sequence of constant

    di erences). Thus

                                    2
                        a0  2   a   0+ b   0 + c,

        so c   2. Now plug in n   1 and n   2. We get

                            a1  3   a + b + 2                                                2.3. Polynomial Fitting163


                          a2  7   a4 + b2 + 2.

              At this point we have two (linear) equations and two unknowns,

      so we can solve the system foraandb(using substitution or
                                                31
        elimination or even matrices). We  nda  andb  , so
                                                22
      321
  an nn + 2.
      22


Example 2.3.3

      Find a closed formula for the number of squares on ann   n

  chessboard.

      Solution. We have seen that the sequence1;5;14;30;55; : : :is

           3-constant, so we are looking for a degree 3 polynomial. That is,

                            32
                        an  an+ bn+ cn + d.

            We can  nddif we know whata0is. Working backwards from

          the third di erences, we  nda0 0(unsurprisingly, since there are

        no squares on a0 0chessboard). Thusd  0. Now plug inn  1,

  n   2, and n   3:

                          1  a + b + c

                          5  8a + 4b + 2c

                          14  27a + 9b + 3c.

                                                    11
        If we solve this system of equations we geta  ,b  and
                                                    32
    1
        c  . Therefore the number of squares on ann   nchessboard is
    6
      131211
                               12n + 1.
  an 
        3n+2n+6n  6nn +


            Note: Since the squares-on-a-chessboard problem is really asking for
                                                n

                                                    2
    the sum of squares, we now have a nice formula fork.
                                                k 1
          Not all sequences will have polynomials as their closed formula. We

      can use the theory of  nite di erences to identify these.

Example 2.3.4

          Determine whether the following sequences can be described by a

    polynomial, and if so, of what degree.

    1. 1;2;4;8;16; : : :

        2. 0;7;50;183;484;1055; : : :  164 2. Sequences


        3. 1;1;2;3;5;8;13; : : :


    Solution.

              1.As we saw in Example 2.3.1, this sequence is not k-constant

                for anyk. Therefore the closed formula for the sequence is

              not a polynomial. In fact, we know the closed formula is

                an 2n, which grows faster than any polynomial (so is not a

          polynomial).

            2.The sequence of  rst di erences is7;43;133;301;571; : : :. The

                second di erences are:36;90;168;270; : : :. Third di erence:

                54;78;102; : : :. Fourth di erences:24;24; : : :. As far as we can

                tell, this sequence of di erences is constant so the sequence

                is 4-constant and as such the closed formula is a degree 4

          polynomial.

            3.This is the Fibonacci sequence. The sequence of  rst di er-

              ences is0;1;1;2;3;5;8; : : :, the second di erences are1;0;1;1;2;3;5: : :.

                We notice that after the  rst few terms, we get the original

                sequence back. So there will never be constant di erences,

              so the closed formula for the Fibonacci sequence is not a

          polynomial.



                              Exercises

          1.Use polynomial  tting to  nd the formula for thenth term of the

      sequence ann which starts,
                  0

                              0;2;6;12;20; : : :.

          2.Use polynomial  tting to  nd the formula for thenth term of the

      sequence ann which starts,
                  0

                              1;2;4;8;15;26: : :.

          3.Use polynomial  tting to  nd the formula for thenth term of the

      sequence ann which starts,
                  0

                              2;5;11;21;36; : : :.

          4.Use polynomial  tting to  nd the formula for thenth term of the

      sequence ann which starts,
                  0

                            3;6;12;22;37;58; : : :.                                                2.3. Polynomial Fitting165

5. Make up sequences that have

        (a) 3, 3, 3, 3, . . . as its second di erences.

      (b) 1, 2, 3, 4, 5, . . . as its third di erences.

        (c) 1, 2, 4, 8, 16, . . . as its 100th di erences.

    6.Consider the sequence1;3;7;13;21; : : :. Explain how you know the

          closed formula for the sequence will be quadratic. Then “guess” the

            correct formula by comparing this sequence to the squares1;4;9;16; : : :

      (do not use polynomial  tting).

    7.Use a similar technique as in the previous exercise to  nd a closed

      formula for the sequence 2;11;34;77;146;247; : : :.

    8.Supposean  n2+3n +4.Find a closed formula for the sequence of

    di erences by computing an an1.

      9.Generalize Exercise 2.3.8: Find a closed formula for the sequence of

        di erences ofan  an2+ bn + c. That is, prove that every quadratic

        sequence has arithmetic di erences.

      10.Can you use polynomial  tting to  nd the formula for thenth term of

      the sequence 4, 7, 11, 18, 29, 47, . . . ? Explain why or why not.

    11.Will thenth sequence of di erences of2;6;18;54;162; : : :ever be

    constant? Explain.

      12.In their down time, ghost pirates enjoy stacking cannonballs in trian-

          gular based pyramids (aka, tetrahedrons), like those pictured here:







          Note, these are solid tetrahedrons, so there will be some cannonballs

          obscured from view (the picture on the right has one cannonball in

      the back not shown in the picture, for example)

              The pirates wonder how many cannonballs would be required to

          build a pyramid 15 layers high (thus breaking the world cannonball

      stacking record). Can you help?

            (a)LetPndenote the number of cannonballs needed to create

          a pyramidnlayers high. SoP1  1,P2  4, and so on.

          Calculate P3, P4 and P5.

        (b)Use polynomial  tting to  nd a closed formula forPn. Show

        your work.  166 2. Sequences

              (c)Answer the pirate’s question: how many cannonballs do they

              need to make a pyramid 15 layers high?

                (d)Bonus: Locate this sequence in Pascal’s triangle. Why does that

          make sense?                                          2.4. Solving Recurrence Relations167


              2.4 Solving Recurrence Relations


    Investigate!

    Consider the recurrence relation

                          an  5an1 6an2.


            1.What sequence do you get if the initial conditions area0 1,

            a1  2? Give a closed formula for this sequence.

            2.What sequence do you get if the initial conditions area0 1,

            a1  3? Give a closed formula.

          3. What if a0  2 and a1  5? Find a closed formula.

        !Attempt the above activity before proceeding!

          We have seen that it is often easier to  nd recursive de nitions than

      closed formulas. Lucky for us, there are a few techniques for converting

      recursive de nitions to closed formulas. Doing so is calledsolving a

      recurrence relation. Recall that the recurrence relation is a recursive

      de nition without the initial conditions. For example, the recurrence

    relation for the Fibonacci sequence isFn  Fn1+ Fn2. (This, together

    with the initial conditionsF0 0andF1 1give the entire recursive

de nition for the sequence.)

Example 2.4.1

            Find a recurrence relation and initial conditions for1;5;17;53;161;485: : :.

          Solution. Finding the recurrence relation would be easier if we had

          some context for the problem (like the Tower of Hanoi, for example).

          Alas, we have only the sequence. Remember, the recurrence relation

        tells you how to get from previous terms to future terms. What

          is going on here? We could look at the di erences between terms:

        4;12;36;108; : : :. Notice that these are growing by a factor of 3. Is

        the original sequence as well?1 3 3,5 3 15,17 3 51and so

          on. It appears that we always end up with 2 less than the next term.

Aha!

          Soan 3an1+2is our recurrence relation and the initial

    condition is a0  1.


            We are going to try tosolvethese recurrence relations. By this we mean

        something very similar to solving di erential equations: we want to  nd a

      function ofn(a closed formula) which satis es the recurrence relation, as  168 2. Sequences


      well as the initial condition.2Just like for di erential equations,  nding a

      solution might be tricky, but checking that the solution is correct is easy.

    Example 2.4.2

            Check thatan 2n+1is a solution to the recurrence relation

      an  2an1 1 with a1  3.

        Solution. First, it is easy to check the initial condition:a1should

          be21+1according to our closed formula. Indeed,21+1 3, which

          is what we want. To check that our proposed solution satis es the

        recurrence relation, try plugging it in.

                                    n1
                                           1 1
                        2an1 1   22+
                                  n
                                       2 1
                                  2+
                                  n
                                  2+ 1

                                  an.

            That’s what our recurrence relation says! We have a solution.


            Sometimes we can be clever and solve a recurrence relation by inspec-

      tion. We generate the sequence using the recurrence relation and keep

      track of what we are doing so that we can see how to jump to  nding just

        the anterm. Here are two examples of how you might do that.

          Telescopingrefers to the phenomenon when many terms in a large

      sum cancel out—so the sum “telescopes.” For example:

        2 1 + 3 2 + 4 3 +       + 100 99 + 101 100   1 + 101

        because every third term looks like:2+ 2 0, and then3+ 3 0and

so on.

        We can use this behavior to solve recurrence relations. Here is an

example.

    Example 2.4.3

        Solve the recurrence relation an  an1+ n with initial term a0  4.

        Solution. To get a feel for the recurrence relation, write out the

             rst few terms of the sequence:4;5;7;10;14;19; : : :. Look at the

          di erence between terms.a1 a0 1anda2 a1 2and so on.

        The key thing here is that the di erence between terms isn. We


            2Recurrence relations are sometimes called di erence equations since they can describe
          the di erence between terms and this highlights the relation to di erential equations
further.                                          2.4. Solving Recurrence Relations169


      can write this explicitly:an an1  n. Of course, we could have

          arrived at this conclusion directly from the recurrence relation by

    subtracting an1from both sides.

            Now use this equation over and over again, changingneach

  time:

                            a1 a0  1

                            a2 a1  2

                            a3 a2  3

                                ::
                                ::
                                ::

                          an an1  n.

              Add all these equations together. On the right-hand side, we get

        the sum1+2+3+       + n. We already know this can be simpli ed
    nn+1
      to. What happens on the left-hand side? We get
      2

      a1 a0 + a2 a1 + a3 a2 +       an1 an2 + an an1.

          This sum telescopes. We are left with only thea0from the

         rst equation and theanfrom the last equation. Putting this all
                              nn+1nn+1
                                                   a0. But we know
    together we havea0+ an oran 
                              22+
          thata0 4. So the solution to the recurrence relation, subject to the

  initial condition is
                              nn + 1
                        an + 4.
                                2

              (Now that we know that, we should notice that the sequence is

      the result of adding 4 to each of the triangular numbers.)


          The above example shows a way to solve recurrence relations of the

                            n
      forman  an1+ fnwherefkhas a known closed formula. If
                            k 1
    you rewrite the recurrence relation asan an1  fn, and then add up

      all the di erent equations withnranging between 1 andn, the left-hand

                                                            n
  side will always give youan a0. The right-hand side will befk,
                                                            k 1
    which is why we need to know the closed formula for that sum.

          However, telescoping will not help us with a recursion such asan 

      3an1+2since the left-hand side will not telescope. You will have3an1’s

    but only one an1. However, we can still be clever if we use iteration.

            We have already seen an example of iteration when we found the closed

      formula for arithmetic and geometric sequences. The idea is, weiteratethe

        process of  nding the next term, starting with the known initial condition,

        up until we havean. Then we simplify. In the arithmetic sequence example,  170 2. Sequences


      we simpli ed by multiplyingdby the number of times we add it toawhen

      we get to an, to get from an  a + d + d + d +       + d to an  a + dn.

          To see how this works, let’s go through the same example we used for

      telescoping, but this time use iteration.

    Example 2.4.4

            Use iteration to solve the recurrence relationan  an1+ nwith

    a0  4.

        Solution. Again, start by writing down the recurrence relation

        whenn  1. This time, don’t subtract thean1terms to the other

    side:

                              a1  a0+ 1.

            Nowa2  a1+2, but we know whata1is. By substitution, we

    get

                            a2  a0+ 1 + 2.

          Now go to a3  a2+ 3, using our known value of a2:

                          a3  a0+ 1 + 2 + 3.

            We notice a pattern. Each time, we take the previous term and

      add the current index. So

                  an  a0+ 1 + 2 + 3 +       + n 1 + n.

            Regrouping terms, we notice thatanis justa0plus the sum of

        the integers from 1 to n. So, since a0  4,

                                    nn + 1
                          an  4 +.
                                      2


          Of course in this case we still needed to know formula for the sum of

      1; : : : ; n. Let’s try iteration with a sequence for which telescoping doesn’t

work.

    Example 2.4.5

          Solve the recurrence relation an  3an1+ 2 subject to a0  1.

          Solution. Again, we iterate the recurrence relation, building up to

    the index n.

        a1  3a0+ 2

          a2  3a1 + 2   33a0+ 2 + 2                                          2.4. Solving Recurrence Relations171


          a3  3a2 + 2   333a0+ 2 + 2 + 2

      :::
      :::
      :::

          an  3an1 + 2   3333      3a0+ 2 + 2 + 2       + 2 + 2.

            It is di cult to see what is happening here because we have to

          distribute all those 3’s. Let’s try again, this time simplifying a bit as

  we go.

    a1  3a0+ 2
                                    2
        a2  3a1 + 2   33a0+ 2 + 2   3a0+ 2   3 + 2
                      232
                               2   3 + 2 + 2   3a0+ 2   3+ 2   3 + 2
      a3  3a2 + 2   33a0+

    :::
    :::
    :::
                        n1n2
      an  3an1 + 2   33a0+ 2   3+       + 2 + 2
                  nn1n2
                           2   3+ 2   3+       + 2   3 + 2.
                  3a0+

                                               hstu i. Note that all
        Now we simplify.a0 1, so we have3n+

        the other terms have a 2 in them. In fact, we have a geometric sum

          with  rst term2and common ratio3. We have seen how to simplify
                                    22 3nn
        2+2 3+2 32+     +2 3n1. We getwhich simpli es to31.
                                      2
          Putting this together with the  rst3nterm gives our closed formula:

                                  n
                          an  2   3 1.


          Iteration can be messy, but when the recurrence relation only refers

      to one previous term (and maybe some function ofn) it can work well.

      However, trying to iterate a recurrence relation such asan 2an1+3an2

      will be way too complicated. We would need to keep track of two sets of

        previous terms, each of which were expressed by two previous terms, and

      so on. The length of the formula would grow exponentially (double each

      time, in fact). Luckily there happens to be a method for solving recurrence

    relations which works very well on relations like this.


                The Characteristic Root Technique

        Suppose we want to solve a recurrence relation expressed as a combination

    of the two previous terms, such asan  an1+6an2. In other words, we

  want to  nd a function ofnwhich satis esan an16an2 0. Now

        iteration is too complicated, but think just for a second what would happen

      if wediditerate. In each step, we would, among other things, multiply a

      previous iteration by 6. So our closed formula would include6multiplied

      some number of times. Thus it is reasonable to guess the solution will  172 2. Sequences


      contain parts that look geometric. Perhaps the solution will take the form

  rnfor some constant r.

          The nice thing is, we know how to check whether a formula is actually

      a solution to a recurrence relation: plug it in. What happens if we plug in

  rninto the recursion above? We get

                          nn1n2
                        r r 6r  0.

    Now solve for r:
                          n22
                          rr r 6   0,

          so by factoring,r   2orr  3(orr  0, although this does not help us).

          This tells us thatan  2nis a solution to the recurrence relation, as is

          an 3n. Which one is correct? They both are, unless we specify initial

          conditions. Notice we could also havean  2n+3n. Oran 72n+4 3n.

        In fact, for anyaandb,an  a2n+ b3nis a solution (try plugging this

      into the recurrence relation). To  nd the values ofaandb, use the initial

conditions.

          This points us in the direction of a more general technique for solving

      recurrence relations. Notice we will always be able to factor out thern2

      as we did above. So we really only care about the other part. We call this

      other part thecharacteristic equationfor the recurrence relation. We are

      interested in  nding the roots of the characteristic equation, which are

    called (surprise) the characteristic roots.

      Characteristic Roots.

          Given a recurrence relationan+ an1+an2 0, thecharacteristic

    polynomial is
                              2
                              x+  x + 

      giving the characteristic equation:

                            2
                            x+  x +    0.

              Ifr1andr2are two distinct roots of the characteristic polynomial

          (i.e., solutions to the characteristic equation), then the solution to

      the recurrence relation is

                                  nn
                            an  ar+ br,
                                  12

        where a and b are constants determined by the initial conditions.                                          2.4. Solving Recurrence Relations173


Example 2.4.6

      Solve the recurrence relationan 7an110an2witha0 2and

  a1  3.

        Solution. Rewrite the recurrence relationan7an1+10an2 0.

      Now form the characteristic equation:

                          2
                          x 7x + 10   0

  and solve for x:

                          x 2x 5   0

        sox  2andx  5are the characteristic roots. We therefore know

        that the solution to the recurrence relation will have the form

                                nn
                          an  a2+ b5.

          To  ndaandb, plug inn  0andn  1to get a system of two

    equations with two unknowns:

                            00
                      2   a2+ b5  a + b
                            11
                        3   a2+ b5  2a + 5b

                                  7 1
        Solving this system givesa  andb  so the solution to
                                  33
    the recurrence relation is

                              71
                                nn
                          an 25.
                              33


          Perhaps the most famous recurrence relation isFn  Fn1+Fn2, which

      together with the initial conditionsF0 0andF1 1de nes the Fibonacci

      sequence. But notice that this is precisely the type of recurrence relation

      on which we can use the characteristic root technique. When you do, the

      only thing that changes is that the characteristic equation does not factor,

      so you need to use the quadratic formula to  nd the characteristic roots.

      In fact, doing so gives the third most famous irrational number,', the

golden ratio.

            Before leaving the characteristic root technique, we should think about

      what might happen when you solve the characteristic equation. We have

      an example above in which the characteristic polynomial has two distinct

        roots. These roots can be integers, or perhaps irrational numbers (requiring

      the quadratic formula to  nd them). In these cases, we know what the

  solution to the recurrence relation looks like.

          However, it is possible for the characteristic polynomial to have only

      one root. This can happen if the characteristic polynomial factors asxr2.  174 2. Sequences


          It is still the case thatrnwould be a solution to the recurrence relation,

      but we won’t be able to  nd solutions for all initial conditions using the
                    nnnn
          general forman  ar+ br, since we can’t distinguish betweenrandr.
                    1212
  We are in luck though:

          Characteristic Root Technique for Repeated Roots.

        Suppose the recurrence relationan   an1+ an2has a charac-

        teristic polynomial with only one rootr. Then the solution to the

      recurrence relation is

                                  nn
                            an  ar+ bnr

        where a and b are constants determined by the initial conditions.


          Notice the extraninbnrn. This allows us to solve for the constantsa

    and b from the initial conditions.

    Example 2.4.7

        Solve the recurrence relationan 6an19an2with initial condi-

    tions a0  1 and a1  4.

                                                      9. We solve the
        Solution. The characteristic polynomial isx26x +

      characteristic equation

                            2
                            x 6x + 9   0

    by factoring:
                                    2
                              x 3  0

        sox  3is the only characteristic root. Therefore we know that the

          solution to the recurrence relation has the form

                                  nn
                            an  a3+ bn3

          for some constants a and b. Now use the initial conditions:

                              00
                      a0  1   a3+ b   0   3  a

                      a1  4   a   3 + b   1   3   3a + 3b.

                                  1
          Sincea  1, we  nd thatb  . Therefore the solution to the
                                  3
      recurrence relation is

                                  n1n
                            an  3+n3.
                                    3                                          2.4. Solving Recurrence Relations175


          Although we will not consider examples more complicated than

      these, this characteristic root technique can be applied to much more

      complicated recurrence relations. For example,an 2an1+ an23an3

    has characteristic polynomialx32x2 x +3. Assuming you see how

    to factor such a degree 3 (or more) polynomial you can easily  nd the

      characteristic roots and as such solve the recurrence relation (the solution
                      nnn
  would look likean  ar+ br+ crif there were 3 distinct roots). It is
                    123
    also possible that the characteristics roots are complex numbers.

          However, the characteristic root technique is only useful for solving

      recurrence relations in a particular form:anis given as a linear combi-

      nation of some number of previous terms. These recurrence relations

      are calledlinear homogeneous recurrence relations with constant coef-

       cients. The “homogeneous” refers to the fact that there is no additional

    term in the recurrence relation other than a multiple ofajterms. For

    example,an 2an1+1isnon-homogeneousbecause of the additional

      constant 1. There are general methods of solving such things, but we

      will not consider them here, other than through the use of telescoping or

iteration described above.


                            Exercises

    1.Find the next two terms inann beginning3;5;11;21;43;85: : :.
                                    0
          Then give a recursive de nition for the sequence. Finally, use the

            characteristic root technique to  nd a closed formula for the sequence.

    2. Consider the sequences 2;5;12;29;70;169;408; : : : (with a0  2).

          (a) Describe the rate of growth of this sequence.

          (b) Find a recursive de nition for the sequence.

      (c) Find a closed formula for the sequence.

        (d)If you look at the sequence of di erences between terms, and

            then the sequence of second di erences, the sequence of third

            di erences, and so on, will you ever get a constant sequence?

          Explain how you know.

    3. Solve the recurrence relation an  an1+ 2nwith a0  5.

      4.Show that4nis a solution to the recurrence relationan 3an1+4an2.

    5.Find the solution to the recurrence relationan 3an1+4an2with

      initial terms a0  2 and a1  3.

    6.Find the solution to the recurrence relationan 3an1+4an2with

      initial terms a0  5 and a1  8.  176 2. Sequences

          7.Solve the recurrence relationan 3an1+10an2with initial terms

      a0  4 and a1  1.

      8.Suppose thatrnandqnare both solutions to a recurrence relation of

              the forman   an1+ an2. Prove thatc   rn+ d   qnis also a solution

          to the recurrence relation, for any constants c; d.

          9.Think back to the magical candy machine at your neighborhood

        grocery store. Suppose that the  rst time a quarter is put into the

          machine 1 Skittle comes out. The second time, 4 Skittles, the third

        time 16 Skittles, the fourth time 64 Skittles, etc.

                (a)Find both a recursive and closed formula for how many Skittles

            the nth customer gets.

                (b)Check your solution for the closed formula by solving the recur-

              rence relation using the Characteristic Root technique.

          10.Letanbe the number of1  ntile designs you can make using1 1

          squares available in 4 colors and 1   2 dominoes available in 5 colors.

                (a)First,  nd a recurrence relation to describe the problem. Explain

                why the recurrence relation is correct (in the context of the

          problem).

            (b) Write out the  rst 6 terms of the sequence a1; a2; : : :.

              (c) Solve the recurrence relation. That is,  nd a closed formula.

          11.You have access to1 1tiles which come in 2 di erent colors and

          1 2tiles which come in 3 di erent colors. We want to  gure out how

              many di erent 1   n path designs we can make out of these tiles.

              (a) Find a recursive de nition for the number of paths of length n.

                (b)Solve the recurrence relation using the Characteristic Root tech-

          nique.

      12. Solve the recurrence relation an  2an1 an2.

            (a) What is the solution if the initial terms are a0  1 and a1  2?

          (b) What do the initial terms need to be in order for a9  30?

              (c) For which x are there initial terms which make a9  x?

    13. Consider the recurrence relation an  4an1 4an2.

                (a)Find the general solution to the recurrence relation (beware the

          repeated root).

          (b) Find the solution when a0  1 and a1  2.

          (c) Find the solution when a0  1 and a1  8.                                                      2.5. Induction177


                        2.5 Induction

      Mathematical induction is a proof technique, not unlike direct proof or

        proof by contradiction or combinatorial proof.3In other words, induction

    is a style of argument we use to convince ourselves and others that a

        mathematical statement is always true. Many mathematical statements can

        be proved by simply explaining what they mean. Others are very di cult to

        prove—in fact, there are relatively simple mathematical statements which

      nobody yet knows how to prove. To facilitate the discovery of proofs,

      it is important to be familiar with some standard styles of arguments.

      Induction is one such style. Let’s start with an example:


                              Stamps

    Investigate!

          You need to mail a package, but don’t yet know how much postage

          you will need. You have a large supply of 8-cent stamps and 5-cent

        stamps. Which amounts of postage can you make exactly using

          these stamps? Which amounts are impossible to make?

        !Attempt the above activity before proceeding!

            Perhaps in investigating the problem above you picked some amounts

      of postage, and then  gured out whether you could make that amount

      using just 8-cent and 5-cent stamps. Perhaps you did this in order: can

      you make 1 cent of postage? Can you make 2 cents? 3 cents? And so on. If

      this is what you did, you were actually answering asequenceof questions.

    We have methods for dealing with sequences. Let’s see if that helps.

        Actually, we will not make a sequence of questions, but rather a

      sequence of statements. LetPnbe the statement “you can makencents

      of postage using just 8-cent and 5-cent stamps.” Since for each value ofn,

    Pnis a statement, it is either true or false. So if we form the sequence of

statements

                      P1;P2;P3;P4; : : :,

    the sequence will consist ofT’s (for true) andF’s (for false). In our

  particular case the sequence starts

                    F; F; F; F;T; F; F;T; F;T; F; F;T; : : :

  becauseP1;P2;P3;P4are all false (you cannot make 1, 2, 3, or 4

    cents of postage) but P5 is true (use one 5-cent stamp), and so on.

        Let’s think a bit about how we could  nd the value ofPnfor some

      speci cn(the “value” will be eitherTorF). How did we  nd the value of

          3You might or might not be familiar with these yet. We will consider these in Chapter 3.  178 2. Sequences


      thenth term of a sequence of numbers? How did we  ndan? There were

      two ways we could do this: either there was a closed formula foran, so we

          could plug inninto the formula and get our output value, or we had a

      recursive de nition for the sequence, so we could use the previous terms

      of the sequence to compute thenth term. When dealing with sequences

      of statements, we could use either of these techniques as well. Maybe

      there is a way to usenitself to determine whether we can makencents of

      postage. That would be something like a closed formula. Or instead we

      could use the previous terms in the sequence (of statements) to determine

      whether we can makencents of postage. That is, if we know the value

        ofPn 1, can we get from that to the value ofPn? That would be

        something like a recursive de nition for the sequence. Remember,  nding

      recursive de nitions for sequences was often easier than  nding closed

    formulas. The same is true here.

          Suppose I told you thatP43was true (it is). Can you determine from

      this fact the value ofP44(whether it true or false)? Yes you can. Even if

      we don’t know how exactly we made 43 cents out of the 5-cent and 8-cent

      stamps, we do know that there was some way to do it. What if that way

      used at least three 5-cent stamps (making 15 cents)? We could replace

      those three 5-cent stamps with two 8-cent stamps (making 16 cents). The

      total postage has gone up by 1, so we have a way to make 44 cents, soP44

      is true. Of course, we assumed that we had at least three 5-cent stamps.

        What if we didn’t? Then we must have at least three 8-cent stamps (making

      24 cents). If we replace those three 8-cent stamps with  ve 5-cent stamps

      (making 25 cents) then again we have bumped up our total by 1 cent so we

    can make 44 cents, so P44 is true.

          Notice that we have not said how to make 44 cents, just that we can,

      on the basis that we can make 43 cents. How do we know we can make

          43 cents? Perhaps because we know we can make42cents, which we

      know we can do because we know we can make 41 cents, and so on. It’s

      a recursion! As with a recursive de nition of a numerical sequence, we

      must specify our initial value. In this case, the initial value is “P1is false.”

          That’s not good, since our recurrence relation just says thatPk +1is

        trueifPkis also true. We need to start the process with a truePk. So

          instead, we might want to use “P28 is true” as the initial condition.

          Putting this all together we arrive at the following fact: it is possible

      to (exactly) make any amount of postage greater than 27 cents using just

          5-cent and 8-cent stamps.4In other words,Pkis true for anyk  28. To

    prove this, we could do the following:

      1. Demonstrate that P28 is true.

        4This is not claiming that there are no amounts less than 27 cents which can also be
made.                                                      2.5. Induction179


      2. Prove that if Pk is true, then Pk + 1 is true (for any k   28).

          Suppose we have done this. Then we know that the 28th term of the

      sequence above is aT(using step 1, the initial condition orbase case),

      and that every term after the 28th isTalso (using step 2, the recursive part

    or inductive case). Here is what the proof would actually look like.

    Proof.LetPnbe the statement “it is possible to make exactlyncents of

      postage using 5-cent and 8-cent stamps.” We will showPnis true for all

n   28.

        First, we show thatP28is true:28 4 5+1 8, so we can make28

    cents using four 5-cent stamps and one 8-cent stamp.

          Now supposePkis true for some arbitraryk  28. Then it is possible

      to makekcents using 5-cent and 8-cent stamps. Note that sincek  28, it

      cannot be that we use fewer than three 5-cent stampsandfewer than three

      8-cent stamps: using two of each would give only 26 cents. Now if we

      have madekcents using at least three 5-cent stamps, replace three 5-cent

      stamps by two 8-cent stamps. This replaces 15 cents of postage with 16

    cents, moving from a total ofkcents tok +1cents. ThusPk +1is true.

    On the other hand, if we have madekcents using at least three 8-cent

      stamps, then we can replace three 8-cent stamps with  ve 5-cent stamps,

      moving from 24 cents to 25 cents, giving a total ofk +1cents of postage.

  So in this case as well Pk + 1 is true.

          Therefore, by the principle of mathematical induction,Pnis true for

all n   28.qed


                        Formalizing Proofs

        What we did in the stamp example above works for many types of problems.

      Proof by induction is useful when trying to prove statements about all

      natural numbers, or all natural numbers greater than some  xed  rst

      case (like 28 in the example above), and in some other situations too. In

      particular, induction should be used when there is some way to go from

    one case to the next – when you can see how to always “do one more.”

          This is a big idea. Thinking about a probleminductivelycan give new

      insight into the problem. For example, to really understand the stamp

      problem, you should think about how any amount of postage (greater

      than 28 cents) can be made (this is non-inductive reasoning) and also how

      the ways in which postage can be madechangesas the amount increases

        (inductive reasoning). When you are asked to provide a proof by induction,

      you are being asked to think about the problemdynamically; how does

  increasing n change the problem?

            But there is another side to proofs by induction as well. In mathematics,

    it is not enough to understand a problem, you must also be able to  180 2. Sequences


        communicate the problem to others. Like any discipline, mathematics has

        standard language and style, allowing mathematicians to share their ideas

      e ciently. Proofs by induction have a certain formal style, and being able

      to write in this style is important. It allows us to keep our ideas organized

      and might even help us with formulating a proof.

          Here is the general structure of a proof by mathematical induction:

        Induction Proof Structure.

          Start by saying what the statement is that you want to prove: “Let

          Pnbe the statement. . . ” To prove thatPnis true for alln  0,

      you must prove two facts:

            1.Base case: Prove thatP0is true. You do this directly. This is

        often easy.

              2.Inductive case: Prove thatPk ! Pk +1for allk  0. That

            is, prove that for anyk  0ifPkis true, thenPk +1is true

              as well. This is the proof of an if . . . then . . . statement, so you

                can assumePkis true (Pkis called theinductive hypothesis).

              You must then explain whyPk +1is also true, given that

          assumption.

            Assuming you are successful on both parts above, you can

          conclude, “Therefore by the principle of mathematical induction,

      the statement Pn is true for all n   0.”


          Sometimes the statementPnwill only be true for values ofn  4, for

      example, or some other value. In such cases, replace all the 0’s above with

  4’s (or the other value).

          The other advantage of formalizing inductive proofs is it allows us

      to verify that the logic behind this style of argument is valid. Why does

          induction work? Think of a row of dominoes set up standing on their

          edges. We want to argue that in a minute, all the dominoes will have

      fallen down. For this to happen, you will need to push the  rst domino.

          That is the base case. It will also have to be that the dominoes are close

      enough together that when any particular domino falls, it will cause the

      next domino to fall. That is the inductive case. If both of these conditions

      are met, you push the  rst domino over and each domino will cause the

  next to fall, then all the dominoes will fall.

        Induction is powerful! Think how much easier it is to knock over

      dominoes when you don’t have to push over each domino yourself. You

      just start the chain reaction, and the rely on the relative nearness of the

    dominoes to take care of the rest.

        Think about our study of sequences. It is easier to  nd recursive

      de nitions for sequences than closed formulas. Going from one case to                                                      2.5. Induction181


      the next is easier than going directly to a particular case. That is what is so

      great about induction. Instead of going directly to the (arbitrary) case for

      n, we just need to say how to get from one case to the next.

            When you are asked to prove a statement by mathematical induction,

      you should  rst think aboutwhythe statement is true, using inductive

      reasoning. Explain why induction is the right thing to do, and roughly

      why the inductive case will work. Then, sit down and write out a careful,

  formal proof using the structure above.


                            Examples

    Here are some examples of proof by mathematical induction.

Example 2.5.1

                                                            nn+1
      Prove for each natural numbern  1that1+2+3+     + n  .
                                                              2

          Solution. First, let’s think inductively about this equation. In fact,

        we know this is true for other reasons (reverse and add comes to

          mind). But why might induction be applicable? The left-hand side

          adds up the numbers from 1 ton. If we know how to do that, adding

        just one more term (n +1) would not be that hard. For example, if

        n  100, suppose we know that the sum of the  rst 100 numbers

        is5050(so1+2+3+       +100 5050, which is true). Now to  nd

        the sum of the  rst 101 numbers, it makes more sense to just add

          101 to 5050, instead of computing the entire sum again. We would

        have1+2+3+     +100+101 5050+101 5151. In fact, it would

        always be easy to add just one more term. This is why we should

  use induction.

      Now the formal proof:
                                                        nn+1
      Proof. LetPnbe the statement1+2+3+       + n  . We
                                                        2
        will show that Pn is true for all natural numbers n   1.
                                      11+1
        Base case: P1 is the statement 1  which is clearly true.
                                        2
          Inductive case: Letk  1be a natural number. Assume (for
                                                            kk+1
        induction) thatPkis true. That means1+2+3+       + k  .
                                                              2
        We will prove thatPk +1is true as well. That is, we must prove
                                  k+1k+2
      that1+2+3+       + k + k +1  . To prove this equation,
                                    2
        start by adding k + 1 to both sides of the inductive hypothesis:

                                      kk + 1
            1 + 2 + 3 +       + k + k + 1  
                                              + k + 1.
                                          2

        Now, simplifying the right side we get:

                                       12k + 1
                kk + 1kk +
                        + k + 1  +
                  222  182 2. Sequences


                                    kk + 1 + 2k + 1
                                 
                                          2
                                    k + 2k + 1
                                 
                                                .
                                        2

            ThusPk +1is true, so by the principle of mathematical induc-

        tion Pn is true for all natural numbers n   1. 


          Note that in the part of the proof in which we provedPk+1fromPk,

      we used the equationPk. This was the inductive hypothesis. Seeing how

      to use the inductive hypotheses is usually straight forward when proving

      a fact about a sum like this. In other proofs, it can be less obvious where it

 ts in.

    Example 2.5.2

      Prove that for all n 2 N, 6n 1 is a multiple of 5.

        Solution. Again, start by understanding the dynamics of the

          problem. What does increasingndo? Let’s try with a few examples.

        Ifn  1, then yes,611 5is a multiple of 5. What does

          incrementingnto 2 look like? We get621 35, which again

          is a multiple of 5. Next,n  3: but instead of just  nding631,

            what did the increase inndo? We will still subtract 1, but now

          we are multiplying by another 6  rst. Viewed another way, we are

        multiplying a number which is one more than a multiple of 5 by 6

        (because621is a multiple of 5, so62is one more than a multiple

        of 5). What do numbers which are one more than a multiple of 5

        look like? They must have last digit 1 or 6. What happens when

          you multiply such a number by 6? Depends on the number, but in

        any case, the last digit of the new number must be a 6. And then if

        you subtract 1, you get last digit 5, so a multiple of 5.

              The point is, every time we multiply by just one more six, we still

        get a number with last digit 6, so subtracting 1 gives us a multiple

      of 5. Now the formal proof:

          Proof. LetPnbe the statement, “6n1is a multiple of 5.” We

      will prove that Pn is true for all n 2 N.

            Base case: P0 is true: 60 1   0 which is a multiple of 5.

              Inductive case: Letkbe an arbitrary natural number. Assume,

          for induction, thatPkis true. That is,6k1is a multiple of5.

          Then6k1 5jfor some integerj. This means that6k 5j +1.

    Multiply both sides by 6:

                        k+1
                        6  65j + 1   30j + 6.                                                      2.5. Induction183


                                    1
          But we want to know about6k+1, so subtract 1 from both


  sides:
                          k+1
                        6 1   30j + 5.

          Of course 30j + 5   56j + 1, so is a multiple of 5.
                1
          Therefore6k+1is a multiple of 5, or in other words,Pk +1

        is true. Thus, by the principle of mathematical inductionPnis

  true for all n 2 N. 


          We had to be a little bit clever (i.e., use some algebra) to locate the6k1
          1
      inside of6k+1before we could apply the inductive hypothesis. This is

  what can make inductive proofs challenging.

        In the two examples above, we started withn  1orn  0. We can

start later if we need to.

Example 2.5.3

    Prove that n2< 2nfor all integers n   5.

          Solution. First, the idea of the argument. What happens when we

        increasenby 1? On the left-hand side, we increase the base of the

          square and go to the next square number. On the right-hand side,

          we increase the power of 2. This means we double the number. So

          the question is, how does doubling a number relate to increasing to

          the next square? Think about what the di erence of two consecutive

      squares looks like. We have n + 12 n2. This factors:

                22
              n + 1 n  n + 1 nn + 1 + n   2n + 1.

                                                              1
                                                               
            But doubling the right-hand side increases it by2n, since2n+

      2n+ 2n. When n is large enough, 2n> 2n + 1.

            What we are saying here is that each timenincreases, the left-

          hand side grows by less than the right-hand side. So if the left-hand

        side starts smaller (as it does whenn  5), it will never catch up.

    Now the formal proof:

      Proof. LetPnbe the statementn2<2n. We will provePnis

    true for all integers n   5.

        Base case:P5is the statement52<25. Since52 25and

      25  32, we see that P5 is indeed true.

            Inductive case: Letk  5be an arbitrary integer. Assume, for

        induction, thatPkis true. That is, assumek2<2k. We will prove
                                    1
        thatPk +1is true, i.e.,k +12<2k+. To prove such an inequality,

          start with the left-hand side and work towards the right-hand side:

            22
        k + 1  k+ 2k + 1  184 2. Sequences


                  k
                    < 2+ 2k + 1: : :by the inductive hypothesis.

                  kkk
                  < 2+ 2: : : since 2k + 1 < 2for k   5:

                  k+1
                  2:

            Following the equalities and inequalities through, we getk +
            1
            12<2k+, in other words,Pk +1. Therefore by the principle of

          mathematical induction, Pn is true for all n   5. 


            The previous example might remind you of theracetrack principlefrom

      calculus, which says that iffa < ga, andf0x < g0xforx > a, then

        fx < gxforx > a. Same idea: the larger function is increasing at a

      faster rate than the smaller function, so the larger function will stay larger.

        In discrete math, we don’t have derivatives, so we look at di erences. Thus

  induction is the way to go.


                              Warning:.

      With great power, comes great responsibility. Induction isn’t magic. It

          seems very powerful to be able to assumePkis true. After all, we are

      trying to provePnis true and the only di erence is in the variable:kvs.

      n. Are we assuming that what we want to prove is true? Not really. We

        assume Pk is true only for the sake of proving that Pk + 1 is true.

        Still you might start to believe that you can prove anything with

      induction. Consider this incorrect “proof” that every Canadian has the

      same eye color: LetPnbe the statement that anynCanadians have the

          same eye color.P1is true, since everyone has the same eye color as

      themselves. Now assumePkis true. That is, assume that in any group of

      kCanadians, everyone has the same eye color. Now consider an arbitrary

      group ofk +1Canadians. The  rstkof these must all have the same eye

          color, sincePkis true. Also, the lastkof these must have the same eye

          color, sincePkis true. So in fact, everyone the group must have the

      same eye color. ThusPk +1is true. So by the principle of mathematical

    induction, Pn is true for all n.

          Clearly something went wrong. The problem is that the proof that

          PkimpliesPk +1assumes thatk  2. We have only shownP1is true.

  In fact, P2 is false.                                                      2.5. Induction185


                          Strong Induction

    Investigate!

        Start with a square piece of paper. You want to cut this square

        into smaller squares, leaving no waste (every piece of paper you

        end up with must be a square). Obviously it is possible to cut

      the square into 4 squares. You can also cut it into 9 squares. It

        turns out you can cut the square into 7 squares (although not all

        the same size). What other numbers of squares could you end up

  with?

        !Attempt the above activity before proceeding!

          Sometimes, to prove thatPk +1is true, it would be helpful to know

      thatPkandPk 1andPk 2are all true. Consider the following

puzzle:

            You have a rectangular chocolate bar, made up ofnidentical

          squares of chocolate. You can take such a bar and break it

            along any row or column. How many times will you have to

          break the bar to reduce it to n single chocolate squares?

      At  rst, this question might seem impossible. Perhaps I meant to ask for

      the smallest number of breaks needed? Let’s investigate.

          Start with some small cases. If n   2, you must have a 1   2 rectangle,

      which can be reduced to single pieces in one break. Withn  3, we must

      have a1 3bar, which requires two breaks: the  rst break creates a single

  square and a 1   2 bar, which we know takes one (more) break.

        What aboutn  4? Now we could have a2 2bar, or a1 4bar. In

    the  rst case, break the bar into two2 2bars, each which require one

      more break (that’s a total of three breaks required). If we started with a

    1 4bar, we have choices for our  rst break. We could break the bar in

      half, creating two1 2bars, or we could break o  a single square, leaving

      a1 3bar. But either way, we still need two more breaks, giving a total of

three.

          It is starting to look like no matter how we break the bar (and no matter

      how thensquares are arranged into a rectangle), we will always have the

      same number of breaks required. It also looks like that number is one less

than n:

      Conjecture 2.5.4Given an-square rectangular chocolate bar, it always takes

  n 1 breaks to reduce the bar to single squares.

          It makes sense to prove this by induction because after breaking the

      bar once, you are left withsmallerchocolate bars. Reducing to smaller

        cases is what induction is all about. We can inductively assume we already  186 2. Sequences


      know how to deal with these smaller bars. The problem is, if we are trying

      to prove the inductive case about ak +1-square bar, we don’t know that

      after the  rst break the remaining bar will haveksquares. So we really

          need to assume that our conjecture is true for all cases less than k + 1.

            Is it valid to make this stronger assumption? Remember, in induction

          we are attempting to prove thatPnis true for alln. What if that were

          not the case? Then there would be some  rstn0for whichPn0was

      false. Sincen0is the rstcounterexample, we know thatPnis true for all

      n < n0. Now we proceed to prove thatPn0is actually true, based on the

    assumption that Pn is true for all smaller n.

            This is quite an advantage: we now have a stronger inductive hypothesis.

      We can assume thatP1,P2,P3, . . .Pkis true, just to show that

        Pk + 1 is true. Previously, we just assumed Pk for this purpose.

          It is slightly easier if we change our variables for strong induction.

      Here is what the formal proof would look like:

          Strong Induction Proof Structure.

        Again, start by saying what you want to prove: “LetPnbe the

        statement. . . ” Then establish two facts:

          1. Base case: Prove that P0 is true.

          2.Inductive case: AssumePkis true for allk < n. Prove that

        Pn is true.

          Conclude, “therefore, by strong induction,Pnis true for alln >0.”


            Of course, it is acceptable to replace 0 with a larger base case if needed.5

            Let’s prove our conjecture about the chocolate bar puzzle:

          Proof.LetPnbe the statement, “it takesn1breaks to reduce an-square

    chocolate bar to single squares.”

        Base case: ConsiderP2. The squares must be arranged into a1 2

      rectangle, and we require21 1breaks to reduce this to single squares.

        Inductive case: Fix an arbitraryn  2and assumePkis true for all

      k < n. Consider an-square rectangular chocolate bar. Break the bar once

      along any row or column. This results in two chocolate bars, say of sizesa

      and b. That is, we have an a-square rectangular chocolate bar, a b-square

    rectangular chocolate bar, and a + b   n.

        We also know thata < nandb < n, so by our inductive hypothesis,

          PaandPbare true. To reduce thea-square bar to single squares takes

          5Technically, strong induction does not require you to prove a separate base case. This
          is because when proving the inductive case, you must show thatP0is true, assuming
        Pkis true for allk <0. But this is not any help so you end up provingP0anyway. To
          be on the safe side, we will always include the base case separately.                                                      2.5. Induction187


      a 1breaks; to reduce theb-square bar to single squares takesb 1breaks.

      Doing this results in our original bar being reduced to single squares. All

    together it took the initial break, plus thea 1andb 1breaks, for a total

  of 1 + a 1 + b 1   a + b 1   n 1 breaks. Thus Pn is true.

      Therefore, by strong induction, Pn is true for all n   2.qed

        Here is a more mathematically relevant example:

Example 2.5.5

          Prove that any natural number greater than 1 is either prime or can

      be written as the product of primes.

        Solution. First, the idea: if we take some numbern, maybe it is

        prime. If so, we are done. If not, then it is composite, so it is the

        product of two smaller numbers. Each of these factors is smaller

        thann(but at least 2), so we can repeat the argument with these

    numbers. We have reduced to a smaller case.

      Now the formal proof:

      Proof. LetPnbe the statement, “nis either prime or can be

        written as the product of primes.” We will provePnis true for all

  n   2.

        Base case: P2 is true because 2 is indeed prime.

          Inductive case: assumePkis true for allk < n. We want to

      show thatPnis true. That is, we want to show thatnis either

        prime or is the product of primes. Ifnis prime, we are done. If

        not, thennhas more than 2 divisors, so we can writen   m1  m2,

        withm1andm2less thann(and greater than 1). By the inductive

        hypothesis,m1andm2are each either prime or can be written as

        the product of primes. In either case, we have thatnis written as

    the product of primes.

            Thus by the strong induction, Pn is true for all n   2. 


            Whether you use regular induction or strong induction depends on the

      statement you want to prove. If you wanted to be safe, you could always

      use strong induction. It really isstronger, so can accomplish everything

      “weak” induction can. That said, using regular induction is often easier

      since there is only one place you can use the induction hypothesis. There

    is also something to be said forelegancein proofs. If you can prove a

  statement using simpler tools, it is nice to do so.

          As a  nal contrast between the two forms of induction, consider once

      more the stamp problem. Regular induction worked by showing how to

      increase postage by one cent (either replacing three 5-cent stamps with

      two 8-cent stamps, or three 8-cent stamps with  ve 5-cent stamps). We  188 2. Sequences


        could give a slightly di erent proof using strong induction. First, we could

      show vebase cases: it is possible to make 28, 29, 30, 31, and 32 cents (we

          would actually say how each of these is made). Now assume that it is

          possible to makekcents of postage for allk < nas long ask  28. As long

          asn >32, this means in particular we can makek   n 5cents. Now add

    a 5-cent stamp to get make n cents.


                              Exercises

      1.On the way to the market, you exchange your cow for some magic dark

          chocolate espresso beans. These beans have the property that every

            night at midnight, each bean splits into two, e ectively doubling your

          collection. You decide to take advantage of this and each morning

        (around 8am) you eat 5 beans.

              (a)Explain why it is true thatifat noon on daynyou have a number

                of beans ending in a 5, then at noon on dayn +1you will still

            have a number of beans ending in a 5.

              (b)Why is the previous fact not enough to conclude that you will

                  always have a number of beans ending in a 5? What additional

            fact would you need?

              (c)Assuming you have the additional fact in part (b), and have

                  successfully proved the fact in part (a), how do you know that

                  you will always have a number of beans ending in a 5? Illustrate

              what is going on by carefully explaining how the two facts above

                  prove that you will have a number of beans ending in a 5 onday

                  4speci cally. In other words, explain why induction works in

          this context.

                                            n

                                                kn+1
    2. Use induction to prove for all n 2 N that2 
                                                     2 1.
                                            k 0

    3. Prove that 7n 1 is a multiple of 6 for all n 2 N.

    4. Prove that 1 + 3 + 5 +       + 2n 1   n2for all n   1.

        5.Prove thatF0+ F2+ F4+       + F2n  F2n+1whereFnis thenth
                                            1
      Fibonacci number.

    6. Prove that 2n< n! for all n   4. (Recall, n!   1   2   3           n.)

      7.Prove, by mathematical induction, thatF0+F1+F2+     +Fn  Fn+1,
                                                                  2
            whereFnis thenth Fibonacci number (F0 0,F1 1andFn 

    Fn1+ Fn2).                                                      2.5. Induction189

      8.Zombie Euler and Zombie Cauchy, two famous zombie mathemati-

            cians, have just signed up for Twitter accounts. After one day, Zombie

          Cauchy has more followers than Zombie Euler. Each day after that,

          the number of new followers of Zombie Cauchy is exactly the same as

          the number of new followers of Zombie Euler (and neither lose any

            followers). Explain how a proof by mathematical induction can show

          that on every day after the  rst day, Zombie Cauchy will have more

          followers than Zombie Euler. That is, explain what the base case and

            inductive case are, and why they together prove that Zombie Cauchy

      will have more followers on the 4th day.

    9.Find the largest number of points which a football team cannot get

          exactly using just 3-point  eld goals and 7-point touchdowns (ig-

          nore the possibilities of safeties, missed extra points, and two point

            conversions). Prove your answer is correct by mathematical induction.

      10. Prove that the sum of n squares can be found as follows

                                             12n + 1
                  2222nn +
                1+ 2+ 3+ ::: + n .
                                            6

      11.Prove that the sum of the interior angles of a convexn-gon isn2 180 .

        (A convexn-gon is a polygon withnsides for which each interior

    angle is less than 180 .)

      12.What is wrong with the following “proof” of the “fact” thatn+3  n+7

        for all values ofn(besides of course that the thing it is claiming to

  prove is false)?

      Proof.LetPnbe the statement thatn +3  n +7. We will prove

        thatPnis true for alln 2 N. Assume, for induction thatPkis true.

        That is,k +3  k +7. We must show thatPk +1is true. Now since

          k +3  k +7, add 1 to both sides. This givesk +3+1  k +7+1.

        Regroupingk+1+3  k+1+7. But this is simplyPk+1. Thus by

          the principle of mathematical inductionPnis true for alln 2 N.qed

      13.The proof in the previous problem does not work. But if we modify

        the “fact,” we can get a working proof. Prove thatn +3< n +7for

        all values ofn 2 N. You can do this proof with algebra (without

            induction), but the goal of this exercise is to write out a valid induction

  proof.

    14.Find the  aw in the following “proof” of the “fact” thatn <100for

  every n 2 N.

      Proof.LetPnbe the statementn <
                                          100. We will provePnis true

        for alln 2 N. First we establish the base case: whenn  0,Pnis true,

          because0<100. Now for the inductive step, assumePkis true. That

        is,k <100. Now ifk <100, thenkis some number, like 80. Of course  190 2. Sequences

            80+1 81which is still less than 100. Sok +1<100as well. But

            this is whatPk +1claims, so we have shown thatPk ! Pk +1.

          Thus by the principle of mathematical induction,Pnis true for all

    n 2 N.qed

      15.While the above proof does not work (it better not since the statement

          it is trying to prove is false!) we can prove something similar. Prove

        that there is a strictly increasing sequencea1; a2; a3; : : :of numbers

          (not necessarily integers) such thatan<100for alln 2 N. (Bystrictly

          increasingwe meanan< an+for alln. So each term must be larger
                                1
      than the last.)

    16.What is wrong with the following “proof” of the “fact” that for all

        n 2 N, the number n2+ n is odd?

              Proof.LetPnbe the statement “n2+ nis odd.” We will prove that

          Pnis true for alln 2 N. Suppose for induction thatPkis true,

        that is, that k2+ k is odd. Now consider the statement Pk + 1. Now

          k +12+ k +1   k2+2k +1+ k +1  k2+ k +2k +2. By the

          inductive hypothesis,k2+ kis odd, and of course2k +2is even. An

            odd plus an even is always odd, so thereforek +12+ k +1is odd.

          Therefore by the principle of mathematical induction,Pnis true for

      all n 2 N.qed

      17.Now give a valid proof (by induction, even though you might be able

          to do so without using induction) of the statement, “for alln 2 N, the

      number n2+ n is even.”

    18.Prove that there is a sequence of positive real numbersa0; a1; a2; : : :

              such that the partial suma0+ a1+ a2+       + anis strictly less than2

        for alln 2 N. Hint: think about how you could de ne whatak+is to
                                                                1
      make the induction argument work.

          19.Prove that every positive integer is either a power of 2, or can be

          written as the sum of distinct powers of 2.

      20.Prove, using strong induction, that every natural number is either a

          Fibonacci number or can be written as thesumofdistinctFibonacci

    numbers.

      21.Use induction to prove that ifnpeople all shake hands with each other,
                                          nn1
        that the total number of handshakes is.
                                            2

                                                                  1
      22.Suppose that a particular real numberxhas the property thatx +is
                                                                  x
                              1
      an integer. Prove that xn+
                                  xnis an integer for all natural numbers n.                                                      2.5. Induction191

                                   
                              n 

                                  n
                                        n
  23.Use induction to prove that 2. That is, the sum of thenth
                                  k
                              k 0
    row of Pascal’s Triangle is 2n.


                          4 5 6 4+n 5+n 
  24.Use induction to prove+++       + . (This is an
                          012nn
    example of the hockey stick theorem.)

    25.Use the product rule for logarithms (logab   loga+logb) to prove,

        by induction onn, thatlogan   n loga, for all natural numbers

  n   2.

      26.Letf1; f2; : : : ; fnbe di erentiable functions. Prove, using induction,

  that
                                  0000
                    f1+ f2+       + fn  f+ f+       + f.
                                                    n
                                      12

            You may assumef + g0  f0+ g0for any di erentiable functions

  f and g.

      27.Supposef1; f2; : : : ; fnare di erentiable functions. Use mathematical

      induction to prove the generalized product rule:

              00000
    f1f2f3      fn  ff2f3      fn+.
                                              f1f2f      fn+     +f1f2f3      f
                                                                      n
                    1f1f2f3      fn+3

            You may assume the product rule for two functions is true.

      28.You will prove that the Fibonacci numbers satisfy the identityF2+
                                                                n
  2
          F  F2n+. One way to do this is to prove the more general identity,
    n+11

                        FmFn+ Fm+Fn+  Fm+,
                                  11n+1

        and realize that when m   n we get our desired result.

              Note that we now have two variables, so we want to prove this for

        allm  0andalln  0at the same time. For each such pairm; n, let

      Pm; n be the statement FmFn+ Fm+Fn+  Fm+
                                      11n+1

        (a)First  xm  0and give a proof by mathematical induction that

              P0; n holds for all n   0. Note this proof will be very easy.

          (b)Now  x an arbitrarynand give a proof bystrongmathematical

          induction that Pm; n holds for all m   0.

            (c)You can now conclude thatPm; nholds for allm; n  0. Do

            you believe that? Explain why this sort of induction is valid.

            For example, why do your proofs above guarantee thatP2;3is

        true?

      29.Given a square, you can cut the square into smaller squares by cutting

          along lines parallel to the sides of the original square (these lines do

          not need to travel the entire side length of the original square). For  192 2. Sequences

          example, by cutting along the lines below, you will divide a square

      into 6 smaller squares:









              Prove, using strong induction, that it is possible to cut a square

        into n smaller squares for any n   6.                                                  2.6. Chapter Summary193


                    2.6 Chapter Summary


    Investigate!

          Each day your supply of magic chocolate covered espresso beans

        doubles (each one splits in half), but then you eat 5 of them. You

    have 10 at the start of day 0.

          1.Write out the  rst few terms of the sequence. Then give a

            recursive de nition for the sequence and explain how you

        know it is correct.

            2.Prove, using induction, that the last digit of the number of

            beans you have on the nth day is always a 5 for all n   1.

            3.Find a closed formula for thenth term of the sequence and

          prove it is correct by induction.

        !Attempt the above activity before proceeding!

            In this chapter we explored sequences and mathematical induction. At

       rst these might not seem entirely related, but there is a link: recursive

      reasoning. When we have many cases (maybe in nitely many), it is often

      easier to describe a particular case by saying how it relates to other cases,

      instead of describing it absolutely. For sequences, we can describe thenth

      term in the sequence by saying how it is related to thepreviousterm. When

      showing a statement involving the variablenis true for all values ofn, we

      can describe why the case forn   kis true on the basis of why the case for

n   k 1 is true.

            While thinking of problems recursively is often easier than thinking of

      them absolutely (at least after you get used to thinking in this way), our

        ultimate goal is to move beyond this recursive description. For sequences,

      we want to  ndclosed formulasfor thenth term of the sequence. For proofs,

      we want to know the statement is actually true for a particularn(not only

      under the assumption that the statement is true for the previous value

      ofn). In this chapter we saw some methods for moving from recursive

  descriptions to absolute descriptions.

            •If the terms of a sequence increase by a constant di erence or constant

          ratio (these are both recursive descriptions), then the sequences are

          arithmetic or geometric, respectively, and we have closed formulas

          for each of these based on the initial terms and common di erence

    or ratio.

          If the terms of a sequence increase at a polynomial rate (that is, if the
•

            di erences between terms form a sequence with a polynomial closed  194 2. Sequences


              formula), then the sequence is itself given by a polynomial closed

              formula (of degree one more than the sequence of di erences).

  •
              If the terms of a sequence increase at an exponential rate, then we

                expect the closed formula for the sequence to be exponential. These

              sequences often have relatively nice recursive formulas, and the

              characteristic root techniqueallows us to  nd the closed formula for

      these sequences.

                If we want to prove that a statement is true for all values ofn(greater
  •

                than some  rst small value), and we can describe why the statement

              being true forn   kimplies the statement is true forn   k +1, then

              theprinciple of mathematical inductiongives us that the statement is

          true for all values of n (greater than the base case).

          Throughout the chapter we tried to understandwhythese facts listed

      above are true. In part, that is what proofs, by induction or not, attempt to

      accomplish: they explain why mathematical truths are in fact truths. As

      we develop our ability to reason about mathematics, it is a good idea to

      make sure that the methods of our reasoning are sound. The branch of

      mathematics that deals with deciding whether reasoning is good or not is

      mathematical logic, the subject of the next chapter.


                            Chapter Review

  1. Find 3 + 7 + 11 +       + 427.

    2. Consider the sequence 2;6;10;14; : : : ;4n + 6.

          (a) How many terms are there in the sequence?

        (b) What is the second-to-last term?

          (c) Find the sum of all the terms in the sequence.

    3. Consider the sequence given by an  2   5n1.

        (a) Find the  rst 4 terms of the sequence.

            What sort of sequence is this?

                                                            25
          (b) Find the sum of the  rst 25 terms. That is, computeak.
                                                            k 1

        4. Consider the sequence 5;11;19;29;41;55; : : :. Assume a1  5.

              (a)Find a closed formula foran, thenth term of the sequence, by

                  writing each term as a sum of a sequence. Hint:  rst  nda0, but

              ignore it when collapsing the sum.

              (b)Find a closed formula again, this time using either polynomial

                   tting or the characteristic root technique (whichever is appro-

            priate). Show your work.                                                  2.6. Chapter Summary195

          (c)Find a closed formula once again, this time by recognizing the

            sequence as a modi cation to some well known sequence(s).

        Explain.

    5.Use polynomial  tting to  nd a closed formula for the sequence

  ann :
        1

                            4;11;20;31;44; : : :.

    6.Suppose the closed formula for a particular sequence is a degree 3

        polynomial. What can you say about the closed formula for:

      (a) The sequence of partial sums.

        (b) The sequence of second di erences.

    7.Consider the sequence given recursively bya1 4,a2 6andan 

  an1+ an2.

        (a) Write out the  rst 6 terms of the sequence.

            (b) Could the closed formula for anbe a polynomial? Explain.

    8.The sequenceann starts1;0;2;5;9;14: : :and has closed formula
                    1
          n + 1n 2
      an .Use this fact to  nd a closed formula for the
              2
        sequence bnn which starts 4;10;18;28;40; : : :.
                1

      9.The in songThe Twelve Days of Christmas, my true love gave to me  rst

        1 gift, then 2 gifts and 1 gift, then 3 gifts, 2 gifts and 1 gift, and so

          on. How many gifts did my true love give me all together during the

  twelve days?

    10.Consider the recurrence relationan 3an1+10an2with  rst two

    terms a0  1 and a1  2.

            (a)Write out the  rst 5 terms of the sequence de ned by this

          recurrence relation.

          (b)Solve the recurrence relation. That is,  nd a closed formula for

        an.

      11.Consider the recurrence relationan 2an1+8an2,with initial terms

  a0  1 and a1  3.

        (a) Find the next two terms of the sequence (a2and a3).

          (b)Solve the recurrence relation. That is,  nd a closed formula for

          the nth term of the sequence.

      12.Your magic chocolate bunnies reproduce like rabbits: every large

          bunny produces 2 new mini bunnies each day, and each day every  196 2. Sequences

          mini bunny born the previous day grows into a large bunny. Assume

          you start with 2 mini bunnies and no bunny ever dies (or gets eaten).

          (a) Write out the  rst few terms of the sequence.

                (b)Give a recursive de nition of the sequence and explain why it is

          correct.

          (c) Find a closed formula for the nth term of the sequence.

      13.Consider the sequence of partial sums ofsquaresof Fibonacci numbers:
      222222
        F, F+ F, F+ F+ F; : : :. The sequences starts 1;2;6;15;40; : : :
      112123

              (a)Guess a formula for thenth partial sum, in terms of Fibonacci

                numbers. Hint: write each term as a product.

            (b) Prove your formula is correct by mathematical induction.

                (c)Explain what this problem has to do with the following picture:





        14. Prove the following statements by mathematical induction:

        (a) n! < nnfor n   2

            1111n
        (b)+++       + for all n 2 Z+.
          1   22   33   4n  n + 1
                                       n + 1

          (c) 4n 1 is a multiple of 3 for all n 2 N.

                (d)Thegreatestamount of postage youcannotmake exactly using 4

            and 9 cent stamps is 23 cents.

          (e) Every even number squared is divisible by 4.

                                      
                                            2
                                      nn+1
      15.Prove13+23+33+       + n3 holds for alln  1, by
                                        2
      mathematical induction.

        16.Supposea0 1,a1 1andan 3an12an1. Prove, using strong

      induction, that an  1 for all n.

      17.Prove using induction that every set containingnelements has2n

      di erent subsets for any n   1.                            Chapter 3


          Symbolic Logic and Proofs



      Logic is the study of consequence. Given a few mathematical statements

      or facts, we would like to be able to draw some conclusions. For example,

      if I told you that a particular real-valued function was continuous on

      the interval0;1, andf0   1andf1  5, can we conclude that

      there is some point between0;1where the graph of the function crosses

    thex-axis? Yes, we can, thanks to the Intermediate Value Theorem

    from Calculus. Can we conclude that there is exactly one point? No.

        Whenever we  nd an “answer” in math, we really have a (perhaps hidden)

      argument. Mathematics is really about proving general statements (like

      the Intermediate Value Theorem), and this too is done via an argument,

      usually called a proof. We start with some given conditions, thepremises

      of our argument, and from these we  nd a consequence of interest, our

conclusion.

          The problem is, as you no doubt know from arguing with friends, not

      all arguments aregoodarguments. A “bad” argument is one in which

      the conclusion does not follow from the premises, i.e., the conclusion is

      not a consequence of the premises. Logic is the study of what makes an

      argument good or bad. In other words, logic aims to determine in which

    cases a conclusion is, or is not, a consequence of a set of premises.

        By the way, “argument” is actually a technical term in math (and

    philosophy, another discipline which studies logic):

    Arguments.

        Anargumentis a set of statements, one of which is called the

          conclusionand the rest of which are calledpremises. An argument

        is said to bevalidif the conclusion must be true whenever the

        premises are all true. An argument isinvalidif it is not valid; it is

          possible for all the premises to be true and the conclusion to be false.


        For example, consider the following two arguments:

              If Edith eats her vegetables, then she can have a cookie.

          Edith eats her vegetables.

      ) Edith gets a cookie.

              Florence must eat her vegetables in order to get a cookie.

            Florence eats her vegetables.

      ) Florence gets a cookie.

    (The symbol “)” means “therefore”)

                                197    198 3. Symbolic Logic and Proofs


          Are these arguments valid? Hopefully you agree that the  rst one is

      but the second one is not. Logic tells us why by analyzing the structure

      of the statements in the argument. Notice the two arguments above look

      almost identical. Edith and Florence both eat their vegetables. In both

      cases there is a connection between the eating of vegetables and cookies.

      But we claim that it is valid to conclude that Edith gets a cookie, but not

      that Florence does. The di erence must be in the connection between

      eating vegetables and getting cookies. We need to be skilled at reading

      and comprehending these sentences. Do the two sentences mean the

      same thing? Unfortunately, in everyday language we are often sloppy,

      and you might be tempted to say they are equivalent. But notice that just

      because Florencemusteat her vegetables, we have not said that doing so

      would beenough(she might also need to clean her room, for example). In

      everyday (non-mathematical) practice, you might be tempted to say this

      “other direction” is implied. In mathematics, we never get that luxury.

            Before proceeding, it might be a good idea to quickly review Section 0.2

      where we  rst encountered statements and the various forms they can

      take. The goal now is to see what mathematical tools we can develop to

      better analyze these, and then to see how this helps read and write proofs.


                    3.1 Propositional Logic


      Investigate!

              You stumble upon two trolls playing Stratego®. They tell you:

              Troll 1: If we are cousins, then we are both knaves.

                Troll 2: We are cousins or we are both knaves.

            Could both trolls be knights? Recall that all trolls are either

          always-truth-telling knights or always-lying knaves.

            !Attempt the above activity before proceeding!

          Apropositionis simply a statement.Propositional logicstudies the

      ways statements can interact with each other. It is important to remember

          that propositional logic does not really care about the content of the

      statements. For example, in terms of propositional logic, the claims, “if

      the moon is made of cheese then basketballs are round,” and “if spiders

      have eight legs then Sam walks with a limp” are exactly the same. They

    are both implications: statements of the form, P ! Q.                                                3.1. Propositional Logic199


                          Truth Tables

    Here’s a question about playing Monopoly:

        If you get more doubles than any other player then you will lose,

            or if you lose then you must have bought the most properties.

    True or false? We will answer this question, and won’t need to know

      anything about Monopoly. Instead we will look at the logicalformof the

statement.

        We need to decide when the statementP ! Q _ Q ! Ris true.

      Using the de nitions of the connectives in Section 0.2, we see that for this

    to be true, eitherP ! Qmust be true orQ ! Rmust be true (or both).

      Those are true if eitherPis false orQis true (in the  rst case) andQis false

      orRis true (in the second case). So—yeah, it gets kind of messy. Luckily,

    we can make a chart to keep track of all the possibilities. Entertruth

      tables. The idea is this: on each row, we list a possible combination of T’s

      and F’s (for true and false) for each of the sentential variables, and then

      mark down whether the statement in question is true or false in that case.

      We do this for every possible combination of T’s and F’s. Then we can

      clearly see in which cases the statement is true or false. For complicated

      statements, we will  rst  ll in values for each part of the statement, as a

    way of breaking up our task into smaller, more manageable pieces.

          Since the truth value of a statement is completely determined by the

      truth values of its parts and how they are connected, all you really need to

      know is the truth tables for each of the logical connectives. Here they are:

    PQP ^ QPQP _ QPQP ! QPQP $ Q

  TTTTTTTTTTTT

  TFFTFTTFFTFF

  FTFFTTFTTFTF

  FFFFFFFFTFFT

      The truth table for negation looks like this:

                              P:P

                              TF

                              FT

          None of these truth tables should come as a surprise; they are all just

    restating the de nitions of the connectives. Let’s try another one.

Example 3.1.1

        Make a truth table for the statement :P _ Q.    200 3. Symbolic Logic and Proofs


            Solution. Note that this statement is not:P _ Q, the negation

      belongs to P alone. Here is the truth table:

                          PQ:P:P _ Q

                        TTFT

                        TFFF

                        FTTT

                        FFTT

            We added a column for:Pto make  lling out the last column

          easier. The entries in the:Pcolumn were determined by the entries

        in thePcolumn. Then to  ll in the  nal column, look only at the

          column for Q and the column for :P and use the rule for _.


          Now let’s answer our question about monopoly:

    Example 3.1.2

        Analyze the statement, “if you get more doubles than any other

        player you will lose, or that if you lose you must have bought the

      most properties,” using truth tables.

        Solution. Represent the statement in symbols asP ! Q _ Q !

          R, wherePis the statement “you get more doubles than any other

        player,”Qis the statement “you will lose,” andRis the statement

        “you must have bought the most properties.” Now make a truth

    table.

            The truth table needs to contain 8 rows in order to account for

        every possible combination of truth and falsity among the three

        statements. Here is the full truth table:

              PQRP ! QQ ! RP ! Q _ Q ! R

          TTTTTT

          TTFTFT

          TFTFTT

          TFFFTT

          FTTTTT

          FTFTFT

          FFTTTT

          FFFTTT

            The  rst three columns are simply a systematic listing of all

            possible combinations of T and F for the three statements (do

          you see how you would list the 16 possible combinations for four                                                3.1. Propositional Logic201


          statements?). The next two columns are determined by the values of

          P,Q, andRand the de nition of implication. Then, the last column

        is determined by the values in the previous two columns and the

        de nition of _. It is this  nal column we care about.

            Notice that in each of the eight possible cases, the statement in

            question is true. So our statement about monopoly is true (regardless

          of how many properties you own, how many doubles you roll, or

    whether you win or lose).


          The statement about monopoly is an example of atautology, a state-

      ment which is true on the basis of its logical form alone. Tautologies are

      always true but they don’t tell us much about the world. No knowledge

      about monopoly was required to determine that the statement was true.

      In fact, it is equally true that “If the moon is made of cheese, then Elvis is

      still alive, or if Elvis is still alive, then unicorns have 5 legs.”


                        Logical Equivalence

      You might have noticed in Example 3.1.1 that the  nal column in the truth

    table for:P _ Qis identical to the  nal column in the truth table for

P ! Q:

                      PQP ! Q:P _ Q

                    TTTT

                    TFFF

                    FTTT

                    FFTT

          This says that no matter whatPandQare, the statements:P _ Qand

      P ! Qeither both true or both false. We therefore say these statements

are logically equivalent.

      Logical Equivalence.

          Two (molecular) statementsPandQarelogically equivalentpro-

      videdPis true precisely whenQis true. That is,PandQhave

          the same truth value under any assignment of truth values to their

  atomic parts.

              To verify that two statements are logically equivalent, you can

          make a truth table for each and check whether the columns for the

    two statements are identical.

            Recognizing two statements as logically equivalent can be very helpful.

      Rephrasing a mathematical statement can often lend insight into what    202 3. Symbolic Logic and Proofs


          it is saying, or how to prove or refute it. By using truth tables we can

        systematically verify that two statements are indeed logically equivalent.

    Example 3.1.3

        Are the statements, “it will not rain or snow” and “it will not rain

        and it will not snow” logically equivalent?

          Solution. We want to know whether:P_Qis logically equivalent

        to :P ^ :Q. Make a truth table which includes both statements:

                      PQ:P _ Q:P ^ :Q

                      TTFF

                      TFFF

                      FTFF

                      FFTT

            Since in every row the truth values for the two statements are

        equal, the two statements are logically equivalent.


          Notice that this example gives us a way to “distribute” a negation

      over a disjunction (an “or”). We have a similar rule for distributing over

  conjunctions (“and”s):

      De Morgan’s Laws.

                    :P ^ Q is logically equivalent to :P _ :Q.

                    :P _ Q is logically equivalent to :P ^ :Q.


          This suggests there might be a sort of “algebra” you could apply to

      statements (okay, there is: it is calledBoolean algebra) to transform one

      statement into another. We can start collecting useful examples of logical

      equivalence, and apply them in succession to a statement, instead of

    writing out a complicated truth table.

            De Morgan’s laws do not do not directly help us with implications, but

          as we saw above, every implication can be written as a disjunction:

      Implications are Disjunctions.

                    P ! Q is logically equivalent to :P _ Q.

              Example: “If a number is a multiple of 4, then it is even” is

        equivalent to, “a number is not a multiple of 4 or (else) it is even.”


          With this and De Morgan’s laws, you can take any statement and

      simplifyit to the point where negations are only being applied to atomic                                                3.1. Propositional Logic203


        propositions. Well, actually not, because you could get multiple negations

    stacked up. But this can be easily dealt with:

    Double Negation.

                      ::P is logically equivalent to P.

            Example: “It is not the case thatcis not odd” means “cis odd.”


          Let’s see how we can apply the equivalences we have encountered so

far.

Example 3.1.4

      Prove that the statements:P ! QandP ^ :Qare logically

    equivalent without using truth tables.

        Solution. We want to start with one of the statements, and trans-

        form it into the other through a sequence of logically equivalent

        statements. Start with:P ! Q. We can rewrite the implication

    as a disjunction this is logically equivalent to

                            ::P _ Q.

      Now apply DeMorgan’s law to get

                            ::P ^ :Q.

      Finally, use double negation to arrive at P ^ :Q


        Notice that the above example illustrates that the negation of an

      implication is NOT an implication: it is a conjunction! We saw this before,

      in Section 0.2, but it is so important and useful, it warants a second blue

box here:

    Negation of an Implication.

      The negation of an implication is a conjunction:

                :P ! Q is logically equivalent to P ^ :Q.

          That is, the only way for an implication to be false is for the hypothesis

      to be true AND the conclusion to be false.

            To verify that two statements are logically equivalent, you can use truth

      tables or a sequence of logically equivalent replacements. The truth table

      method, although cumbersome, has the advantage that it can verify that

  two statements are NOT logically equivalent.    204 3. Symbolic Logic and Proofs


    Example 3.1.5

          Are the statementsP _ Q ! RandP ! R _ Q ! Rlogically

    equivalent?

          Solution. Note that while we could start rewriting these statements

          with logically equivalent replacements in the hopes of transforming

        one into another, we will never be sure that our failure is due to

          their lack of logical equivalence rather than our lack of imagination.

        So instead, let’s make a truth table:

                PQRP _ Q ! RP ! R _ Q ! R

            TTTTT

            TTFFF

            TFTTT

            TFFFT

            FTTTT

            FTFFT

            FFTTT

            FFFTT

          Look at the fourth (or sixth) row. In this case,P ! R_Q ! R

            is true, butP _ Q ! Ris false. Therefore the statements are not

      logically equivalent.

          While we don’t have logical equivalence, it is the case that

          wheneverP _ Q ! Ris true, so isP ! R _ Q ! R. This tells

          us that we candeduceP ! R _ Q ! RfromP _ Q ! R, just

      not the reverse direction.


                              Deductions

      Investigate!

            Holmes owns two suits: one black and one tweed. He always

          wears either a tweed suit or sandals. Whenever he wears his tweed

            suit and a purple shirt, he chooses to not wear a tie. He never

          wears the tweed suit unless he is also wearing either a purple shirt

              or sandals. Whenever he wears sandals, he also wears a purple

        shirt. Yesterday, Holmes wore a bow tie. What else did he wear?

            !Attempt the above activity before proceeding!

            Earlier we claimed that the following was a valid argument:

            If Edith eats her vegetables, then she can have a cookie. Edith

          ate her vegetables. Therefore Edith gets a cookie.                                                3.1. Propositional Logic205


      How do we know this is valid? Let’s look at the form of the statements.

      LetPdenote “Edith eats her vegetables” andQdenote “Edith can have a

  cookie.” The logical form of the argument is then:

                                P ! Q

                                  P

                            )Q

          This is an example of adeduction rule, an argument form which is

      always valid. This one is a particularly famous rule calledmodus ponens.

      Are you convinced that it is a valid deduction rule? If not, consider the

following truth table:

                          PQP ! Q

                          TTT

                          TFF

                          FTT

                          FFT

          This is just the truth table forP ! Q, but what matters here is that all

      the lines in the deduction rule have their own column in the truth table.

      Remember that an argument is valid provided the conclusion must be

      true given that the premises are true. The premises in this case areP ! Q

      andP. Whichrowsof the truth table correspond to both of these being

    true?Pis true in the  rst two rows, and of those, only the  rst row has

    P ! Qtrue as well. And lo-and-behold, in this one case,Qis also true.

    So if P ! Q and P are both true, we see that Q must be true as well.

      Here are a few more examples.

Example 3.1.6

  Show that
                                P ! Q

                                :P ! Q

                          )Q

      is a valid deduction rule.

          Solution. We make a truth table which contains all the lines of the

    argument form:

                    PQP ! Q:P:P ! Q

                  TTTFT

                  TFFFT

                  FTTTT

                  FFTTF    206 3. Symbolic Logic and Proofs


            (we include a column for:Pjust as a step to help getting the

    column for :P ! Q).

                Now look at all the rows for which bothP ! Qand:P ! Q

        are true. This happens only in rows 1 and 3. Hey! In those rowsQ

          is true as well, so the argument form is valid (it is a valid deduction

    rule).


    Example 3.1.7

    Decide whether
                                  P ! R

                                  Q ! R

                                    R

                              ) P _ Q

        is a valid deduction rule.

          Solution. Let’s make a truth table containing all four statements.

                    PQRP ! RQ ! RP _ Q

                  TTTTTT

                  TTFFFT

                  TFTTTT

                  TFFFTT

                  FTTTTT

                  FTFTFT

                  FFTTTF

                  FFFTTF

            Look at the second to last row. Here all three premises of the

        argument are true, but the conclusion is false. Thus this is not a

      valid deduction rule.

            While we have the truth table in front of us, look at rows 1, 3,

          and 5. These are the only rows in which all of the statementsP ! R,

            Q ! R, andP _ Qare true. It also happens thatRis true in these

        rows as well. Thus we have discovered a new deduction rule we

    know is valid:

                                  P ! R

                                  Q ! R

                                  P _ Q

                              )R                                                3.1. Propositional Logic207


                        Beyond Propositions

    As we saw in Section 0.2, not every statement can be analyzed using

      logical connectives alone. For example, we might want to work with the

statement:

        All primes greater than 2 are odd.

      To write this statement symbolically, we must use quanti ers. We can

translate as follows:

                      8xPx ^ x > 2 ! Ox.

    In this case, we are usingPxto denote “xis prime” andOxto denote

      “xis odd.” These are not propositions, since their truth value depends

    on the inputx. Better to think ofPandOas denotingpropertiesof their

      input. The technical term for these ispredicatesand when we study them

  in logic, we need to use predicate logic.

            It is important to stress that predicate logicextendspropositional logic

      (much in the way quantum mechanics extends classical mechanics). You

      will notice that our statement above still used the (propositional) logical

      connectives. Everything that we learned about logical equivalence and

      deductions still applies. However, predicate logic allows us to analyze

    statements at a higher resolution, digging down into the individual

propositions P, Q, etc.

          A full treatment of predicate logic is beyond the scope of this text.

      One reason is that there is no systematic procedure for deciding whether

      two statements in predicate logic are logically equivalent (i.e., there is no

      analogue to truth tables here). Rather, we end with a two examples of

      logical equivalence and deduction, to pique your interest.

Example 3.1.8

          Suppose we claim that there is no smallest number. We can translate

  this into symbols as

                          :9x8yx   y

        (literally, “it is not true that there is a numberxsuch that for all

    numbers y, x is less than or equal to y”).

          However, we know how negation interacts with quanti ers: we

        can pass a negation over a quanti er by switching the quanti er

          type (between universal and existential). So the statement above

    should be logically equivalent to

                            8x9yy < x.    208 3. Symbolic Logic and Proofs


            Notice thaty < xis the negation ofx   y. This literally says, “for

        every numberxthere is a numberywhich is smaller thanx.” We

          see that this is another way to make our original claim.


    Example 3.1.9

          Can you switch the order of quanti ers? For example, consider the

    two statements:

                    8x9yPx; yand9y8xPx; y.

      Are these logically equivalent?

          Solution. These statements are NOT logically equivalent. To see

        this, we should provide an interpretation of the predicatePx; y

            which makes one of the statements true and the other false.

            LetPx; ybe the predicatex < y. It is true, in the natural

            numbers, that for allxthere is someygreater than thatx(since

          there are in nitely many numbers). However, there is not a natural

          numberywhich is greater than every numberx. Thus it is possible

          for 8x9yPx; y to be true while 9y8xPx; y is false.

            We cannot do the reverse of this though. If there is someyfor

            which everyxsatis esPx; y, then certainly for everyxthere is

            someywhich satis esPx; y. The  rst is saying we can  nd one

        ythat works for everyx. The second allows di erenty’s to work

          for di erentx’s, but there is nothing preventing us from using the

        same y that work for every x. In other words, while we don’t have

          logical equivalence between the two statements, we do have a valid

      deduction rule:

                                9y8xPx; y

                            ) 8x9yPx; y

              Put yet another way, this says that the single statement

                        9y8xPx; y ! 8x9yPx; y

          is always true. This is sort of like a tautology, although we reserve

          that term for necessary truths in propositional logic. A statement

          in predicate logic that is necessarily true gets the more prestigious

          designation of alaw of logic(or sometimeslogically valid, but that

    is less fun).                                                3.1. Propositional Logic209


                            Exercises

      1.Consider the statement about a party, “If it’s your birthday or there

      will be cake, then there will be cake.”

          (a)Translate the above statement into symbols. Clearly state which

            statement is P and which is Q.

        (b) Make a truth table for the statement.

            (c)Assuming the statement is true, what (if anything) can you

          conclude if there will be cake?

        (d)Assuming the statement is true, what (if anything) can you

          conclude if there will not be cake?

        (e)Suppose you found out that the statement was a lie. What can

        you conclude?

    2. Make a truth table for the statement P _ Q ! P ^ Q.

    3.Make a truth table for the statement:P ^ Q ! P. What can you

      conclude about P and Q if you know the statement is true?

  4. Make a truth table for the statement :P ! Q ^ R.

      5.Geo  Poshingten is out at a fancy pizza joint, and decides to order a

          calzone. When the waiter asks what he would like in it, he replies, “I

          want either pepperoni or sausage. Also, if I have sausage, then I must

          also include quail. Oh, and if I have pepperoni or quail then I must

    also have ricotta cheese.”

          (a) Translate Geo ’s order into logical symbols.

        (b)The waiter knows that Geo  is either a liar or a truth-teller (so

              either everything he says is false, or everything is true). Which

        is it?

          (c)What, if anything, can the waiter conclude about the ingredients

          in Geo ’s desired calzone?

      6.Determine whether the following two statements are logically equiva-

        lent: :P ! Q and P ^ :Q. Explain how you know you are correct.

      7.Are the statementsP ! Q _ RandP ! Q _ P ! Rlogically

  equivalent?

      8.Simplify the following statements (so that negation only appears right

    before variables).

    (a) :P ! :Q.

      (b) :P _ :Q ! ::Q ^ R.    210 3. Symbolic Logic and Proofs

        (c) :P ! :Q _ :R ^ :R.

            (d)It is false that if Sam is not a man then Chris is a woman, and

            that Chris is not a woman.

      9.Use De Morgan’s Laws, and any other logical equivalence facts you

        know to simplify the following statements. Show all your steps.

          Your  nal statements should have negations only appear directly

        next to the sentence variables or predicates (P,Q,Ex, etc.), and no

          double negations. It would be a good idea to use only conjunctions,

      disjunctions, and negations.

        (a) ::P ^ Q _ :R _ :S.

          (b) ::P ! :Q ^ :Q ! R (careful with the implications).

            (c)For both parts above, verify your answers are correct using

                truth tables. That is, use a truth table to check that the given

                statement and your proposed simpli cation are actually logically

          equivalent.

      10.Consider the statement, “If a number is triangular or square, then it is

      not prime”

          (a) Make a truth table for the statement T _ S ! :P.

                (b)If you believed the statement wasfalse, what properties would a

                  counterexample need to possess? Explain by referencing your

          truth table.

              (c)If the statement were true, what could you conclude about the

                  number 5657, which is de nitely prime? Again, explain using

          the truth table.

      11.Tommy Flanagan was telling you what he ate yesterday afternoon. He

          tells you, “I had either popcorn or raisins. Also, if I had cucumber

          sandwiches, then I had soda. But I didn’t drink soda or tea.” Of course

            you know that Tommy is the worlds worst liar, and everything he says

        is false. What did Tommy eat?

              Justify your answer by writing all of Tommy’s statements using

          sentence variables (P;Q; R;S;T), taking their negations, and using

        these to deduce what Tommy actually ate.

    12. Determine if the following deduction rule is valid:
                                    P _ Q

                                      :P

                                )Q

      13. Determine if the following is a valid deduction rule:                                                3.1. Propositional Logic211


                                P ! Q _ R

                                :P ! Q

                          )R

      14. Determine if the following is a valid deduction rule:
                                P ^ Q ! R

                                :P _ :Q

                          ):R

    15.Can you chain implications together? That is, ifP ! QandQ ! R,

        does that means theP ! R? Can you chain more implications

    together? Let’s  nd out:

        (a) Prove that the following is a valid deduction rule:

                                    P ! Q

                                    Q ! R

                                ) P ! R

        (b) Prove that the following is a valid deduction rule for any n   2:

                                    P1! P2

                                    P2! P3
                                      :
                                      :
                                      :

                                    Pn1! Pn

                                ) P1! Pn.

              I suggest you don’t go through the trouble of writing out a2nrow

              truth table. Instead, you should use part (a) and mathematical

        induction.

      16.We can also simplify statements in predicate logic using our rules for

            passing negations over quanti ers, and then applying propositional

          logical equivalence to the “inside” propositional part. Simplify the

            statements below (so negation appears only directly next to predicates).

      (a) :9x8y:Ox _ Ey.

      (b) :8x:8y:x < y ^ 9zx < z _ y < z.

        (c)There is a numbernfor which no other number is either lessn

        than or equal to n.

        (d)It is false that for every numbernthere are two other numbers

        which n is between.

        17.Simplify the statements below to the point that negation symbols occur

      only directly next to predicates.

    (a) :8x8yx < y _ y < x.    212 3. Symbolic Logic and Proofs

        (b) :9xPx ! 8yPy.

      18.Simplifying negations will be especially useful in the next section

            when we try to prove a statement by considering what would happen

        if it were false. For each statement below, write thenegationof the

        statement as simply as possible. Don’t just say, “it is false that . . . ”.

            (a) Every number is either even or odd.

            (b) There is a sequence that is both arithmetic and geometric.

              (c) For all numbers n, if n is prime, then n + 3 is not prime.

      19.SupposePandQare (possibly molecular) propositional statements.

        Prove thatPandQare logically equivalent if any only ifP $ Qis a

    tautology.

      20.SupposeP1;P2; : : : ;PnandQare (possibly molecular) propositional

        statements. Suppose further that
                                      P1

                                      P2
                                      :
                                      :
                                      :

                                      Pn

                                  ) Q

            is a valid deduction rule. Prove that the statement

                            P1^ P2^       ^ Pn ! Q

    is a tautology.                                                      3.2. Proofs213


                          3.2 Proofs


    Investigate!

        Decide which of the following are valid proofs of the following

  statement:

            If ab is an even number, then a or b is even.

          1.Supposeaandbare odd. That is,a  2k +1andb  2m +1

          for some integers k and m. Then

                        ab   2k + 12m + 1

                              4km + 2k + 2m + 1

                              22km + k + m + 1.

          Therefore ab is odd.

          2.Assume thataorbis even - say it isa(the case wherebis

              even is identical). That is, a   2k for some integer k. Then

                              ab   2kb

                                    2kb.

          Thus ab is even.

          3.Suppose thatabis even butaandbare both odd. Namely,

            ab  2n,a  2k +1andb  2j +1for some integersn,k, and

        j. Then

                          2n   2k + 12j + 1

                          2n   4k j + 2k + 2j + 1

                            n   2k j + k + j + 0:5.

              But since2k j + k + jis an integer, this says that the integer
              n is equal to a non-integer, which is impossible.

        4.Letabbe an even number, sayab  2n, andabe an odd

          number, say a   2k + 1.

                                ab   2k + 1b

                                2n   2kb + b

                          2n 2kb   b

                          2n kb   b.

          Therefore b must be even.

        !Attempt the above activity before proceeding!    214 3. Symbolic Logic and Proofs


            Anyone who doesn’t believe there is creativity in mathematics clearly

      has not tried to write proofs. Finding a way to convince the world that a

      particular statement is necessarily true is a mighty undertaking and can

      often be quite challenging. There is not a guaranteed path to success in

          the search for proofs. For example, in the summer of 1742, a German

      mathematician by the name of Christian Goldbach wondered whether

        every even integer greater than 2 could be written as the sum of two primes.

      Centuries later, we still don’t have a proof of this apparent fact (computers

        have checked that “Goldbach’s Conjecture” holds for all numbers less than

          4   1018, which leaves only in nitely many more numbers to check).

        Writing proofs is a bit of an art. Like any art, to be truly great at it,

        you need some sort of inspiration, as well as some foundational technique.

      Just as musicians can learn proper  ngering, and painters can learn the

      proper way to hold a brush, we can look at the proper way to construct

      arguments. A good place to start might be to study a classic.

      Theorem 3.2.1 There are in nitely many primes.

          Proof.Suppose this were not the case. That is, suppose there are only

       nitely many primes. Then there must be a last, largest prime, call itp.

  Consider the number

                  N   p! + 1   p   p 1        3   2   1 + 1.

            NowNis certainly larger thanp. Also,Nis not divisible by any

      number less than or equal top, since every number less than or equal to

      pdividesp!. Thus the prime factorization ofNcontains prime numbers

          (possibly justNitself) all greater thanp. Sopis not the largest prime, a

        contradiction. Therefore there are in nitely many primes.qed

          This proof is an example of aproof by contradiction, one of the standard

        styles of mathematical proof. First and foremost, the proof is an argument.

      It contains sequence of statements, the last being theconclusionwhich

          follows from the previous statements. The argument is valid so the

          conclusion must be true if the premises are true. Let’s go through the

  proof line by line.

          1.Suppose there are only  nitely many primes.[this is a premise. Note

        the use of “suppose.”]

        2.There must be a largest prime, call itp.[follows from line 1, by the

        de nition of “ nitely many.”]

          3.LetN   p!+1.[basically just notation, although this is the inspired part

          of the proof; looking at p! + 1 is the key insight.]

        4. N is larger than p. [by the de nition of p!]                                                      3.2. Proofs215


          5. Nis not divisible by any number less than or equal top.[by de nition,

            p! is divisible by each number less than or equal to p, so p! + 1 is not.]

          6.The prime factorization ofNcontains prime numbers greater than

          p.[sinceNis divisible by each prime number in the prime factorization of

    N, and by line 5.]

          7.Thereforepis not the largest prime.[by line 6,Nis divisible by a prime

    larger than p.]

          8.This is a contradiction.[from line 2 and line 7: the largest prime ispand

      there is a prime larger than p.]

          9.Therefore there are in nitely many primes.[from line 1 and line 8: our

        only premise lead to a contradiction, so the premise is false.]

          We should say a bit more about the last line. Up through line 8, we

      have a valid argument with the premise “there are only  nitely many

        primes” and the conclusion “there is a prime larger than the largest prime.”

      This is a valid argument as each line follows from previous lines. So if

      the premises are true, then the conclusionmustbe true. However, the

    conclusion is NOT true. The only way out: the premise must be false.

          The sort of line-by-line analysis we did above is a great way to really

      understand what is going on. Whenever you come across a proof in a

      textbook, you really should make sure you understand what each line

    is saying and why it is true. Additionally, it is equally important to

      understand the overall structure of the proof. This is where using tools

    from logic is helpful. Luckily there are a relatively small number of

    standard proof styles that keep showing up again and again. Being

      familiar with these can help understand proof, as well as give ideas of how

to write your own.


                          Direct Proof

      The simplest (from a logic perspective) style of proof is adirect proof.

      Often all that is required to prove something is a systematic explanation of

        what everything means. Direct proofs are especially useful when proving

      implications. The general format to prove P ! Q is this:

        Assume P. Explain, explain, . . . , explain. Therefore Q.

    Often we want to prove universal statements, perhaps of the form

      8xPx ! Qx. Again, we will want to assumePxis true and

    deduceQx. But what about thex? We want this to work forallx. We

      accomplish this by  xingxto be an arbitrary element (of the sort we are

interested in).    216 3. Symbolic Logic and Proofs


          Here are a few examples. First, we will set up the proof structure for a

  direct proof, then  ll in the details.

    Example 3.2.2

        Prove: For all integers n, if n is even, then n2is even.

          Solution. The format of the proof will be this: Letnbe an arbitrary

          integer. Assume thatnis even. Explain explain explain. Therefore

    n2is even.

              To  ll in the details, we will basically just explain what it means

            fornto be even, and then see what that means forn2. Here is a

    complete proof.

            Proof. Letnbe an arbitrary integer. Supposenis even. Then

          n  2kfor some integerk. Nown2  2k2 4k2 22k2. Since

      2k2is an integer, n2is even. 


    Example 3.2.3

            Prove: For all integersa,b, andc, ifajbandbjcthenajc. (Herexjy,

            read “xdividesy” means thatyis a multiple ofx, i.e., thatxwill

        divide into y without remainder).

          Solution. Even before we know what the divides symbol means,

          we can set up a direct proof for this statement. It will go something

        like this: Leta,b, andcbe arbitrary integers. Assume thatajband

      bjc. Dot dot dot. Therefore ajc.

            How do we connect the dots? We say what our hypothesis (ajb

        andbjc) really means and why this gives us what the conclusion

        (ajc) really means. Another way to say thatajbis to say thatb   ka

            for some integerk(that is, thatbis a multiple ofa). What are we

        going for? Thatc   la, for some integerl(because we wantcto be

        a multiple of a). Here is the complete proof.

          Proof. Leta,b, andcbe integers. Assume thatajbandbjc. In

            other words,bis a multiple ofaandcis a multiple ofb. So there

            are integerskandjsuch thatb   kaandc   jb. Combining these

        (through substitution) we get thatc   jka. Butjkis an integer, so

        this says that c is a multiple of a. Therefore ajc. 


                        Proof by Contrapositive

        Recall that an implicationP ! Qis logically equivalent to its contrapositive

      :Q ! :P. There are plenty of examples of statements which are hard                                                      3.2. Proofs217


      to prove directly, but whose contrapositive can easily be proved directly.

      This is all thatproof by contrapositivedoes. It gives a direct proof of the

        contrapositive of the implication. This is enough because the contrapositive

    is logically equivalent to the original implication.

          The skeleton of the proof ofP ! Qby contrapositive will always look

roughly like this:

          Assume :Q. Explain, explain, . . . explain. Therefore :P.

      As before, if there are variables and quanti ers, we set them to be arbitrary

  elements of our domain. Here are two examples:

Example 3.2.4

          Is the statement “for all integersn, ifn2is even, thennis even” true?

        Solution. This is the converse of the statement we proved above

        using a direct proof. From trying a few examples, this statement

    de nitely appears to be true. So let’s prove it.

          A direct proof of this statement would require  xing an arbitrary

        nand assuming thatn2is even. But it is not at all clear how this

          would allow us to conclude anything aboutn. Just becausen2 2k

        does not in itself suggest how we could write n as a multiple of 2.

              Try something else: write the contrapositive of the statement.

        We get, for all integersn, ifnis odd thenn2is odd. This looks much

      more promising. Our proof will look something like this:

            Letnbe an arbitrary integer. Suppose thatnis not even. This

        means that . . . . In other words . . . . But this is the same as saying

    . . . . Therefore n2is not even.

        Now we  ll in the details:

        Proof. We will prove the contrapositive. Letnbe an arbitrary

        integer. Suppose thatnis not even, and thus odd. Thenn  2k +1

        for some integerk. Nown2  2k+12 4k2+4k+1 22k2+2k+1.

        Since2k2+2kis an integer, we see thatn2is odd and therefore not

  even. 


Example 3.2.5

      Prove: for all integersaandb, ifa + bis odd, thenais odd orbis

  odd.

        Solution. The problem with trying a direct proof is that it will be

        hard to separateaandbfrom knowing something abouta + b. On

        the other hand, if we know something aboutaandbseparately,

        then combining them might give us information abouta + b. The    218 3. Symbolic Logic and Proofs


        contrapositive of the statement we are trying to prove is: for all

            integersaandb, ifaandbare even, thena + bis even. Thus our

        proof will have the following format:

          Letaandbbe integers. Assume thataandbare both even. la

      la la. Therefore a + b is even.

          Here is a complete proof:

        Proof. Letaandbbe integers. Assume thataandbare

          even. Thena  2kandb  2lfor some integerskandl. Now

          a + b  2k +2l  2k +1. Sincek + lis an integer, we see thata + b

      is even, completing the proof. 

          Note that our assumption thataandbare even is really the

          negation of a or b is odd. We used De Morgan’s law here.


            We have seen how to prove some statements in the form of implications:

      either directly or by contrapositive. Some statements are not written as

  implications to begin with.

    Example 3.2.6

          Consider the following statement: for every prime numberp, either

        p  2orpis odd. We can rephrase this: for every prime numberp,

        if p , 2, then p is odd. Now try to prove it.

    Solution.

        Proof. Letpbe an arbitrary prime number. Assumepis not odd.

            Sopis divisible by 2. Sincepis prime, it must have exactly two

        divisors, and it has 2 as a divisor, sopmust be divisible by only 1

          and 2. Thereforep  2. This completes the proof (by contrapositive).

                                                                   


                          Proof by Contradiction

        There might be statements which really cannot be rephrased as implications.
              p
          For example, “2is irrational.” In this case, it is hard to know where to

      start. What can we assume? Well, say we want to prove the statement

        P. What if we could prove that:P ! QwhereQwas false? If this

      implication is true, andQis false, what can we say about:P? It must be

    false as well, which makes P true!

          This is whyproof by contradictionworks. If we can prove that:P

      leads to a contradiction, then the only conclusion is that:Pis false, soPis

      true. That’s what we wanted to prove. In other words, if it is impossible

  for P to be false, P must be true.

        Here are three examples of proofs by contradiction:                                                      3.2. Proofs219


Example 3.2.7

            p
  Prove that2 is irrational.

  Solution.
                            p
                                                      a
      Proof. Suppose not. Then2is equal to a fraction. Without
                                                      b
                          a
          loss of generality, assumeis in lowest terms (otherwise reduce the
                          b
  fraction). So,
                                  a2
                              2  
                                  b2
                              22
                            2b  a.

            Thusa2is even, and as suchais even. Soa  2kfor some integer

    k, and a2  4k2. We then have,

                              22
                            2b  4k

                              22
                                   2k.
                            b 

            Thusb2is even, and as suchbis even. Sinceais also even, we see
                                                  p
      a
        thatis not in lowest terms, a contradiction. Thus2is irrational.
      b
                                                               


Example 3.2.8

    Prove: There are no integers x and y such that x2  4y + 2.

  Solution.

          Proof. We proceed by contradiction. So suppose thereareintegers

      xandysuch thatx2 4y +2 22y +1. Sox2is even. We have

      seen that this implies thatxis even. Sox  2kfor some integer

        k. Thenx2 4k2. This in turn gives2k2  2y +1. But2k2is

        even, and2y +1is odd, so these cannot be equal. Thus we have a

        contradiction, so there must not be any integersxandysuch that

  x2  4y + 2. 


Example 3.2.9

          ThePigeonhole Principle: If more thannpigeons  y intonpigeon

          holes, then at least one pigeon hole will contain at least two pigeons.

  Prove this!    220 3. Symbolic Logic and Proofs



    Solution.

        Proof. Suppose, contrary to stipulation, that each of the pigeon

            holes contain at most one pigeon. Then at most, there will ben

        pigeons. But we assumed that there are more thannpigeons, so

          this is impossible. Thus there must be a pigeonhole with more than

    one pigeon. 

              While we phrased this proof as a proof by contradiction, we could

        have also used a proof by contrapositive since our contradiction

        was simply the negation of the hypothesis. Sometimes this will

        happen, in which case you can use either style of proof. There are

          examples however where the contradiction occurs “far away” from

      the original statement.


                      Proof by (counter) Example

          It is almost NEVER okay to prove a statement with just an example.

      Certainly none of the statements proved above can be proved through an

      example. This is because in each of those cases we are trying to prove that

      something holds of all integers. We claim thatn2being even implies that

          nis even,no matter what integernwe pick. Showing that this works for

    n   4 is not even close to enough.

          This cannot be stressed enough. If you are trying to prove a statement

      of the form8xPx, you absolutely CANNOT prove this with an example.1

            However, existential statements can be proven this way. If we want to

          prove that there is an integernsuch thatn2 n +41is not prime, all we

      need to do is  nd one. This might seem like a silly thing to want to prove

  until you try a few values for n.

                  n1 2 3 4 5 6 7

                n2 n + 4141 43 47 53 61 71 83

            So far we have gotten only primes. You might be tempted to conjecture,

        “For all positive integersn, the numbern2 n +41is prime.” If you

      wanted to prove this, you would need to use a direct proof, a proof by

      contrapositive, or another style of proof, but certainly it is not enough

      to give even 7 examples. In fact, we can prove this conjecture isfalseby

      proving its negation: “There is a positive integernsuch thatn2 n +41is

      not prime.” Since this is an existential statement, it su ces to show that

    there does indeed exist such a number.

          1This is not to say that looking at examples is a waste of time. Doing so will often give
        you an idea of how to write a proof. But the examples do not belong in the proof.                                                      3.2. Proofs221


          In fact, we can quickly see thatn  41will give412which is certainly

      not prime. You might say that this is a counterexample to the conjecture

      thatn2 n +41is always prime. Since so many statements in mathematics

        are universal, making their negations existential, we can often prove that a

      statement is false (if it is) by providing a counterexample.

Example 3.2.10

        Above we proved, “for all integersaandb, ifa + bis odd, thenais

    odd or b is odd.” Is the converse true?

        Solution. The converse is the statement, “for all integersaandb,

      ifais odd orbis odd, thena + bis odd.” This is false! How do

          we prove it is false? We need to prove the negation of the converse.

      Let’s look at the symbols. The converse is

                    8a8bOa _ Ob ! Oa + b.

        We want to prove the negation:

                  :8a8bOa _ Ob ! Oa + b.

        Simplify using the rules from the previous sections:

                  9a9bOa _ Ob ^ :Oa + b.

              As the negation passed by the quanti ers, they changed from8

          to9. We then needed to take the negation of an implication, which

      is equivalent to asserting the if part and not the then part.

            Now we know what to do. To prove that the converse is false

        we need to  nd two integersaandbso thatais odd orbis odd, but

        a + bis not odd (so even). That’s easy: 1 and 3. (remember, “or”

        means one or the other or both). Both of these are odd, but1+3 4

  is not odd.


                          Proof by Cases

        We could go on and on and on about di erent proof styles (we haven’t even

      mentioned induction or combinatorial proofs here), but instead we will

      end with one  nal useful technique: proof by cases. The idea is to prove

    that P is true by proving that Q ! P and :Q ! P for some statement Q.

    So no matter what, whether or notQis true, we know thatPis true. In

      fact, we could generalize this. Suppose we want to proveP. We know

    that at least one of the statementsQ1;Q2; : : : ;Qnis true. If we can show

    thatQ1! PandQ2! Pand so on all the way toQn! P, then we can    222 3. Symbolic Logic and Proofs


      concludeP. The key thing is that we want to be sure that one of our cases

    (the Qi’s) must be true no matter what.

          If that last paragraph was confusing, perhaps an example will make

things better.

    Example 3.2.11

          Prove: For any integer n, the number n3 n is even.

        Solution. It is hard to know where to start this, because we don’t

        know much of anything aboutn. We might be able to prove that

        n3nis even if we knew thatnwas even. In fact, we could probably

        prove thatn3 nwas even ifnwas odd. But sincenmust either be

      even or odd, this will be enough. Here’s the proof.

        Proof. We consider two cases: if n is even or if n is odd.

              Case 1: n is even. Then n   2k for some integer k. This give

                          33
                                   8k 2k
                          n n  
                                      2
                                  24k k,

        and since 4k2 k is an integer, this says that n3 n is even.

            Case 2:nis odd. Thenn  2k +1for some integerk. This gives

                    33
                    n n   2k + 1 2k + 1
                            32
                            8k+ 6k+ 6k + 1 2k 1
                              32
                            24k+ 3k+ 2k,

          and since4k3+3k2+2kis an integer, we see thatn3 nis even

    again.

                Sincen3 nis even in both exhaustive cases, we see thatn3 n

    is indeed always even.                                                       3.2. Proofs223


                            Exercises

    1.Consider the statement “for all integersaandb, ifa + bis even, thena

  and b are even”

        (a) Write the contrapositive of the statement.

        (b) Write the converse of the statement.

        (c) Write the negation of the statement.

            (d) Is the original statement true or false? Prove your answer.

          (e)Is the contrapositive of the original statement true or false? Prove

        your answer.

            (f)Is the converse of the original statement true or false? Prove

        your answer.

        (g)Is the negation of the original statement true or false? Prove

        your answer.

      2.For each of the statements below, say what method of proof you should

          use to prove them. Then say how the proof starts and how it ends.

        Bonus points for  lling in the middle.

        (a)There are no integersxandysuch thatxis a prime greater than

        5 and x   6y + 3.

        (b)For all integersn, ifnis a multiple of 3, thenncan be written as

            the sum of consecutive integers.

          (c) For all integers a and b, if a2+ b2is odd, then a or b is odd.

      3.Consider the statement: for all integersn, ifnis even then8nis even.

          (a) Prove the statement. What sort of proof are you using?

        (b) Is the converse true? Prove or disprove.

      4.The game TENZI comes with 40 six-sided dice (each numbered 1 to 6).

      Suppose you roll all 40 dice.

          (a)Prove that there will be at least seven dice that land on the same

        number.

          (b)How many dice would you have to roll before you were guaran-

            teed that some four of them would all match or all be di erent?

          Prove your answer.

    5.Prove that for all integersn, it is the case thatnis even if and only if

        3nis even. That is, prove both implications: ifnis even, then3nis

      even, and if 3n is even, then n is even.    224 3. Symbolic Logic and Proofs

              p
  6. Prove that3 is irrational.

          7.Consider the statement: for all integersaandb, ifais even andbis a

      multiple of 3, then ab is a multiple of 6.

          (a) Prove the statement. What sort of proof are you using?

            (b) State the converse. Is it true? Prove or disprove.

        8.Prove the statement: For all integersn, if5nis odd, thennis odd.

        Clearly state the style of proof you are using.

          9.Prove the statement: For all integersa,b, andc, ifa2+ b2  c2, thena

    or b is even.

    10. Suppose that you would like to prove the following implication:

            For all numbers n, if n is prime then n is solitary.

          Write out the beginning and end of the argument if you were to prove

      the statement,

      (a) Directly

        (b) By contrapositive

        (c) By contradiction

              You do not need to provide details for the proofs (since you do not

            know what solitary means). However, make sure that you provide the

           rst few and last few lines of the proofs so that we can see that logical

      structure you would follow.

      11.Suppose you have a collection of 5-cent stamps and 8-cent stamps. We

          saw earlier that it is possible to make any amount of postage greater

          than 27 cents using combinations of both these types of stamps. But,

        let’s ask some other questions:

            (a)Prove that if you only use an even number of both types of

              stamps, the amount of postage you make must be even.

              (b)Suppose you made an even amount of postage. Prove that you

                used an even number of at least one of the types of stamps.

              (c)Suppose you made exactly 72 cents of postage. Prove that you

              used at least 6 of one type of stamp.

                                    x + y2
        12.Prove:x   yif and only ifx y  . Note, you will need to prove
                                      4
        two “directions” here: the “if” and the “only if” part.

    13. Prove that log7 is irrational.                                                      3.2. Proofs225


      14. Prove that there are no integer solutions to the equation x2  4y + 3.

      15.Prove that every prime number greater than 3 is either one more or

      one less than a multiple of 6.

      16.Your “friend” has shown you a “proof” he wrote to show that1 3.

    Here is the proof:

        Proof.I claim that1 3. Of course we can do anything to one side

        of an equation as long as we also do it to the other side. So subtract

        2 from both sides. This gives1 1. Now square both sides, to get

      1   1. And we all agree this is true.qed

            What is going on here? Is your friend’s argument valid? Is the

          argument a proof of the claim1 3? Carefully explain using what we

    know about logic.

      17.A standard deck of 52 cards consists of 4 suites (hearts, diamonds,

          spades and clubs) each containing 13 di erent values (Ace, 2, 3, . . . ,

          10, J, Q, K). If you draw some number of cards at random you might or

          might not have a pair (two cards with the same value) or three cards

          all of the same suit. However, if you draw enough cards, you will be

          guaranteed to have these. For each of the following,  nd the smallest

            number of cards you would need to draw to be guaranteed having the

        speci ed cards. Prove your answers.

      (a) Three of a kind (for example, three 7’s).

          (b) A  ush of  ve cards (for example,  ve hearts).

          (c)Three cards that are either all the same suit or all di erent suits.

      18.Suppose you are at a party with 19 of your closest friends (so including

          you, there are 20 people there). Explain why there must be least two

          people at the party who are friends with the same number of people

          at the party. Assume friendship is always reciprocated.

      19.Your friend has given you his list of 115 best Doctor Who episodes (in

          order of greatness). It turns out that you have seen 60 of them. Prove

          that there are at least two episodes you have seen that are exactly four

      episodes apart on your friend’s list.

    20.Suppose you have ann   nchessboard but your dog has eaten one

        of the corner squares. Can you still cover the remaining squares

          with dominoes? What needs to be true aboutn? Give necessary and

          su cient conditions (that is, say exactly which values ofnwork and

      which do not work). Prove your answers.    226 3. Symbolic Logic and Proofs







      21.What if yourn   nchessboard is missing two opposite corners? Prove

          that no matter whatnis, you will not be able to cover the remaining

        squares with dominoes.                                                  3.3. Chapter Summary227


                    3.3 Chapter Summary

      We have considered logic both as its own sub-discipline of mathematics,

      and as a means to help us better understand and write proofs. In either

      view, we noticed that mathematical statements have a particular logical

    form, and analyzing that form can help make sense of the statement.

            At the most basic level, a statement might combine simpler statements

      usinglogical connectives. We often make use of variables, andquantifyover

      those variables. How to resolve the truth or falsity of a statement based

      on these connectives and quanti ers is what logic is all about. From this,

      we can decide whether two statements are logically equivalent or if one or

    more statements (logically) imply another.

            When writing proofs (in any area of mathematics) our goal is to explain

      why a mathematical statement is true. Thus it is vital that our argument

      implies the truth of the statement. To be sure of this, we  rst must know

    what it means for the statement to be true, as well as ensure that the

      statements that make up the proof correctly imply the conclusion. A  rm

      understanding of logic is required to check whether a proof is correct.

          There is, however, another reason that understanding logic can be

      helpful. Understanding the logical structure of a statement often gives

  clues as how to write a proof of the statement.

        This is not to say that writing proofs is always straight forward.

  Consider again the Goldbach conjecture:

            Every even number greater than 2 can be written as the sum of

    two primes.

      We are not going to try to prove the statement here, but we can at least say

      what a proof might look like, based on the logical form of the statement.

      Perhaps we should write the statement in an equivalent way which better

    highlights the quanti ers and connectives:

          For all integersn, ifnis even and greater than 2, then there

            exists integerspandqsuch thatpandqare prime andn   p+q.

      What would a direct proof look like? Since the statement starts with a

      universal quanti er, we would start by,``Letnbe an arbitrary integer."

      The rest of the statement is an implication. In a direct proof we assume

      the “if” part, so the next line would be, “Assumenis greater than 2 and is

      even.” I have no idea what comes next, but eventually, we would need to

       nd two prime numberspandq(depending onn) and explain how we

know that n   p + q.

          Or maybe we try a proof by contradiction. To do this, we  rst assume

      the negation of the statement we want to prove. What is the negation?

  From what we have studied we should be able to see that it is,    228 3. Symbolic Logic and Proofs


            There is an integernsuch thatnis even and greater than2, but

          for all integers p and q, either p or q is not prime or n , p + q.

      Could this statement be true? A proof by contradiction would start by

      assuming it was and eventually conclude with a contradiction, proving

      that our assumption of truth was incorrect. And if you can  nd such a

      contradiction, you will have proved the most famous open problem in

  mathematics. Good luck.


                            Chapter Review

    1. Complete a truth table for the statement :P ! Q ^ R.

      2.Suppose you know that the statement “if Peter is not tall, then Quincy

            is fat and Robert is skinny” is false. What, if anything, can you conclude

            about Peter and Robert if you know that Quincy is indeed fat? Explain

        (you may reference problem 3.3.1).

      3.Are the statementsP ! Q _ RandP ! Q _ P ! Rlogically

        equivalent? Explain your answer.

        4. Is the following a valid deduction rule? Explain.
                                    P ! Q

                                    P ! R

                              ) P ! Q ^ R.

      5.Write the negation, converse and contrapositive for each of the state-

      ments below.

          (a) If the power goes o , then the food will spoil.

          (b) If the door is closed, then the light is o .

        (c) 8xx < 1 ! x2< 1.

            (d) For all natural numbers n, if n is prime, then n is solitary.

            (e) For all functions f, if f is di erentiable, then f is continuous.

          (f) For all integers a and b, if a   b is even, then a and b are even.

              (g)For every integerxand every integerythere is an integernsuch

            that if x > 0 then nx > y.

              (h) For all real numbers x and y, if x y   0 then x   0 or y   0.

              (i)For every student in Math 228, if they do not understand impli-

            cations, then they will fail the exam.                                                  3.3. Chapter Summary229

    6.Consider the statement: for all integersn, ifnis even andn  7then

    n is negative or n 2 f0;2;4;6g.

        (a) Is the statement true? Explain why.

          (b) Write the negation of the statement. Is it true? Explain.

              (c) State the contrapositive of the statement. Is it true? Explain.

          (d) State the converse of the statement. Is it true? Explain.

    7. Consider the statement: 8x8yx + y   y ! 8zx   z   0.

          (a)Explain what the statement says in words. Is this statement true?

              Be sure to state what you are taking the universe of discourse to

        be.

            (b)Write the converse of the statement, both in words and in symbols.

          Is the converse true?

          (c)Write the contrapositive of the statement, both in words and in

            symbols. Is the contrapositive true?

            (d)Write the negation of the statement, both in words and in symbols.

          Is the negation true?

8. Simplify the following.

        (a) ::P ^ :Q ! ::R _ :P ! R.

      (b) :9x:8y:9zz   x + y ! 9wx y   w.

    9. Consider the statement: for all integers n, if n is odd, then 7n is odd.

          (a) Prove the statement. What sort of proof are you using?

          (b) Prove the converse. What sort of proof are you using?

    10.Suppose you break your piggy bank and scoop up a handful of 22

    coins (pennies, nickels, dimes and quarters).

          (a)Prove that you must have at least 6 coins of a single denomination.

        (b)Suppose you have an odd number of pennies. Prove that you

            must have an odd number of at least one of the other types of

        coins.

              (c)How many coins would you need to scoop up to be sure that

              you either had 4 coins that were all the same or 4 coins that were

          all di erent? Prove your answer.

  11. You come across four trolls playing bridge. They declare:

          Troll 1: All trolls here see at least one knave.

          Troll 2: I see at least one troll that sees only knaves.    230 3. Symbolic Logic and Proofs

              Troll 3: Some trolls are scared of goats.

              Troll 4: All trolls are scared of goats.

          Are there any trolls that are not scared of goats? Recall, of course, that

          all trolls are either knights (who always tell the truth) or knaves (who

    always lie).                            Chapter 4


                    Graph Theory



    Investigate!

        In the time of Euler, in the town of Königsberg in Prussia, there

        was a river containing two islands. The islands were connected

        to the banks of the river by seven bridges (as seen below). The

        bridges were very beautiful, and on their days o , townspeople

        would spend time walking over the bridges. As time passed, a

        question arose: was it possible to plan a walk so that you cross

        each bridge once and only once? Euler was able to answer this

    question. Are you?









        !Attempt the above activity before proceeding!

            Graph Theory is a relatively new area of mathematics,  rst studied by

      the super famous mathematician Leonhard Euler in 1735. Since then it

      has blossomed in to a powerful tool used in nearly every branch of science

      and is currently an active area of mathematics research.

          The problem above, known as theSeven Bridges of Königsberg, is the

      problem that originally inspired graph theory. Consider a “di erent”

      problem: Below is a drawing of four dots connected by some lines. Is it

      possible to trace over each line once and only once (without lifting up your

  pencil, starting and ending on a dot)?






            There is an obvious connection between these two problems. Any path

      in the dot and line drawing corresponds exactly to a path over the bridges

of Königsberg.



                                231  232 4. Graph Theory


          Pictures like the dot and line drawing are calledgraphs. Graphs are

      made up of a collection of dots calledverticesand lines connecting those

        dots callededges. When two vertices are connected by an edge, we say they

      areadjacent. The nice thing about looking at graphs instead of pictures of

      rivers, islands and bridges is that we now have a mathematical object to

        study. We have distilled the “important” parts of the bridge picture for the

      purposes of the problem. It does not matter how big the islands are, what

      the bridges are made out of, if the river contains alligators, etc. All that

      matters is which land masses are connected to which other land masses,

  and how many times.

          We will return to the question of  nding paths through graphs later.

      But  rst, here are a few other situations you can represent with graphs:

    Example 4.0.1

          Al, Bob, Cam, Dan, and Euler are all members of the social network-

          ing websiteFacebook. The site allows members to be “friends” with

          each other. It turns out that Al and Cam are friends, as are Bob and

          Dan. Euler is friends with everyone. Represent this situation with a

    graph.

        Solution. Each person will be represented by a vertex and each

          friendship will be represented by an edge. That is, two vertices will

        be adjacent (there will be an edge between them) if and only if the

      people represented by those vertices are friends.

                              AB

                                  E
                              CD


    Example 4.0.2

          Each of three houses must be connected to each of three utilities. Is

            it possible to do this without any of the utility lines crossing?

          Solution. We will answer this question later. For now, notice how

        we would ask this question in the context of graph theory. We

          are really asking whether it is possible to redraw the graph below

        without any edges crossing (except at vertices). Think of the top

        row as the houses, bottom row as the utilities.                                                    4.1. Definitions233


                        4.1 Definitions


    Investigate!

      Which (if any) of the graphs below are the same?





            The graphs above are unlabeled. Usually we think of a graph

        as having a speci c set of vertices. Which (if any) of the graphs

    below are the same?

                            ff
      bdfbccbv1v2v3


      aceadeaedv6v5v4

            Actually, all the graphs we have seen above are justdrawings

      of graphs. A graph is really an abstract mathematical object

          consisting of two setsVandEwhereEis a set of 2-element subsets

      of V. Are the graphs below the same or di erent?

  Graph 1:

          V   fa; b; c; d; eg,

            E   ffa; bg; fa; cg; fa; dg; fa; eg; fb; cg; fd; egg.

  Graph 2:

          V   fv1; v2; v3; v4; v5g,

              E   ffv1; v3g; fv1; v5g; fv2; v4g; fv2; v5g; fv3; v5g; fv4; v5gg.

        !Attempt the above activity before proceeding!

          Before we start studying graphs, we need to agree upon what a graph

      is. While we almost always think of graphs as pictures (dots connected by

      lines) this is fairly ambiguous. Do the lines need to be straight? Does it

      matter how long the lines are or how large the dots are? Can there be two

      lines connecting the same pair of dots? Can one line connect three dots?

          The way we avoid ambiguities in mathematics is to provide concrete

      and rigorousde nitions. Crafting good de nitions is not easy, but it is

      incredibly important. The de nition is the agreed upon starting point

      from which all truths in mathematics proceed. Is there a graph with no

    edges? We have to look at the de nition to see if this is possible.

          We want our de nition to be precise and unambiguous, but it also

      must agree with our intuition for the objects we are studying. It needs to

    be useful: wecouldde ne a graph to be a six legged mammal, but that  234 4. Graph Theory


      would not let us solve any problems about bridges. Instead, here is the

    (now) standard de nition of a graph.

      Graph De nition.

        Agraphis an ordered pairG   V;Econsisting of a nonempty set

          V(called thevertices) and a setE(called theedges) of two-element

    subsets of V.

          Strange. Nowhere in the de nition is there talk of dots or lines. From

    the de nition, a graph could be

                  fa; b; c; dg; ffa; bg; fa; cg; fb; cg; fb; dg; fc; dgg.

          Here we have a graph with four vertices (the lettersa; b; c; d) and  ve

    edges (the pairs fa; bg; fa; cg; fb; cg; fb; dg; fc; dg).

          Looking at sets and sets of 2-element sets is di cult to process. That is

      why we often draw a representation of these sets. We put a dot down for

      each vertex, and connect two dots with a line precisely when those two

      vertices are one of the 2-element subsets in our set of edges. Thus one way

    to draw the graph described above is this:

                          ab



                            cd

            However we could also have drawn the graph di erently. For example

either of these:

          ad


                      bcabcd

          We should be careful about what it means for two graphs to be “the

      same.” Actually, given our de nition, this is easy: Are the vertex sets

          equal? Are the edge sets equal? We know what it means for sets to be

          equal, and graphs are nothing but a pair of two special sorts of sets.

    Example 4.1.1

      Are the graphs below equal?

        G1  fa; b; cg; ffa; bg; fb; cgg;G2  fa; b; cg; ffa; cg; fc; bgg.


          Solution. No. Here the vertex sets of each graph are equal, which

          is a good start. Also, both graphs have two edges. In the  rst graph,                                                    4.1. Definitions235


        we have edgesfa; bgandfb; cg, while in the second graph we have

      edgesfa; cgandfc; bg. Now we do havefb; cg   fc; bg, so that is

      not the problem. The issue is thatfa; bg , fa; cg. Since the edge

        sets of the two graphs are not equal (as sets), the graphs are not

  equal (as graphs).


          Even if two graphs are notequal, they might bebasicallythe same. The

      graphs in the previous example could be drawn like this:

            G1G2


              acca
                    bb

          Graphs that are basically the same (but perhaps not equal) are called

      isomorphic. We will give a precise de nition of this term after a quick

example:

Example 4.1.2

    Consider the graphs:



      G1  V1;E1 where V1  fa; b; cg and E1  ffa; bg; fa; cg; fb; cgg;

        G2  V2;E2 where V2  fu; v; wg and E2  ffu; vg; fu; wg; fv; wgg:

        Are these graphs the same?

        Solution. The two graphs are NOT equal. It is enough to notice

        thatV1, V2sincea 2 V1buta < V2. However, both of these graphs

          consist of three vertices with edges connecting every pair of vertices.

    We can draw them as follows:

                a
                                                u



          bcvw

            Clearly we want to say these graphs are basically the same, so

        while they are not equal, they will beisomorphic. We can rename

        the vertices of one graph and get the second graph as the result.


          Intuitively, graphs areisomorphicif they are basically the same, or

      better yet, if they are the same except for the names of the vertices. To make

        the concept of renaming vertices precise, we give the following de nitions:  236 4. Graph Theory


      Isomorphic Graphs.

        Anisomorphismbetween two graphsG1andG2is a b¼ection

        f:V1! V2between the vertices of the graphs such thatfa; bgis an

        edge in G1if and only if f fa; fbg is an edge in G2.

              Two graphs areisomorphicif there is an isomorphism between

        them. In this case we write G1  G2.

          An isomorphism is simply a function which renames the vertices. It

      must be a b¼ection so every vertex gets a new name. These newly named

      vertices must be connected by edges precisely when they were connected

  by edges with their old names.

    Example 4.1.3

          Decide whether the graphsG1  V1;E1andG2  V2;E2are

      equal or isomorphic.

          V1  fa; b; c; dg, E1  ffa; bg; fa; cg; fa; dg; fc; dgg

          V2  fa; b; c; dg, E2  ffa; bg; fa; cg; fb; cg; fc; dgg

                                                   dg 2 E1butfa; dg <
        Solution. The graphs are NOT equal, sincefa;

          E2. However, since both graphs contain the same number of vertices

        and same number of edges, theymightbe isomorphic (this is not

      enough in most cases, but it is a good start).

            We can try to build an isomorphism. How about we sayfa   b,

        fb   c,fc   dandfd   a. This is de nitely a b¼ection, but

        to make sure that the function is an isomorphism, we must make

          sure itrespects the edge relation. InG1, verticesaandbare connected

          by an edge. InG2,fa   bandfb   care connected by an edge.

          So far, so good, but we must check the other three edges. The edge

          fa; cginG1corresponds tof fa; fcg   fb; dg, but here we have

        a problem. There is no edge betweenbanddinG2. Thusfis NOT

    an isomorphism.

            Not all hope is lost, however. Just becausefis not an isomor-

        phism does not mean that there is no isomorphism at all. We can

        try again. At this point it might be helpful to draw the graphs to

      see how they should match up.

                  aa
              G1:G2:

                        bdbd


                  cc                                                    4.1. Definitions237


              Alternatively, notice that inG1, the vertexais adjacent to every

        other vertex. InG2, there is also a vertex with this property:c. So

      build the b¼ectiong:V1! V2by de ningga   cto start with.

        Next, where should we sendb? InG1, the vertexbis only adjacent

        to vertexa. There is exactly one vertex like this inG2, namelyd. So

      letgb   d. As for the last two, in this example, we have a free

      choice: letgc   bandgd   a(switching these would be  ne as

  well).

          We should check that this really is an isomorphism. It is

      de nitely a b¼ection. We must make sure that the edges are

      respected. The four edges in G1are

                      fa; bg; fa; cg; fa; dg; fc; dg.

          Under the proposed isomorphism these become

            fga; gbg; fga; gcg; fga; gdg; fgc; gdg

                      fc; dg; fc; bg; fc; ag; fb; ag,

        which are precisely the edges inG2. Thusgis an isomorphism, so

  G1  G2


          Sometimes we will talk about a graph with a special name (likeKnor

      thePeterson graph) or perhaps draw a graph without any labels. In this

      case we are really referring toallgraphs isomorphic to any copy of that

      particular graph. A collection of isomorphic graphs is often called an

isomorphism class. 1

            There are other relationships between graphs that we care about, other

        than equality and being isomorphic. For example, compare the following

pair of graphs:







          These are de nitely not isomorphic, but notice that the graph on the

      right looks like it might be part of the graph on the left, especially if we

draw it like this:

          1This is not unlike geometry, where we might have more than one copy of a particular
    triangle. There instead of isomorphic we say congruent.  238 4. Graph Theory






          We would like to say that the smaller graph is asubgraphof the larger.

        We should give a careful de nition of this. In fact, there are two

      reasonable notions for what a subgraph should mean.

    Subgraphs.

          We say thatG0  V0;E0is asubgraphofG   V;E, and write

        G0  G, provided V0  V and E0  E.

              We say thatG0  V0;E0is aninduced subgraphofG   V;E

        providedV0  Vand every edge inEwhose vertices are still inV0

    is also an edge in E0.


            Notice that every induced subgraph is also an ordinary subgraph, but

      not conversely. Think of a subgraph as the result of deleting some vertices

          and edges from the larger graph. For the subgraph to be an induced

      subgraph, we can still delete vertices, but now we only delete those edges

  that included the deleted vertices.

    Example 4.1.4

      Consider the graphs:

          fff

              edddd

        abcabcabcabc
            G1G2G3G4

          Here bothG2andG3are subgraphs ofG1. But onlyG2is an

          inducedsubgraph. Every edge inG1that connects vertices inG2is

            also an edge inG2. InG3, the edgefa; bgis inE1but notE3, even

      though vertices a and b are in V3.

            The graphG4is NOT a subgraph ofG1, even though it looks

        like all we did is remove vertexe. The reason is that inE4we have

        the edgefc; f gbut this is not an element ofE1, so we don’t have the

      required E4  E1.


            Back to some basic graph theory de nitions. Notice that all the graphs

        we have drawn above have the property that no pair of vertices is connected

      more than once, and no vertex is connected to itself. Graphs like these

      are sometimes calledsimple, although we will just call themgraphs. This

          is because our de nition for a graph says that the edges form a set of                                                    4.1. Definitions239


      2-element subsets of the vertices. Remember that it doesn’t make sense to

      say a set contains an element more than once. So no pair of vertices can be

      connected by an edge more than once. Also, since each edge must be a set

      containing two vertices, we cannot have a single vertex connected to itself

by an edge.

          That said, there are times we want to consider double (or more) edges

      and single edge loops. For example, the “graph” we drew for the Bridges

      of Königsberg problem had double edges because there really are two

      bridges connecting a particular island to the near shore. We will call these

      objectsmultigraphs. This is a good name: amultisetis a set in which we

      are allowed to include a single element multiple times.

          The graphs above are alsoconnected: you can get from any vertex to

    any other vertex by following some path of edges. A graph that is not

      connected can be thought of as two separate graphs drawn close together.

      For example, the following graph is NOT connected because there is no

path from a to b:



                      ab


          Vertices in a graph do not always have edges between them. If we add

      all possible edges, then the resulting graph is calledcomplete. That is, a

      graph is complete if every pair of vertices is connected by an edge. Since a

      graph is determined completely by which vertices are adjacent to which

      other vertices, there is only one complete graph with a given number of

    vertices. We give these a special name:Knis the complete graph onn

vertices.

          Each vertex inKnis adjacent ton1other vertices. We call the number

      of edges emanating from a given vertex thedegreeof that vertex. So every

      vertex inKnhas degreen 1. How many edges doesKnhave? One might

    think the answer should benn 1, since we countn 1edgesntimes

      (once for each vertex). However, each edge is incident to 2 vertices, so we

    counted every edge exactly twice. Thus there arenn 12edges inKn.

                                  n 
    Alternatively, we can say there areedges, since to draw an edge we
                                  2
must choose 2 of the n vertices.

          In general, if we know the degrees of all the vertices in a graph, we

      can  nd the number of edges. The sum of the degrees of all vertices will

      always betwicethe number of edges, since each edge adds to the degree of

      two vertices. Notice this means that the sum of the degrees of all vertices

in any graph must be even!  240 4. Graph Theory


          This is our  rst example of a general result about all graphs. It seems

      innocent enough, but we will use it to prove all sorts of other statements.

    So let’s give it a name and state it formally.

      Lemma 4.1.5 Handshake Lemma.In any graph, the sum of the degrees of

        vertices in the graph is always twice the number of edges.

            The handshake lemma2is sometimes called thedegree sum formula, and

  can be written symbolically as

                                dv   2e.
                            v2V

        Here we are using the notation dv for the degree of the vertex v.

        One use for the lemma is to actually  nd the number of edges in a

      graph. To do this, you must be given thedegree sequencefor the graph

      (or be able to  nd it from other information). This is a list of every degree

      of every vertex in the graph, generally written in non-increasing order.

    Example 4.1.6

            How many vertices and edges must a graph have if its degree

    sequence is

                            4;4;3;3;3;2;1?

        Solution. The number of vertices is easy to  nd: it is the number

            of degrees in the sequence: 7. To  nd the number of edges, we

      compute the degree sum:

                      4 + 4 + 3 + 3 + 3 + 2 + 1   20,

      so the number of edges is half this: 10.


          The handshake lemma also tells us what is not possible.

    Example 4.1.7

          At a recent math seminar, 9 mathematicians greeted each other by

          shaking hands. Is it possible that each mathematician shook hands

      with exactly 7 people at the seminar?

          Solution. It seems like this should be possible. Each mathematician

          chooses one person to not shake hands with. But this cannot happen.

          We are asking whether a graph with 9 vertices can have each vertex

        have degree 7. If such a graph existed, the sum of the degrees of


          2Alemmais a mathematical statement that is primarily of importance in that it is used
    to establish other results.                                                    4.1. Definitions241


        the vertices would be9 7 63. This would be twice the number

        of edges (handshakes) resulting in a graph with31:5edges. That

        is impossible. Thus at least one (in fact an odd number) of the

          mathematicians must have shaken hands with anevennumber of

  people at the seminar.


            We can generalize the previous example to get the following proposi-

tion.3

      Proposition 4.1.8In any graph, the number of vertices with odd degree must be

even.

      Proof.Suppose there were a graph with an odd number of vertices with

    odd degree. Then the sum of the degrees in the graph would be odd,

    which is impossible, by the handshake lemma.qed

          We will consider further applications of the handshake lemma in the

exercises.

          One  nal de nition: we say a graph isbipartiteif the vertices can be

      divided into two sets,AandB, with no two vertices inAadjacent and no

      two vertices inBadjacent. The vertices inAcan be adjacent to some or

      all of the vertices inB. If each vertex inAis adjacent to all the vertices in

      B, then the graph is a complete bipartite graph, and gets a special name:

    Km;, wherejAj   mandjBj   n. The graph in the houses and utilities
  n
puzzle is K3;.
          3


                          Named Graphs.

    Some graphs are used more than others, and get special names.

KnThe complete graph on n vertices.

    Km;The complete bipartite graph with sets of m and n vertices.
  n

    CnThe cycle on n vertices, just one big loop.

      PnThe path on n + 1 vertices (so n edges), just one long path.







                        3C6P5
      K5K2;


          3Apropositionis a general statement in mathematics, similar to a theorem, although
generally of lesser importance.  242 4. Graph Theory


                        Graph Theory Definitions.

          There are a lot of de nitions to keep track of in graph theory. Here is a

          glossary of the terms we have already used and will soon encounter.

Graph

              A collection ofvertices, some of which are connected byedges.

            More precisely, a pair of setsVandEwhereVis a set of vertices

          and E is a set of 2-element subsets of V.

  Adjacent

              Two vertices areadjacentif they are connected by an edge. Two

            edges are adjacent if they share a vertex.

  Bipartite graph

            A graph for which it is possible to divide the vertices into two

              disjoint sets such that there are no edges between any two vertices

        in the same set.

  Complete bipartite graph

              A bipartite graph for which every vertex in the  rst set is adjacent

        to every vertex in the second set.

  Complete graph

            A graph in which every pair of vertices is adjacent.

Connected

              A graph isconnectedif there is a path from any vertex to any other

        vertex.

  Chromatic number

                The minimum number of colors required in a proper vertex coloring

        of the graph.

Cycle

            A path (see below) that starts and stops at the same vertex, but

          contains no other repeated vertices.

  Degree of a vertex

          The number of edges incident to a vertex.

Euler path

          A walk which uses each edge exactly once.

  Euler circuit

              An Euler path which starts and stops at the same vertex.

Multigraph

              Amultigraphis just like a graph but can contain multiple edges

              between two vertices as well as single edge loops (that is an edge

        from a vertex to itself).                                                    4.1. Definitions243


      PathApathis a walk that doesn’t repeat any vertices (or edges) except

            perhaps the  rst and last. If a path starts and ends at the same

      vertex, it is called a cycle.

Planar

            A graph which can be drawn (in the plane) without any edges

    crossing.

Subgraph

            We say thatHis asubgraphofGif every vertex and edge ofHis

              also a vertex or edge ofG. We sayHis aninducedsubgraph ofG

            if every vertex ofHis a vertex ofGand each pair of vertices inH

            are adjacent in H if and only if they are adjacent in G.

      TreeA connected graph with no cycles. (If we remove the requirement

            that the graph is connected, the graph is called aforest.) The

          vertices in a tree with degree 1 are called leaves.

Vertex coloring

          An assignment of colors to each of the vertices of a graph. A vertex

          coloring isproperif adjacent vertices are always colored di erently.

      WalkA sequence of vertices such that consecutive vertices (in the se-

            quence) are adjacent (in the graph). A walk in which no edge is

              repeated is called atrail, and a trail in which no vertex is repeated

          (except possibly the  rst and last) is called a path.


                            Exercises

      1.If 10 people each shake hands with each other, how many handshakes

          took place? What does this question have to do with graph theory?

    2.Among a group of 5 people, is it possible for everyone to be friends

          with exactly 2 of the people in the group? What about 3 of the people

  in the group?

    3.Is it possible for twodi erent(non-isomorphic) graphs to have the

          same number of vertices and the same number of edges? What if the

          degrees of the vertices in the two graphs are the same (so both graphs

          have vertices with degrees 1, 2, 2, 3, and 4, for example)? Draw two

      such graphs or explain why not.

    4.Are the two graphs below equal? Are they isomorphic? If they are

        isomorphic, give the isomorphism. If not, explain.

      Graph 1:


        V   fa; b; c; d; eg, E   ffa; bg; fa; cg; fa; eg; fb; dg; fb; eg; fc; dgg.

      Graph 2:  244 4. Graph Theory


                                      a

                                          be

                              dc

    5. Consider the following two graphs:

      G1V1  fa; b; c; d; e; f; gg

                E1  ffa; bg; fa; dg; fb; cg; fb; dg; fb; eg; fb; f g; fc; gg; fd; eg,

            fe; f g; f f; ggg.

        G2V2  fv1; v2; v3; v4; v5; v6; v7g,

                  E2  ffv1; v4g; fv1; v5g; fv1; v7g; fv2; v3g; fv2; v6g,

              fv3; v5g; fv3; v7g; fv4; v5g; fv5; v6g; fv5; v7gg

            (a)Letf:G1! G2be a function that takes the vertices of Graph

                  1 to vertices of Graph 2. The function is given by the following

          table:

                      xa b c d e f g

                        fxv4v5v1v6v2v3v7

                  Does f de ne an isomorphism between Graph 1 and Graph 2?

            (b)De ne a new functiong(withg , f) that de nes an isomor-

              phism between Graph 1 and Graph 2.

              (c)Is the graph pictured below isomorphic to Graph 1 and Graph

          2? Explain.




        6.What is the largest number of edges possible in a graph with 10

          vertices? What is the largest number of edges possible in abipartite

          graph with 10 vertices? What is the largest number of edges possible

      in a tree with 10 vertices?

          7. Which of the graphs below are bipartite? Justify your answers.






    8. For which n   3 is the graph Cnbipartite?                                                    4.1. Definitions245

      9.For each of the following, try to give twodi erentunlabeled graphs

          with the given properties, or explain why doing so is impossible.

        (a)Two di erent trees with the same number of vertices and the

                same number of edges. A tree is a connected graph with no

        cycles.

          (b) Two di erent graphs with 8 vertices all of degree 2.

        (c) Two di erent graphs with 5 vertices all of degree 4.

          (d) Two di erent graphs with 5 vertices all of degree 3.

      10.Decide whether the statements below about subgraphs are true or

          false. For those that are true, brie y explain why (1 or 2 sentences).

    For any that are false, give a counterexample.

          (a) Any subgraph of a complete graph is also complete.

        (b) Any induced subgraph of a complete graph is also complete.

          (c) Any subgraph of a bipartite graph is bipartite.

        (d) Any subgraph of a tree is a tree.


                                                            j
    11.Letk1; k2; : : : ; kjbe a list of positive integers that sum ton(i.e.,ki 
                                                              i 1
          n). Use two graphs containing n vertices to explain why

                                     
                            j 

                                kin
                                     .
                                22
                            i 1

      12.We often de ne graph theory concepts using set theory. For example,

      given a graph G   V;E and a vertex v 2 V, we de ne

                        Nv   fu 2 V : fv; ug 2 Eg.

        We de neNv   Nv [ fvg. The goal of this problem is to  gure out

    what all this means.

        (a) Let G be the graph with V   fa; b; c; d; e; f g and

              E   ffa; bg; fa; eg; fb; cg; fb; eg; fc; dg; fc; f g; fd; f g; fe; f gg. Find

        Na, Na, Nc, and Nc.

        (b)What is the largest and smallest possible values forjNvjand

          jNvj for the graph in part (a)? Explain.

              (c)Give an example of a graphG   V;E(probably di erent than

              the one above) for whichNv   Vfor some vertexv 2 V. Is

            there a graph for which Nv   V for all v 2 V? Explain.

        (d)Give an example of a graphG  
                                           V;Efor whichNv   ;for

              somev 2 V. Is there an example of such a graph for which

          Nu   V for some other u 2 V as well? Explain.  246 4. Graph Theory

              (e) Describe in words what Nv and Nv mean in general.

      13.A graph is a way of representing the relationships between elements

          in a set: an edge between the verticesxandytells us thatxis related

        toy(which we can write asx   y). Not all sorts of relationships can

          be represented by a graph though. For each relationship described

          below, either draw the graph or explain why the relationship cannot

      be represented by a graph.

        (a)The setV  
                         f1;2; : : : ;9gand the relationshipx   ywhenx y

            is a non-zero multiple of 3.

            (b)The setV   f1;2; : : : ;9gand the relationshipx   ywhenyis a

          multiple of x.

              (c)The setV   f1;2; : : : ;9gand the relationshipx   ywhen

          0 < jx yj < 3.

      14.Consider graphs withnvertices. Remember, graphs do not need to be

      connected.

              (a)How many edges must the graph have to guarantee at least one

                vertex has degree two or more? Prove your answer.

              (b)How many edges must the graph have to guarantee all vertices

            have degree two or more? Prove your answer.

      15.Prove that any graph with at least two vertices must have two vertices

      of the same degree.

          16.SupposeGis a connected graph withn >1vertices andn 1edges.

        Prove that G has a vertex of degree 1.                                                        4.2. Trees247


                          4.2 Trees


    Investigate!

      Consider the graph drawn below.





            1.Find a subgraph with the smallest number of edges that is

            still connected and contains all the vertices.

          2.Find a subgraph with the largest number of edges that

          doesn’t contain any cycles.

          3.What do you notice about the number of edges in your

            examples above? Is this a coincidence?

        !Attempt the above activity before proceeding!

          One very useful and common approach to studying graph theory is

      to restrict your focus to graphs of a particular kind. For example, you

        could try to really understand just complete graphs or just bipartite graphs,

      instead of trying to understand all graphs in general. That is what we are

      going to do now, looking attrees. Hopefully by the end of this section we

        will have a better understanding of this class of graph, and also understand

    why it is important enough to warrant its own section.

    De nition of a Tree.

        A tree is a connected graph containing no cycles.4

            Aforestis a graph containing no cycles. Note that this means

      that a connected forest is a tree.

          Does the de nition above agree with your intuition for what graphs

      we should call trees? Try thinking of examples of trees and make sure

    they satisfy the de nition. One thing to keep in mind is that while the

      trees we study in graph theory are related to trees you might see in other

      subjects, the correspondence is not exact. For instance, in anthropology,

  you might study family trees, like the one below,

          4Sometimes this is stated as “a tree is an acyclic connected graph;” “acyclic” is just a
  fancy word for “containing no cycles.”  248 4. Graph Theory

                                  Me


                  MomDad

                MaternalMaternalPaternalPaternal
                GrandmaGrandpaGrandmaGrandpa

            So far so good, but while your grandparents are (probably) not blood-

          relatives, if we go back far enough, it is likely that they did havesome

      common ancestor. If you trace the tree back from you to that common

      ancestor, then down through your other grandparent, you would have a

    cycle, and thus the graph would not be a tree.

          You might also have seen something called adecision tree(such as the

        algorithm for deciding whether a series converges or diverges). Sometimes

      these too contain cycles, as the decision for one node might lead you back

  to a previous step.

          Both the examples of trees above also have another feature worth

      mentioning: there is a clear order to the vertices in the tree. In general,

      there is no reason for a tree to have this added structure, although we can

      impose such a structure by consideringrooted trees, where we simply

      designate one vertex as theroot. We will consider such trees in more detail

  later in this section.


                          Properties of Trees

          We wish to really understand trees. This means we should discover

      properties of trees; what makes them special and what is special about

them.

          A tree is a connected graph with no cycles. Is there anything else we

      can say? It would be nice to have other equivalent conditions for a graph

      to be a tree. That is, we would like to know whether there are any graph

      theoretic properties that all trees have, and perhaps even thatonlytrees

have.

            To get a feel for the sorts of things we can say, we will consider

      threepropositionsabout trees. These will also illustrate important proof

      techniques that apply to graphs in general, and happen to be a little easier

for trees.

          Our  rst proposition gives an alternate de nition for a tree. That is, it

        gives necessary and su cient conditions for a graph to be a tree.

      Proposition 4.2.1A graphTis a tree if and only if between every pair of distinct

  vertices of T there is a unique path.

      Proof.This is an “if and only if” statement, so we must prove two implica-

          tions. We start by proving that ifTis a tree, then between every pair of

    distinct vertices there is a unique path.                                                        4.2. Trees249


        AssumeTis a tree, and letuandvbe distinct vertices (ifTonly has

      one vertex, then the conclusion is satis ed automatically). We must show

      two things to show that there is a unique path betweenuandv: that there

    is a path, and that there is not more than one path. The  rst of these is

      automatic, sinceTis a tree, it is connected, so there is a path between any

pair of vertices.

            To show the path is unique, we suppose there are two paths betweenu

      andv, and get a contradiction. The two paths might start out the same,

      but since they are di erent, there is some  rst vertexu0after which the

      two paths diverge. However, since the two paths both end andv, there

    is some  rst vertex afteru0that they have in common, call itv0. Now

      consider the two paths fromu0tov0. Taken together, these form a cycle,

  which contradicts our assumption that T is a tree.

            Now we consider the converse: if between every pair of distinct vertices

    ofTthere is a unique path, thenTis a tree. So assume the hypothesis:

      between every pair of distinct vertices ofTthere is a unique path. To prove

    that T is a tree, we must show it is connected and contains no cycles.

        The  rst half of this is easy:Tis connected, because there is a path

      between every pair of vertices. To show thatThas no cycles, we assume

      it does, for the sake of contradiction. Letuandvbe two distinct vertices

  in a cycle ofT. Since we can get fromutovby going clockwise or

      counterclockwise around the cycle, there are two paths fromuandv,

  contradicting our assumption.

            We have established both directions so we have completed the proof.

                                                                qed

          Read the proof above very carefully. Notice that both directions had

      two parts: the existence of paths, and the uniqueness of paths (which

      related to the fact that there were no cycles). In this case, these two parts

      were really separate. In fact, if we just considered graphs with no cycles

    (a forest), then we could still do the parts of the proof that explore the

      uniqueness of paths between vertices, even if there might notexistpaths

between vertices.

      This observation allows us to state the following corollary:5

      Corollary 4.2.2A graphFis a forest if and only if between any pair of vertices

  in F there is at most one path.

        We do not give a proof of the corollary (it is, after all, supposed to

      follow directly from the proposition) but for practice, you are asked to

      give a careful proof in the exercises. When you do so, try to use proof by

    contrapositive instead of proof by contradiction.

          5A corollary is another sort of provable statement, like a proposition or theorem, but
          one that follows direction from another already established statement, or its proof.  250 4. Graph Theory


          Our second proposition tells us that all trees haveleaves: vertices of

  degree one.

      Proposition 4.2.3Any tree with at least two vertices has at least two vertices of

degree one.

          Proof.We give a proof by contradiction. LetTbe a tree with at least

      two vertices, and suppose, contrary to stipulation, that there are not two

    vertices of degree one.

            LetPbe a path inTof longest possible length. Letuandvbe the

      endpoints of the path. SinceTdoes not have two vertices of degree one,

      at least one of these must have degree two or higher. Say that it isu. We

          know thatuis adjacent to a vertex in the pathP, but now it must also be

  adjacent to another vertex, call it u0.

          Where isu0? It cannot be a vertex ofP, because if it was, there would

      be two distinct paths fromutou0: the edge between them, and the  rst

          part ofP(up tou0). Butu0also cannot be outside ofP, for if it was, there

      would be a path fromu0tovthat was longer thanP, which has longest

  possible length.

          This contradiction proves that there must be at least two vertices of

      degree one. In fact, we can say a little more:uandvmustbothhave degree

one.qed

            The proposition is quite useful when proving statements about trees,

      because we often prove statements about trees byinduction. To do so, we

      need to reduce a given tree to a smaller tree (so we can apply the inductive

      hypothesis). Getting rid of a vertex of degree one is an obvious choice,

      and now we know there is always one to get rid of.

        To illustrate how induction is used on trees, we will consider the

        relationship between the number of vertices and number of edges in trees.

      Is there a tree with exactly 7 vertices and 7 edges? Try to draw one. Could

      a tree with 7 vertices have only 5 edges? There is a good reason that these

  seem impossible to draw.

          Proposition 4.2.4 Let T be a tree with v vertices and e edges. Then e   v 1.

      Proof.We will give a proof by induction on the number of vertices in the

      tree. That is, we will prove that every tree withvvertices has exactlyv 1

      edges, and then use induction to show this is true for all v   1.

          For the base case, consider all trees withv  1vertices. There is only

          one such tree: the graph with a single isolated vertex. This graph has

      e   0 edges, so we see that e   v 1 as needed.

        Now for the inductive case,  xk  1and assume that all trees with

      v   kvertices have exactlye   k 1edges. Now consider an arbitrary tree

      Twithv   k +1vertices. By Proposition 4.2.3,Thas a vertexv0of degree                                                        4.2. Trees251


      one. LetT0be the tree resulting from removingv0fromT(together with

      its incident edge). Since we removed a leaf,T0is still a tree (the unique

    paths between pairs of vertices inT0are the same as the unique paths

between them in T).

          NowT0haskvertices, so by the inductive hypothesis, hask 1edges.

    What can we say aboutT? Well, it has one more edge thanT0, so it has

    kedges. But this is exactly what we wanted:v   k +1,e   kso indeed

      e   v 1. This completes the inductive case, and the proof.qed

          There is a very important feature of this induction proof that is worth

      noting. Induction makes sense for proofs about graphs because we can

      think of graphs as growing into larger graphs. However, this does NOT

      work. It would not be correct to start with a tree withkvertices, and then

      add a new vertex and edge to get a tree withk +1vertices, and note that

      the number of edges also grew by one. Why is this bad? Because how do

      you know thateverytree withk +1vertices is the result of adding a vertex

    to your arbitrary starting tree? You don’t!

            The point is that whenever you give an induction proof that a statement

      about graphs that holds for all graphs withvvertices, you must start with

      an arbitrary graph withv +1vertices, thenreducethat graph to a graph

    with v vertices, to which you can apply your inductive hypothesis.


                          Rooted Trees

        So far, we have thought of trees only as a particular kind of graph. However,

      it is often useful to add additional structure to trees to help solve problems.

    Data is often structured like a tree. This book, for example, has a tree

      structure: draw a vertex for the book itself. Then draw vertices for each

      chapter, connected to the book vertex. Under each chapter, draw a vertex

      for each section, connecting it to the chapter it belongs to. The graph will

      not have any cycles; it will be a tree. But a tree with clear hierarchy which

  is not present if we don’t identify the book vertex as the “top”.

          As soon as one vertex of a tree is designated as theroot, then every

      other vertex on the tree can be characterized by its position relative to the

      root. This works because there is a unique path between any two vertices

      in a tree. So from any vertex, we can travel back to the root in exactly one

      way. This also allows us to describe how distinct vertices in a rooted tree

are related.

          If two vertices are adjacent, then we say one of them is theparentof

      the other, which is called thechildof the parent. Of the two, the parent is

      the vertex that is closer to the root. Thus the root of a tree is a parent, but

      is not the child of any vertex (and is unique in this respect: all non-root

  vertices have exactly one parent).  252 4. Graph Theory


            Not surprisingly, the child of a child of a vertex is called thegrandchild

      of the vertex (and it is thegrandparent). More in general, we say that a

          vertexvis adescendentof a vertexuprovideduis a vertex on the path

      from v to the root. Then we would call u an ancestor of v.

          For most trees (in fact, all except paths with one end the root), there

      will be pairs of vertices neither of which is a descendant of the other. We

          might call these cousins or siblings. In fact, verticesuandvare called

      siblingsprovided they have the same parent. Note that siblings are never

    adjacent (do you see why?).

    Example 4.2.5

      Consider the tree below.

                              bfh

                        acei

                              dg

              If we designate vertexfas the root, thene,h, andiare the

          children off, and are siblings of each other. Among the other things

          we cay say are thatais a child ofc, and a descendant off. The

        vertexgis a descendant off, in fact, is a grandchild off. Vertices

          g and d are siblings, since they have the common parent e.

              Notice how this changes if we pick a di erent vertex for the root.

        Ifais the root, then its lone child isc, which also has only one child,

        namelye. We would then havefthe child ofe(instead of the other

        way around), andfis the descendant ofa, instead of the ancestor.

      f and g are now siblings.


            All of this  owery language helps us describe how tonavigatethrough

      a tree. Traversing a tree, visiting each vertex in some order, is a key step

      in many algorithms. Even if the tree is not rooted, we can always form a

      rooted tree by picking any vertex as the root. Here is an example of why

  doing so can be helpful.

    Example 4.2.6

        Explain why every tree is a bipartite graph.

        Solution. To show that a graph is bipartite, we must divide the

        vertices into two setsAandBso that no two vertices in the same

          set are adjacent. Here is an algorithm that does just this.

            Designate any vertex as the root. Put this vertex in setA. Now

        put all of the children of the root in setB. None of these children                                                        4.2. Trees253


        are adjacent (they are siblings), so we are good so far. Now put

          intoAevery child of every vertex inB(i.e., every grandchild of the

        root). Keep going until all vertices have been assigned one of the

        sets, alternating betweenAandBevery “generation.” That is, a

      vertex is in set B if and only if it is the child of a vertex in set A.


          The key to how we partitioned the tree in the example was to know

    which vertex to assign to a set next. We chose to visit all vertices in the

      same generation before any vertices of the next generation. This is usually

      called abreadth  rst search(we say “search” because you often traverse a

  tree looking for vertices with certain properties).

            In contrast, we could also have partitioned the tree in a di erent order.

      Start with the root, put it inA. Then look for one child of the root to put in

      B. Then  nd a child of that vertex, intoA, and then  nd its child, intoB,

      and so on. When you get to a vertex with no children, retreat to its parent

      and see if the parent has any other children. So we travel as far from the

      root as fast as possible, then backtrack until we can move forward again.

This is called depth  rst search.

          These algorithmic explanations can serve as a proof that every tree is

      bipartite, although care needs to be spent to prove that the algorithms

      arecorrect. Another approach to prove that all trees are bipartite, using

  induction, is requested in the exercises.


                          Spanning Trees

      One of the advantages of trees is that they give us a few simple ways to

      travel through the vertices. If a connected graph is not a tree, then we can

      still use these traversal algorithms if we identify a subgraph that is a tree.

            First we should consider if this even makes sense. Given any connected

    graphG, will there always be a subgraph that is a tree? Well, that is

      actually too easy: you could just take a single vertex ofG. If we want to

    use this subgraph to tell us how to visit all vertices, then we want our

      subgraph to include all of the vertices. We call such a tree aspanning tree.

    It turns out that every connected graph has one (and usually many).

    Spanning tree.

        Given a connected graphG, aspanning treeofGis a subgraph of

      G which is a tree and includes all the vertices of G.

        Every connected graph has a spanning tree.


          How do we know? We can give an algorithm for ndinga spanning

      tree! Start with a connected graphG. If there is no cycle, thenGis already

    a tree and we are done. If there is a cycle, letebe any edge in that cycle  254 4. Graph Theory


      and consider the new graphG1  G e(i.e., the graph you get by deleting

          e). This tree is still connected sinceebelonged to a cycle, there were at

      least two paths between its incident vertices. Now repeat: ifG1has no

      cycles, we are done, otherwise de neG2to beG1 e1, wheree1is an edge

          in a cycle inG1. Keep going. This process must eventually stop, since

      there are only a  nite number of edges to remove. The result will be a tree,

      and since we never removed any vertex, a spanning tree.

          This is by no means the only algorithm for  nding a spanning tree.

        You could have started with the empty graph and added edges that belong

          toGas long as adding them would not create a cycle. You have some

      choices as to which edges you add  rst: you could always add an edge

      adjacent to edges you have already added (after the  rst one, of course),

      or add them using some other order. Which spanning tree you end up

    with depends on these choices.

    Example 4.2.7

          Find two di erent spanning trees of the graph,






        Solution. Here are two spanning trees.






          Although we will not consider this in detail, these algorithms are

      usually applied toweightedgraphs. Here every edge has some weight or

      cost assigned to it. The goal is to  nd a spanning tree that has the smallest

        possible combined weight. Such a tree is called aminimum spanning tree.

        Finding the minimum spanning tree uses basically the same algorithms as

      we described above, but when picking an edge to add, you always pick

      the smallest (or when removing an edge, you always remove the largest).6





              6If you add the smallest edge adjacent to edges you have already added, you are
            doingPrim’s algorithm. If you add the smallest edge in the entire graph, you are following
  Kruskal’s algorithm.                                                        4.2. Trees255


                            Exercises

    1. Which of the following graphs are trees?

          (a) G   V;EwithV   fa; b; c; d; egandE   ffa; bg; fa; eg; fb; cg; fc; dg; fd; egg

            (b) G   V;EwithV   fa; b; c; d; egandE   ffa; bg; fb; cg; fc; dg; fd; egg

            (c) G   V;EwithV   fa; b; c; d; egandE   ffa; bg; fa; cg; fa; dg; fa; egg

          (d) G   V;EwithV   fa; b; c; d; egandE   ffa; bg; fa; cg; fd; egg

      2.For each degree sequence below, decide whether it must always, must

          never, or could possibly be a degree sequence for a tree. Remember, a

            degree sequence lists out the degrees (number of edges incident to the

      vertex) of all the vertices in a graph in non-increasing order.

    (a) 4;1;1;1;1

    (b) 3;3;2;1;1

    (c) 2;2;2;1;1

      (d) 4;4;3;3;3;2;2;1;1;1;1;1;1;1

      3.For each degree sequence below, decide whether it must always, must

          never, or could possibly be a degree sequence for a tree. Justify your

  answers.

    (a) 3;3;2;2;2

    (b) 3;2;2;1;1;1

    (c) 3;3;3;1;1;1

      (d) 4;4;1;1;1;1;1;1

    4.Suppose you have a graph withvvertices andeedges that satis es

        v   e + 1. Must the graph be a tree? Prove your answer.

    5.Prove that any graph (not necessarily a tree) withvvertices ande

        edges that satis es v > e + 1 will NOT be connected.

    6.If a graphGwithvvertices andeedges is connected and hasv < e +1,

        must it contain a cycle? Prove your answer.

  7. We de ne a forest to be a graph with no cycles.

          (a)Explain why this is a good name. That is, explain why a forest is

        a union of trees.

        (b)SupposeFis a forest consisting ofmtrees andvvertices. How

          many edges does F have? Explain.

          (c)Prove that any graphGwithvvertices andeedges that satis es

              v < e + 1 must contain a cycle (i.e., not be a forest).  256 4. Graph Theory

      8.Give a careful proof of Corollary 4.2.2: A graph is a forest if and only

          if there is at most one path between any pair of vertices. Use proof by

          contrapositive (and not a proof by contradiction) for both directions.

      9.Give a careful proof by induction on the number of vertices, that every

    tree is bipartite.

  10. Consider the tree drawn below.


                              cdgh

                            abefi

            (a)Suppose we designate vertexeas the root. List the children,

                  parents and siblings of each vertex. Does any vertex other than

          e have grandchildren?

            (b)Supposeeisnotchosen as the root. Does our choice of root

                vertex change thenumberof childrenehas? The number of

                grandchildren? How many are there of each?

              (c)In fact, pick any vertex in the tree and suppose it is not the root.

                Explain why the number of children of that vertex does not

            depend on which other vertex is the root.

              (d)Does the previous part work for other trees? Give an example

                of a di erent tree for which it holds. Then either prove that it

                  always holds or give an example of a tree for which it doesn’t.

      11.LetTbe a rooted tree that contains verticesu,v, andw(among possibly

            others). Prove that ifwis a descendant of bothuandv, thenuis a

        descendant of v or v is a descendant of u.

      12.Unless it is already a tree, a given graphGwill have multiple spanning

        trees. How similar or di erent must these be?

              (a)Must all spanning trees of a given graph be isomorphic to each

              other? Explain why or give a counterexample.

              (b)Must all spanning trees of a given graph have the same number

              of edges? Explain why or give a counterexample.

                (c)Must all spanning trees of a graph have the same number of leaves

                  (vertices of degree 1)? Explain why or give a counterexample.

          13.Find all spanning trees of the graph below. How many di erent

          spanning trees are there? How many di erent spanning trees are

          thereup to isomorphism(that is, if you grouped all the spanning trees

        by which are isomorphic, how many groups would you have)?                                                        4.2. Trees257


                          a
                                    d

                                          e
                                c
                          bf

      14.Give an example of a graph that has exactly 7 di erent spanning trees.

        Note, it is acceptable for some or all of these spanning trees to be

  isomorphic.

      15.Prove that every connected graph which is not itself a tree must have

            at last three di erent (although possibly isomorphic) spanning trees.

      16.Consider edges that must be in every spanning tree of a graph. Must

          every graph have such an edge? Give an example of a graph that has

    exactly one such edge.  258 4. Graph Theory


                      4.3 Planar Graphs


      Investigate!

          When a connected graph can be drawn without any edges crossing,

            it is calledplanar. When a planar graph is drawn in this way, it

        divides the plane into regions called faces.

              1.Draw, if possible, two di erent planar graphs with the same

            number of vertices, edges, and faces.

              2.Draw, if possible, two di erent planar graphs with the same

              number of vertices and edges, but a di erent number of

          faces.

            !Attempt the above activity before proceeding!

          When is it possible to draw a graph so that none of the edges cross? If

      thisispossible, we say the graph isplanar(since you can draw it on the

plane).

          Notice that the de nition of planar includes the phrase “it is possible

      to.” This means that even if a graph does not look like it is planar, it still

      might be. Perhaps you can redraw it in a way in which no edges cross. For

    example, this is a planar graph:





          That is because we can redraw it like this:






            The graphs are the same, so if one is planar, the other must be too. How-

      ever, the original drawing of the graph was not aplanar representation

  of the graph.

          When a planar graph is drawn without edges crossing, the edges and

          vertices of the graph divide the plane into regions. We will call each

      region aface. The graph above has 3 faces (yes, wedoinclude the “outside”

      region as a face). The number of faces does not change no matter how you

      draw the graph (as long as you do so without the edges crossing), so it

          makes sense to ascribe the number of faces as a property of the planar

graph.                                                  4.3. Planar Graphs259


          WARNING: you can only count faces when the graph is drawn in a

      planar way. For example, consider these two representations of the same

graph:







        If you try to count faces using the graph on the left, you might say

      there are 5 faces (including the outside). But drawing the graph with a

  planar representation shows that in fact there are only 4 faces.

          There is a connection between the number of vertices (v), the number

      of edges (e) and the number of faces (f) in any connected planar graph.

    This relationship is called Euler’s formula.

      Euler’s Formula for Planar Graphs.

          For any connected planar graph withvvertices,eedges andffaces,

  we have

                          v e + f   2.


        Why is Euler’s formula true? One way to convince yourself of its

      validity is to draw a planar graph step by step. Start with the graph P2:




            Any connected graph (besides just a single isolated vertex) must contain

      this subgraph. Now build up to your graph by adding edges and vertices.

      Each step will consist of either adding a new vertex connected by a new

      edge to part of your graph (so creating a new “spike”) or by connecting

      two vertices already in the graph with a new edge (completing a circuit).







          What do these “moves” do? When adding the spike, the number of

      edges increases by 1, the number of vertices increases by one, and the

    number of faces remains the same. But this means thatv e + fdoes not

      change. Completing a circuit adds one edge, adds one face, and keeps the

  number of vertices the same. So again, v e + f does not change.  260 4. Graph Theory


            Since we can build any graph using a combination of these two moves,

          and doing so never changes the quantityv e + f, that quantity will be

          the same for all graphs. But notice that our starting graphP2hasv  2,

        e  1andf  1, sov e + f  2. This argument is essentially a proof by

      induction. A good exercise would be to rewrite it as a formal induction

proof.


                          Non-planar Graphs

      Investigate!

            For the complete graphsKn, we would like to be able to say

          something about the number of vertices, edges, and (if the graph

        is planar) faces. Let’s  rst consider K3:

              1. How many vertices does K3have? How many edges?

          2. If K3is planar, how many faces should it have?

          Repeat parts (1) and (2) for K4, K5, and K23.

            What about complete bipartite graphs? How many vertices,

            edges, and faces (if it were planar) doesK7;have? For which
                                                4
        values of m and n are Knand Km;planar?
                                    n

            !Attempt the above activity before proceeding!

        Not all graphs are planar. If there are too many edges and too few

      vertices, then some of the edges will need to intersect. The smallest graph

  where this happens is K5.






          If you try to redraw this without edges crossing, you quickly get into

      trouble. There seems to be one edge too many. In fact, we can prove that

        no matter how you draw it, K5will always have edges crossing.

  Theorem 4.3.1 K5is not planar.

      Proof.The proof is by contradiction. So assume thatK5is planar. Then

      the graph must satisfy Euler’s formula for planar graphs.K5has 5 vertices

    and 10 edges, so we get

                            5 10 + f   2,                                                  4.3. Planar Graphs261


      which says that if the graph is drawn without any edges crossing, there

would be f   7 faces.

            Now consider how many edges surround each face. Each face must be

      surrounded by at least 3 edges. LetBbe the total number ofboundaries

    around all the faces in the graph. Thus we have that3f   B. But also

      B  2e, since each edge is used as a boundary exactly twice. Putting this

together we get

                              3f   2e.

          But this is impossible, since we have already determined thatf  7and

      e  10, and216 20. This is a contradiction so in factK5is not planar.qed

        The other simplest graph which is not planar is K3;
                                                  3





            Proving thatK3;is not planar answers the houses and utilities puzzle:
                3
      it is not possible to connect each of three houses to each of three utilities

without the lines crossing.

Theorem 4.3.2 K3;is not planar.
              3

      Proof.Again, we proceed by contradiction. SupposeK3;were planar.
                                                      3
    Then by Euler’s formula there will be 5 faces, sincev  6,e  9, and

6 9 + f   2.

          How many boundaries surround these 5 faces? LetBbe this number.

      Since each edge is used as a boundary twice, we haveB  2e. Also,B  4f

      since each face is surrounded by 4 or more boundaries. We know this is

      true becauseK3;is bipartite, so does not contain any 3-edge cycles. Thus
              3

                              4f   2e.

          But this would say that20 18, which is clearly false. ThusK3;is not
                                                            3
planar.qed

          Note the similarities and di erences in these proofs. Both are proofs

      by contradiction, and both start with using Euler’s formula to derive the

      (supposed) number of faces in the graph. Then we  nd a relationship

      between the number of faces and the number of edges based on how many

      edges surround each face. This is the only di erence. In the proof for K5,

    we got3f  2eand forK3;we go4f  2e. The coe cient offis the key.
                      3
      It is the smallest number of edges which could surround any face. If some

      number of edges surround a face, then these edges form a cycle. So that

    number is the size of the smallest cycle in the graph.  262 4. Graph Theory


        In general, if we letgbe the size of the smallest cycle in a graph (g

      stands forgirth, which is the technical term for this) then for any planar

          graph we haveg f  2e. When this disagrees with Euler’s formula, we

      know for sure that the graph cannot be planar.


                              Polyhedra

      Investigate!

          A cube is an example of a convex polyhedron. It contains 6

              identical squares for its faces, 8 vertices, and 12 edges. The cube

          is aregular polyhedron(also known as aPlatonic solid) because

        each face is an identical regular polygon and each vertex joins an

        equal number of faces.

              There are exactly four other regular polyhedra: the tetrahedron,

          octahedron, dodecahedron, and icosahedron with 4, 8, 12 and 20

          faces respectively. How many vertices and edges do each of these

    have?

            !Attempt the above activity before proceeding!

          Another area of mathematics where you might have heard the terms

      “vertex,” “edge,” and “face” is geometry. Apolyhedronis a geometric

      solid made up of  at polygonal faces joined at edges and vertices. We

      are especially interested inconvexpolyhedra, which means that any line

      segment connecting two points on the interior of the polyhedron must be

    entirely contained inside the polyhedron.7

        Notice that since812+6 2, the vertices, edges and faces of a cube

      satisfy Euler’s formula for planar graphs. This is not a coincidence. We

      can represent a cube as a planar graph by projecting the vertices and edges

        onto the plane. One such projection looks like this:







            In fact,everyconvex polyhedron can be projected onto the plane without

      edges crossing. Think of placing the polyhedron inside a sphere, with a

      light at the center of the sphere. The edges and vertices of the polyhedron

      cast a shadow onto the interior of the sphere. You can then cut a hole in

      the sphere in the middle of one of the projected faces and “stretch” the

          7An alternative de nition for convex is that the internal angle formed by any two faces
    must be less than 180 deg.                                                  4.3. Planar Graphs263


      sphere to lie down  at on the plane. The face that was punctured becomes

  the “outside” face of the planar graph.

          The point is, we can apply what we know about graphs (in particular

      planar graphs) to convex polyhedra. Since every convex polyhedron can

      be represented as a planar graph, we see that Euler’s formula for planar

      graphs holds for all convex polyhedra as well. We also can apply the same

      sort of reasoning we use for graphs in other contexts to convex polyhedra.

      For example, we know that there is no convex polyhedron with 11 vertices

  all of degree 3, as this would make 33/2 edges.

Example 4.3.3

          Is there a convex polyhedron consisting of three triangles and six

        pentagons? What about three triangles, six pentagons and  ve

    heptagons (7-sided polygons)?

          Solution. How many edges would such polyhedra have? For the

           rst proposed polyhedron, the triangles would contribute a total

          of 9 edges, and the pentagons would contribute 30. However, this

        counts each edge twice (as each edge borders exactly two faces),

          giving 39/2 edges, an impossibility. There is no such polyhedron.

            The second polyhedron does not have this obstacle. The extra

        35 edges contributed by the heptagons give a total of 74/2 = 37

          edges. So far so good. Now how many vertices does this supposed

          polyhedron have? We can use Euler’s formula. There are 14 faces,

        so we havev 37+14 2or equivalentlyv  25. But now use the

        vertices to count the edges again. Each vertex must have degree

        at leastthree (that is, each vertex joins at least three faces since the

          interior angle of all the polygons must be less that180 ), so the sum

          of the degrees of vertices is at least 75. Since the sum of the degrees

          must be exactly twice the number of edges, this says that there are

        strictly more than 37 edges. Again, there is no such polyhedron.


          To conclude this application of planar graphs, consider the regular

      polyhedra. We claimed there are only  ve. How do we know this is true?

We can prove it using graph theory.

    Theorem 4.3.4 There are exactly  ve regular polyhedra.

      Proof.Recall that all the faces of a regular polyhedron are identical regular

      polygons, and that each vertex has the same degree. Consider four cases,

    depending on the type of regular polygon.

        Case 1: Each face is a triangle. Letfbe the number of faces. There

  are then3f2edges. Using Euler’s formula we havev 3f2+ f  2so

    v  2+ f2. Now each vertex has the same degree, sayk. So the number  264 4. Graph Theory


      of edges is also kv2. Putting this together gives

                                         f2
                            3fk2 +
                                 ,
                        e  
                              22

which says
                                    6f
                              k  .
                                  4 + f

                                                    6f
        Bothkandfmust be positive integers. Note thatis an increasing
                                                    4+f
      function for positivef, bounded above by a horizontal asymptote atk  6.

        Thus the only possible values forkare 3, 4, and 5. Each of these are

          possible. To getk  3, we needf  4(this is the tetrahedron). Fork  4

          we takef  8(the octahedron). Fork  5takef  20(the icosahedron).

      Thus there are exactly three regular polyhedra with triangles for faces.

            Case 2: Each face is a square. Now we havee  4f2 2f. Using

      Euler’s formula we getv  2+ f, and counting edges using the degreek

  of each vertex gives us
                                    k2 + f
                          e   2f  .
                                      2

      Solving for k gives

                              4f8f
                                     .
                          k  
                              2 + f4 + 2f

        This is again an increasing function, but this time the horizontal

          asymptote is atk  4, so the only possible value thatkcould take is 3.

          This produces 6 faces, and we have a cube. There is only one regular

    polyhedron with square faces.

          Case 3: Each face is a pentagon. We perform the same calculation as

      above, this time getting e   5f2 so v   2 + 3f2. Then

                                         3f2
                            5fk2 +
                                 ,
                        e  
                            22

so
                                  10f
                              k  .
                                  4 + 3f

                                      10
        Now the horizontal asymptote is at. This is less than 4, so we can
                                      3
      only hope of makingk  3. We can do so by using 12 pentagons, getting

      the dodecahedron. This is the only regular polyhedron with pentagons as

faces.

          Case 4: Each face is ann-gon withn  6. Following the same procedure

    as above, we deduce that

                                  2n f
                          k  
                                          ,
                                4 + n 2f                                                  4.3. Planar Graphs265

                                                    2n
    which will be increasing to a horizontal asymptote of. Whenn  6,
                                                    n2
      this asymptote is atk  3. Any larger value ofnwill give an even smaller

      asymptote. Therefore no regular polyhedra exist with faces larger than

pentagons.8qed


                            Exercises

      1.Is it possible for a planar graph to have 6 vertices, 10 edges and 5 faces?

  Explain.

    2.The graphGhas 6 vertices with degrees2;2;3;4;4;5. How many

          edges doesGhave? CouldGbe planar? If so, how many faces would

    it have. If not, explain.

      3.Is it possible for a connected graph with 7 vertices and 10 edges to be

          drawn so that no edges cross and create 4 faces? Explain.

      4.Is it possible for a graph with 10 vertices and edges to be a connected

    planar graph? Explain.

      5.Is there a connected planar graph with an odd number of faces where

      every vertex has degree 6? Prove your answer.

      6.I’m thinking of a polyhedron containing 12 faces. Seven are triangles

            and four are quadralaterals. The polyhedron has 11 vertices including

          those around the mystery face. How many sides does the last face

  have?

  7. Consider some classic polyhedrons.

          (a)Anoctahedronis a regular polyhedron made up of 8 equilateral

              triangles (it sort of looks like two pyramids with their bases glued

              together). Draw a planar graph representation of an octahedron.

            How many vertices, edges and faces does an octahedron (and

        your graph) have?

            (b)The traditional design of a soccer ball is in fact a (spherical

                projection of a) truncated icosahedron. This consists of 12

              regular pentagons and 20 regular hexagons. No two pentagons

                are adjacent (so the edges of each pentagon are shared only

                by hexagons). How many vertices, edges, and faces does a

              truncated icosahedron have? Explain how you arrived at your

            answers. Bonus: draw the planar graph representation of the

        truncated icosahedron.

          8Notice that you can tile the plane with hexagons. This is an in nite planar graph; each
          vertex has degree 3. These in nitely many hexagons correspond to the limit asf ! 1to
make k   3.  266 4. Graph Theory

              (c)Your “friend” claims that he has constructed a convex polyhe-

                  dron out of 2 triangles, 2 squares, 6 pentagons and 5 octagons.

                Prove that your friend is lying. Hint: each vertex of a convex

                polyhedron must border at least three faces.

      8.Prove Euler’s formula using induction on the number of edges in the

    graph.

      9.Prove Euler’s formula using induction on the number ofverticesin the

    graph.

          10.Euler’s formula (v e + f  2) holds for allconnectedplanar graphs.

          What if a graph is not connected? Suppose a planar graph has two

          components. What is the value ofv e + fnow? What if it hask

      components?

      11. Prove that the Petersen graph (below) is not planar.






          12.Prove that any planar graph withvvertices andeedges satis es

    e   3v 6.

      13. Prove that any planar graph must have a vertex of degree 5 or less.

      14. Give a careful proof that the graph below is not planar.








          15.Explain why we cannot use the same sort of proof we did in Exer-

          cise 4.3.14 to prove that the graph below is not planar. Then explain

          how you know the graph is not planar anyway.                                                      4.4. Coloring267


                        4.4 Coloring


    Investigate!

          Mapmakers in the  ctional land of Euleria have drawn the borders

        of the various dukedoms of the land. To make the map pretty,

          they wish to color each region. Adjacent regions must be colored

          di erently, but it is perfectly  ne to color two distant regions with

        the same color. What is the fewest colors the mapmakers can use

    and still accomplish this task?


















        !Attempt the above activity before proceeding!

            Perhaps the most famous graph theory problem is how to color maps.

            Given any map of countries, states, counties, etc., how many

          colors are needed to color each region on the map so that

        neighboring regions are colored di erently?

      Actual map makers usually use around seven colors. For one thing, they

      require watery regions to be a speci c color, and with a lot of colors it is

      easier to  nd a permissible coloring. We want to know whether there is a

    smaller palette that will work for any map.

          How is this related to graph theory? Well, if we place a vertex in the

      center of each region (say in the capital of each state) and then connect

      two vertices if their states share a border, we get a graph. Coloring regions

    on the map corresponds to coloring the vertices of the graph. Since

      neighboring regions cannot be colored the same, our graph cannot have

  vertices colored the same when those vertices are adjacent.  268 4. Graph Theory


          In general, given any graphG, a coloring of the vertices is called (not

      surprisingly) avertex coloring. If the vertex coloring has the property

      that adjacent vertices are colored di erently, then the coloring is called

      proper. Every graph has a proper vertex coloring. For example, you could

      color every vertex with a di erent color. But often you can do better. The

      smallest number of colors needed to get a proper vertex coloring is called

      the chromatic number of the graph, written  G .

    Example 4.4.1

          Find the chromatic number of the graphs below.





        Solution. The graph on the left isK6. The only way to properly

          color the graph is to give every vertex a di erent color (since every

          vertex is adjacent to every other vertex). Thus the chromatic number

    is 6.

            The middle graph can be properly colored with just 3 colors

        (Red, Blue, and Green). For example:

                                  B


                                      RG


                            RBG

            There is no way to color it with just two colors, since there are

          three vertices mutually adjacent (i.e., a triangle). Thus the chromatic

    number is 3.

            The graph on the right is justK2;. As with all bipartite graphs,
                                      3
        this graph has chromatic number 2: color the vertices on the top

          row red and the vertices on the bottom row blue.


          It appears that there is no limit to how large chromatic numbers can

          get. It should not come as a surprise thatKnhas chromatic numbern.

      So how could there possibly be an answer to the original map coloring

      question? If the chromatic number of graph can be arbitrarily large, then it

      seems like there would be no upper bound to the number of colors needed

  for any map. But there is.

        The key observation is that while it is true that for any numbern,

      there is a graph with chromatic numbern, only some graphs arrive as                                                      4.4. Coloring269


    representations of maps. If you convert a map to a graph, the edges

      between vertices correspond to borders between the countries. So you

      should be able to connect vertices in such a way where the edges do not

    cross. In other words, the graphs representing maps are all planar!

          So the question is, what is the largest chromatic number of any planar

    graph? The answer is the best known theorem of graph theory:

      Theorem 4.4.2 The Four Color Theorem.IfGis a planar graph, then the

      chromatic number ofGis less than or equal to 4. Thus any map can be properly

colored with 4 or fewer colors.

          We will not prove this theorem. Really. Even though the theorem is

      easy to state and understand, the proof is not. In fact, there is currently

    no “easy” known proof of the theorem. The current best proof still

      requires powerful computers to check anunavoidable setof 633reducible

    con gurations. The idea is that every graph must contain one of these

        reducible con gurations (this fact also needs to be checked by a computer)

      and that reducible con gurations can, in fact, be colored in 4 or fewer

colors.


                      Coloring in General

    Investigate!

          The math department plans to o er 10 classes next semester. Some

        classes cannot run at the same time (perhaps they are taught by

      the same professor, or are required for seniors).
                        Class:Con icts with:

                        AD I

                        BD I J

                        CE F I

                        DA B F

                        EC H I

                        FC D I

                        GJ

                        HE I J

                        IA B C E F H

                        JB G H

              How many di erent time slots are needed to teach these classes

          (and which should be taught at the same time)? More importantly,

      how could we use graph coloring to answer this question?

        !Attempt the above activity before proceeding!  270 4. Graph Theory


          Cartography is certainly not the only application of graph coloring.

      There are plenty of situations in which you might wish to partition the

          objects in question so that related objects are not in the same set. For

      example, you might wish to store chemicals safely. To avoid explosions,

      certain pairs of chemicals should not be stored in the same room. By color-

        ing a graph (with vertices representing chemicals and edges representing

        potential negative interactions), you can determine the smallest number of

    rooms needed to store the chemicals.

      Here is a further example:

    Example 4.4.3

          Radio stations broadcast their signal at certain frequencies. How-

        ever, there are a limited number of frequencies to choose from,

          so nationwide many stations use the same frequency. This works

          because the stations are far enough apart that their signals will not

            interfere; no one radio could pick them up at the same time.

            Suppose 10 new radio stations are to be set up in a currently

          unpopulated (by radio stations) region. The radio stations that are

          close enough to each other to cause interference are recorded in the

          table below. What is the fewest number of frequencies the stations

    could use.

                KQEAKQEBKQECKQEDKQEEKQEFKQEGKQEHKQEIKQEJ

    KQEAxxxx

    KQEBxx

      KQECxxxx

    KQEDxxxx

    KQEExx

      KQEFxxxxx

      KQEGxxxx

      KQEHxx

      KQEIxxx

      KQEJxxxxx

        Solution. Represent the problem as a graph with vertices as the

        stations and edges when two stations are close enough to cause

          interference. We are looking for the chromatic number of the graph.

          Vertices that are colored identically represent stations that can have

    the same frequency.

            This graph has chromatic number 5. A proper 5-coloring is

        shown on the right. Notice that the graph contains a copy of the

          complete graph K5so no fewer than 5 colors can be used.                                                      4.4. Coloring271


                KQEAR
                      KQEBKQEJGP

                            KQECKQEIBB

                            KQEDKQEHBR

          KQEGY
                      KQEEG
                KQEFG


          In the example above, the chromatic number was 5, but this is not a

      counterexample to the Four Color Theorem 4.4.2, since the graph repre-

    senting the radio stations is not planar. It would be nice to have some

      quick way to  nd the chromatic number of a (possibly non-planar) graph.

      It turns out nobody knows whether an e cient algorithm for computing

chromatic numbers exists.

            While we might not be able to  nd the exact chromatic number of graph

      easily, we can often give a reasonable range for the chromatic number. In

      other words, we can give upper and lower bounds for chromatic number.

          This is actually not very di cult: for every graphG, the chromatic

  number of G is at least 1 and at most the number of vertices of G.

          What? You wantbetterbounds on the chromatic number? Well you

are in luck.

            Acliquein a graph is a set of vertices all of which are pairwise adjacent.

      In other words, a clique of sizenis just a copy of the complete graphKn.

      We de ne theclique numberof a graph to be the largestnfor which the

      graph contains a clique of sizen. Any clique of sizencannot be colored

      with fewer than n colors, so we have a nice lower bound:

      Theorem 4.4.4The chromatic number of a graphGis at least the clique number

of G.

          There are times when the chromatic number ofGisequalto the clique

      number. These graphs have a special name; they are calledperfect. If you

      know that a graph is perfect, then  nding the chromatic number is simply

      a matter of searching for the largest clique.9However, not all graphs are

perfect.

          For an upper bound, we can improve on “the number of vertices” by

    looking to the degrees of vertices. Let Gbe the largest degree of any

      vertex in the graphG. One reasonable guess for an upper bound on the

    chromatic number is G    G +1. Why is this reasonable? Starting

      with any vertex, it together with all of its neighbors can always be colored

      in G+1colors, since at most we are talking about G+1vertices in this

          9There are special classes of graphs which can be proved to be perfect. One such class
    is the set ofchordalgraphs, which have the property that every cycle in the graph contains
            achord—an edge between two vertices in of the cycle which are not adjacent in the cycle.  272 4. Graph Theory


      set. Now fan out! At any point, if you consider an already colored vertex,

      some of its neighbors might be colored, some might not. But no matter

      what, that vertex and its neighbors could all be colored distinctly, since

      there are at most  G neighbors, plus the one vertex being considered.

            In fact, there are examples of graphs for which G    G +1. For

          anyn, the complete graphKnhas chromatic numbern, but Kn   n 1

      (since every vertex is adjacent to everyothervertex). Additionally, anyodd

      cycle will have chromatic number 3, but the degree of every vertex in a

      cycle is 2. It turns out that these are the only two types of examples where

    we get equality, a result known as Brooks’ Theorem.

        Theorem 4.4.5 Brooks’ Theorem.Any graphGsatis es G    G,

        unless G is a complete graph or an odd cycle, in which case  G    G + 1.

          The proof of this theorem isjustcomplicated enough that we will

      not present it here (although you are asked to prove a special case in the

      exercises). The adventurous reader is encouraged to  nd a book on graph

    theory for suggestions on how to prove the theorem.


                            Coloring Edges

      The chromatic number of a graph tells us about coloring vertices, but we

      could also ask about coloring edges. Just like with vertex coloring, we

      might insist that edges that are adjacent must be colored di erently. Here,

      we are thinking of two edges as being adjacent if they are incident to the

      same vertex. The least number of colors required to properly color the
                                                              0
        edges of a graph G is called the chromatic index of G, written  G .

    Example 4.4.6

          Six friends decide to spend the afternoon playing chess. Everyone

        will play everyone else once. They have plenty of chess sets but

        nobody wants to play more than one game at a time. Games will

          last an hour (thanks to their handy chess clocks). How many hours

      will the tournament last?

        Solution. Represent each player with a vertex and put an edge

          between two players if they will play each other. In this case, we get

    the graph K6:                                                      4.4. Coloring273


              We must color the edges; each color represents a di erent hour.

        Since di erent edges incident to the same vertex will be colored

          di erently, no player will be playing two di erent games (edges) at

        the same time. Thus we need to know the chromatic index of K6.
                        0
            Notice that for sure K6  5, since there is a vertex of degree 5.

        It turns out 5 colors is enough (go  nd such a coloring). Therefore

    the friends will play for 5 hours.


        Interestingly, if one of the friends in the above example left, the

      remaining 5 chess-letes would still need 5 hours: the chromatic index of

K5is also 5.
                                                              0
          In general, what can we say about chromatic index? Certainly G  

       G. But how much higher could it be? Only a little higher.

      Theorem 4.4.7 Vizing’s Theorem.For any graphG, the chromatic index
0
 G is either  G or  G + 1.

          At  rst this theorem makes it seem like chromatic index might not be

      very interesting. However, deciding which case a graph is in is not always
                      0
    easy. Graphs for which G    Gare calledclass 1, while the others
                                                0
    are calledclass 2. Bipartite graphs always satisfy G    G, so are

      class 1 (this was proved by König in 1916, decades before Vizing proved

      his theorem in 1964). In 1965 Vizing proved that all planar graphs with

     G  8are of class 1, but this does not hold for all planar graphs with

    2   G  5. Vizing conjectured that all planar graphs with G  6or

     G  7are class 1; the G  7case was proved in 2001 by Sanders and

  Zhao; the  G   6 case is still open.


                          Ramsey Theory.

      There is another interesting way we might consider coloring edges, quite

      di erent from what we have discussed so far. What if we colored every

      edge of a graph either red or blue. Can we do so without, say, creating a

      monochromatictriangle (i.e., an all red or all blue triangle)? Certainly for

      some graphs the answer is yes. Try doing so forK4. What aboutK5?K6?

How far can we go?

          The problem above is not too di cult and is a fun exercise. We could

      extend the question in a variety of ways. What if we had three colors?

      What if we were trying to avoid other graphs. Surprisingly, very little is

      known about these questions. For example, we know that you need to go

      up toK17in order to force a monochromatic triangle using three colors,

      but nobody knows how big you need to go with more colors. Similarly,

    we know that using two colorsK18is the smallest graph that forces a

        monochromatic copy ofK4, but the best we have to force a monochromatic  274 4. Graph Theory


      K5is a range, somewhere fromK43toK49. If you are interested in these

        sorts of questions, this area of graph theory is called Ramsey theory. Check

it out.


                              Exercises

      1. What is the smallest number of colors you need to properly color the

              vertices of K4;? That is,  nd the chromatic number of the graph.
                5

      2.Draw a graph with chromatic number 6 (i.e., which requires 6 colors

          to properly color the vertices). Could your graph be planar? Explain.

        3. Find the chromatic number of each of the following graphs.










        4.A group of 10 friends decides to head up to a cabin in the woods

            (where nothing could possibly go wrong). Unfortunately, a number of

          these friends have dated each other in the past, and things are still a

          little awkward. To get to the cabin, they need to divide up into some

          number of cars, and no two people who dated should be in the same

    car.

              (a) What is the smallest number of cars you need if all the relation-

                    ships were strictly heterosexual? Represent an example of such

              a situation with a graph. What kind of graph do you get?

              (b)Because a number of these friends dated there are also con icts

                  between friends of the same gender, listed below. Now what is

                  the smallest number of con ict-free cars they could take to the

          cabin?

                FriendA B C D E F G H I J
                Con ictsCFJ J AEF H CFG ACEGI EFI D AFG B

        5.What is the smallest number of colors that can be used to color

        the vertices of a cube so that no two adjacent vertices are colored

    identically?                                                      4.4. Coloring275

    6.Prove the chromatic number of any tree is two. Recall, a tree is a

    connected graph with no cycles.

          (a) Describe a procedure to color the tree below.







        (b)The chromatic number ofCnis two whennis even. What goes

          wrong when n is odd?

          (c)Prove that your procedure from part (a) always works for any

        tree.

            (d)Now, prove using induction that every tree has chromatic number

        2.

      7.The two problems below can be solved using graph coloring. For each

            problem, represent the situation with a graph, say whether you should

          be coloring vertices or edges and why, and use the coloring to solve

  the problem.

          (a)Your Quidditch league has 5 teams. You will play a tournament

              next week in which every team will play every other team once.

                Each team can play at most one match each day, but there is

              plenty of time in the day for multiple matches. What is the fewest

            number of days over which the tournament can take place?

          (b)Ten members of Math Club are driving to a math conference in a

              neighboring state. However, some of these students have dated

            in the past, and things are still a little awkward. Each student

            lists which other students they refuse to share a car with; these

            con icts are recorded in the table below. What is the fewest

            number of cars the club needs to make the trip? Do not worry

            about running out of seats, just avoid the con icts.


          StudentA B C D E F G H I J
            Con ictsBEJ ADG HJ BF AI DJ B CI EHJ ACFI

      8.Prove the 6-color theorem: every planar graph has chromatic number

          6 or less. Do not assume the 4-color theorem (whose proof is MUCH

            harder), but you may assume the fact that every planar graph contains

    a vertex of degree at most 5.  276 4. Graph Theory

      9.Not all graphs are perfect. Give an example of a graph with chromatic

          number 4 that does not contain a copy ofK4. That is, there should be

        no 4 vertices all pairwise adjacent.

      10.Find the chromatic number of the graph below and prove you are

    correct.








      11.Prove by induction on vertices that any graphGwhich contains at

        least one vertex of degree less than G(the maximal degree of all

          vertices in G) has chromatic number at most  G.

      12.You have a set of magnetic alphabet letters (one of each of the 26 letters

          in the alphabet) that you need to put into boxes. For obvious reasons,

          you don’t want to put two consecutive letters in the same box. What is

          the fewest number of boxes you need (assuming the boxes are able to

      hold as many letters as they need to)?

      13.Suppose you colored edges of a graph either red or blue (not requiring

          that adjacent edges be colored di erently). What must be true of the

          graph to guarantee some vertex is incident to three edges of the same

      color? Prove your answer.

          14.Prove that if you color every edge ofK6either red or blue, you are

          guaranteed a monochromatic triangle (that is, an all red or an all blue

    triangle).                                              4.5. Euler Paths and Circuits277


                4.5 Euler Paths and Circuits


    Investigate!

        AnEuler path, in a graph or multigraph, is a walk through the

        graph which uses every edge exactly once. AnEuler circuitis an

        Euler path which starts and stops at the same vertex. Our goal is

        to  nd a quick way to check whether a graph (or multigraph) has

    an Euler path or circuit.

            1.Which of the graphs below have Euler paths? Which have

        Euler circuits?







            2.List the degrees of each vertex of the graphs above. Is there a

            connection between degrees and the existence of Euler paths

        and circuits?

          3.Is it possible for a graph with a degree 1 vertex to have an

                Euler circuit? If so, draw one. If not, explain why not. What

          about an Euler path?

          4.What if every vertex of the graph has degree 2. Is there an

          Euler path? An Euler circuit? Draw some graphs.

            5.Below ispartof a graph. Even though you can only see some

            of the vertices, can you deduce whether the graph will have

          an Euler path or circuit?






        !Attempt the above activity before proceeding!

          If we start at a vertex and trace along edges to get to other vertices, we

    create awalkthrough the graph. More precisely, awalkin a graph is a

      sequence of vertices such that every vertex in the sequence is adjacent to

      the vertices before and after it in the sequence. If the walk travels along

      every edge exactly once, then the walk is called anEuler path(orEuler

      walk). If, in addition, the starting and ending vertices are the same (so you  278 4. Graph Theory


      trace along every edge exactly once and end up where you started), then

      the walk is called anEuler circuit(orEuler tour). Of course if a graph is

      not connected, there is no hope of  nding such a path or circuit. For the

          rest of this section, assume all the graphs discussed are connected.

          The bridges of Königsberg problem is really a question about the

      existence of Euler paths. There will be a route that crosses every bridge

        exactly once if and only if the graph below has an Euler path:






            This graph is small enough that we could actually check every possible

      walk that does not reuse edges, and in doing so convince ourselves that

      there is no Euler path (let alone an Euler circuit). On small graphs which

      do have an Euler path, it is usually not di cult to  nd one. Our goal is to

       nd a quick way to check whether a graph has an Euler path or circuit,

  even if the graph is quite large.

          One way to guarantee that a graph doesnothave an Euler circuit is to

    include a “spike,” a vertex of degree 1.


                                        a


          The vertexahas degree 1, and if you try to make an Euler circuit, you

          see that you will get stuck at the vertex. It is a dead end. That is, unless

          you start there. But then there is no way to return, so there is no hope

          of  nding an Euler circuit. There is however an Euler path. It starts at

      the vertexa, then loops around the triangle. You will end at the vertex of

degree 3.

            You run into a similar problem whenever you have a vertex of any odd

      degree. If you start at such a vertex, you will not be able to end there (after

      traversing every edge exactly once). After using one edge to leave the

      starting vertex, you will be left with an even number of edges emanating

      from the vertex. Half of these could be used for returning to the vertex,

      the other half for leaving. So you return, then leave. Return, then leave.

      The only way to use up all the edges is to use the last one by leaving the

      vertex. On the other hand, if you have a vertex with odd degree that you

      do not start a path at, then you will eventually get stuck at that vertex. The

      path will use pairs of edges incident to the vertex to arrive and leave again.

      Eventually all but one of these edges will be used up, leaving only an edge

    to arrive by, and none to leave again.                                              4.5. Euler Paths and Circuits279


          What all this says is that if a graph has an Euler path and two vertices

      with odd degree, then the Euler path must start at one of the odd degree

      vertices and end at the other. In such a situation, every other vertexmust

      have an even degree since we need an equal number of edges to get to

      those vertices as to leave them. How could we have an Euler circuit? The

      graph could not have any odd degree vertex as an Euler path would have

      to start there or end there, but not both. Thus for a graph to have an Euler

    circuit, all vertices must have even degree.

            The converse is also true: if all the vertices of a graph have even degree,

      then the graph has an Euler circuit, and if there are exactly two vertices

    with odd degree, the graph has an Euler path. To prove this is a little

      tricky, but the basic idea is that you will never get stuck because there is

      an “outbound” edge for every “inbound” edge at every vertex. If you try

      to make an Euler path and miss some edges, you will always be able to

  “splice in” a circuit using the edges you previously missed.

    Euler Paths and Circuits.

            •A graph has an Euler circuit if and only if the degree of every

        vertex is even.

            •A graph has an Euler path if and only if there are at most two

        vertices with odd degree.


          Since the bridges of Königsberg graph has all four vertices with odd

      degree, there is no Euler path through the graph. Thus there is no way for

    the townspeople to cross every bridge exactly once.


                          Hamilton Paths

      Suppose you wanted to tour Königsberg in such a way that you visit each

    land mass (the two islands and both banks) exactly once. This can be

      done. In graph theory terms, we are asking whether there is a path which

      visits every vertex exactly once. Such a path is called aHamilton path(or

      Hamiltonian path). We could also considerHamilton cycles, which are

      Hamilton paths which start and stop at the same vertex.

Example 4.5.1

        Determine whether the graphs below have a Hamilton path.  280 4. Graph Theory


          Solution. The graph on the left has a Hamilton path (many di erent

      ones, actually), as shown here:






            The graph on the right does not have a Hamilton path. You

        would need to visit each of the “outside” vertices, but as soon as

        you visit one, you get stuck. Note that this graph does not have

        an Euler path, although there are graphs with Euler paths but no

      Hamilton paths.


            It appears that  nding Hamilton paths would be easier because graphs

      often have more edges than vertices, so there are fewer requirements to be

      met. However, nobody knows whether this is true. There is no known

      simple test for whether a graph has a Hamilton path. For small graphs

      this is not a problem, but as the size of the graph grows, it gets harder and

      harder to check wither there is a Hamilton path. In fact, this is an example

          of a question which as far as we know is too di cult for computers to

      solve; it is an example of a problem which is NP-complete.


                              Exercises

      1.You and your friends want to tour the southwest by car. You will visit

          the nine states below, with the following rather odd rule: you must

          cross each border between neighboring states exactly once (so, for

            example, you must cross the Colorado-Utah border exactly once). Can

          you do it? If so, does it matter where you start your road trip? What

        fact about graph theory solves this problem?







      2.Which of the following graphs contain an Euler path? Which contain

      an Euler circuit?

          (a) K4(b) K5. (c) K5;(d) K2;(e) C7(f) P7
                                  77

    3.Edward A. Mouse has just  nished his brand new house. The  oor

      plan is shown below:                                              4.5. Euler Paths and Circuits281








        (a)Edward wants to give a tour of his new pad to a lady-mouse-

            friend. Is it possible for them to walk through every doorway

              exactly once? If so, in which rooms must they begin and end the

        tour? Explain.

        (b)Is it possible to tour the house visiting each room exactly once

          (not necessarily using every doorway)? Explain.

          (c)After a few mouse-years, Edward decides to remodel. He would

              like to add some new doors between the rooms he has. Of

            course, he cannot add any doors to the exterior of the house.

            Is it possible for each room to have an odd number of doors?

        Explain.

    4. For which n does the graph Kncontain an Euler circuit? Explain.

    5.For whichmandndoes the graphKm;contain an Euler path? An
                                        n
    Euler circuit? Explain.

    6.For whichndoesKncontain a Hamilton path? A Hamilton cycle?

  Explain.

    7.For whichmandndoes the graphKm;contain a Hamilton path? A
                                      n
    Hamilton cycle? Explain.

      8.A bridge builder has come to Königsberg and would like to add bridges

        so that itispossible to travel over every bridge exactly once. How

    many bridges must be built?

      9.Below is a graph representing friendships between a group of students

          (each vertex is a student and each edge is a friendship). Is it possible

          for the students to sit around a round table in such a way that every

          student sits between two friends? What does this question have to do

  with paths?  282 4. Graph Theory

          10.On the table rest 8 dominoes, as shown below. If you were to line

          them up in a single row, so that any two sides touching had matching

            numbers, what would the sum of the two end numbers be?






      11.Is there anything we can say about whether a graph has a Hamilton

          path based on the degrees of its vertices?

              (a)Suppose a graph has a Hamilton path. What is the maximum

                  number of vertices of degree one the graph can have? Explain

            why your answer is correct.

                (b)Find a graph which does not have a Hamilton path even though

                  no vertex has degree one. Explain why your example works.

  12. Consider the following graph:








                (a)Find a Hamilton path. Can your path be extended to a Hamilton

          cycle?

            (b)Is the graph bipartite? If so, how many vertices are in each

          “part”?

            (c)Use your answer to part (b) to prove that the graph has no

            Hamilton cycle.

              (d)Suppose you have a bipartite graphGin which one part has at

                least two more vertices than the other. Prove thatGdoes not

            have a Hamilton path.                                          4.6. Matching in Bipartite Graphs283


            4.6 Matching in Bipartite Graphs


    Investigate!

        Given a bipartite graph, amatchingis a subset of the edges for

        which every vertex belongs to exactly one of the edges. Our goal

        in this activity is to discover some criterion for when a bipartite

    graph has a matching.

          Does the graph below contain a matching? If so,  nd one.






            Not all bipartite graphs have matchings. Draw as many fun-

          damentally di erent examples of bipartite graphs which do NOT

        have matchings. Your goal is to  nd all the possible obstructions

        to a graph having a perfect matching. Write down thenecessary

        conditions for a graph to have a matching (that is,  ll in the blank:

        If a graph has a matching, then). Then ask yourself

          whether these conditions are su cient (is it true that if,

    then the graph has a matching?).

        !Attempt the above activity before proceeding!

          We conclude with one more example of a graph theory problem to

  illustrate the variety and vastness of the subject.

          Suppose you have a bipartite graphG. This will consist of two sets of

      verticesAandBwith some edges connecting some vertices ofAto some

      vertices inB(but of course, no edges between two vertices both inAor

      both inB). Amatching of Ais a subset of the edges for which each vertex

      ofAbelongs to exactly one edge of the subset, and no vertex inBbelongs

    to more than one edge in the subset. In practice we will assume that

      jAj   jBj(the two sets have the same number of vertices) so this says that

      every vertex in the graph belongs to exactly one edge in the matching.10

          Some context might make this easier to understand. Think of the

      vertices inAas representing students in a class, and the vertices inBas

      representing presentation topics. We put an edge from a vertexa 2 Ato a

      vertexb 2 Bif studentawould like to present on topicb. Of course, some

      students would want to present on more than one topic, so their vertex

          10Note: what we are calling amatchingis sometimes called aperfect matchingorcomplete
            matching. This is because in it interesting to look at non-perfect matchings as well. We will
  call those partial matchings.  284 4. Graph Theory


      would have degree greater than 1. As the teacher, you want to assign each

      student their own unique topic. Thus you want to  nd a matching ofA:

      you pick some subset of the edges so that each student gets matched up

          with exactly one topic, and no topic gets matched to two students.11

          The question is: when does a bipartite graph contain a matching ofA?

      To begin to answer this question, consider what could prevent the graph

      from containing a matching. This will not necessarily tell us a condition

      when the graph does have a matching, but at least it is a start.

        One wayGcould not have a matching is if there is a vertex inAnot

      adjacent to any vertex inB(so having degree 0). What else? What if two

      students both like the same one topic, and no others? Then after assigning

          that one topic to the  rst student, there is nothing left for the second

          student to like, so it is very much as if the second student has degree 0.

      Or what if three students like only two topics between them. Again, after

      assigning one student a topic, we reduce this down to the previous case of

      two students liking only one topic. We can continue this way with more

  and more students.

          It should be clear at this point that if there is every a group ofnstudents

          who as a group liken 1or fewer topics, then no matching is possible.

      This is true for any value of n, and any group of n students.

            To make this more graph-theoretic, say you have a setS   Aof vertices.

          De neNSto be the set of all theneighborsof vertices inS. That is,NS

          contains all the vertices (inB) which are adjacent to at least one of the

      vertices inS. (In the student/topic graph,NSis the set of topics liked by

      the students of S.) Our discussion above can be summarized as follows:

        Matching Condition.

        If a bipartite graph G   fA; Bg has a matching of A, then

                              jNSj   jSj

    for all S   A.

          Is the converse true? SupposeGsatis es the matching condition

      jNSj   jSjfor allS   A(every set of vertices has at least as many

        neighbors than vertices in the set). Does that mean that there is a matching?

        11The standard example for matchings used to be themarriage problemin whichA
            consisted of the men in the town,Bthe women, and an edge represented a marriage that
            was agreeable to both parties. A matching then represented a way for the town elders to
            marry o  everyone in the town, no polygamy allowed. We have chosen a more progressive
    context for the sake of political correctness.                                          4.6. Matching in Bipartite Graphs285


        Surprisingly, yes. The obvious necessary condition is also su cient.12This

  is a theorem  rst proved by Philip Hall in 1935.13

      Theorem 4.6.1 Hall’s Marriage Theorem.LetGbe a bipartite graph with

  sets A and B. Then G has a matching of A if and only if

                            jNSj   jSj

for all S   A.

            There are quite a few di erent proofs of this theorem – a quick internet

search will get you started.

          In addition to its application to marriage and student presentation

      topics, matchings have applications all over the place. We conclude with

one such example.

Example 4.6.2

        Suppose you deal 52 regular playing cards into 13 piles of 4 cards

        each. Prove that you can always select one card from each pile to

        get one of each of the 13 card values Ace, 2, 3, . . . , 10, Jack, Queen,

  and King.

          Solution. Doing this directly would be di cult, but we can use the

          matching condition to help. Construct a graphGwith 13 vertices

        in the setA, each representing one of the 13 card values, and 13

          vertices in the setB, each representing one of the 13 piles. Draw an

        edge between a vertexa 2 Ato a vertexb 2 Bif a card with valuea

        is in the pileb. Notice that we are just looking for a matching ofA;

        each value needs to be found in the piles exactly once.

              We will have a matching if the matching condition holds. Given

        any set of card values (a setS   A) we must show thatjNSj   jSj.

          That is, the number of piles that contain those values is at least the

        number of di erent values. But what if it wasn’t? SayjSj   k. If

      jNSj < k, then we would have fewer than4kdi erent cards in

          those piles (since each pile contains 4 cards). But there are4kcards

        with thekdi erent values, so at least one of these cards must be in

          another pile, a contradiction. Thus the matching condition holds,

      so there is a matching, as required.


          12This happens often in graph theory. If you can avoid the obvious counterexamples,
  you often get what you want.
          13There is also an in nite version of the theorem which was proved by Marshal Hall, Jr.
    The name is a coincidence though as the two Halls are not related.  286 4. Graph Theory


                              Exercises

          1.Find a matching of the bipartite graphs below or explain why no

    matching exists.




          2.A bipartite graph that doesn’t have a matching might still have a

          partial matching. By this we mean a set ofedgesfor which no vertex

          belongs to more than one edge (but possibly belongs to none). Every

          bipartite graph (with at least one edge) has a partial matching, so we

        can look for the largest partial matching in a graph.

                Your “friend” claims that she has found the largest partial matching

          for the graph below (her matching is in bold). She explains that no

          other edge can be added, because all the edges not used in her partial

            matching are connected to matched vertices. Is she correct?







      3.One way you might check to see whether a partial matching is maximal

        is to construct analternating path. This is a sequence of adjacent

            edges, which alternate between edges in the matching and edges not in

          the matching (no edge can be used more than once). If an alternating

          path starts and stops with an edgenotin the matching, then it is called

      an augmenting path.

                (a)Find the largest possible alternating path for the partial matching

                  of your friend’s graph. Is it an augmenting path? How would

            this help you  nd a larger matching?






          (b)Find the largest possible alternating path for the partial matching

              below. Are there any augmenting paths? Is the partial matching

              the largest one that exists in the graph?                                          4.6. Matching in Bipartite Graphs287







    4.The two richest families in Westeros have decided to enter into an

          alliance by marriage. The  rst family has 10 sons, the second has 10

        girls. The ages of the kids in the two families match up. To avoid

          impropriety, the families insist that each child must marry someone

          either their own age, or someone one position younger or older. In

        fact, the graph representing agreeable marriages looks like this:






              The question: how many di erent acceptable marriage arrange-

        ments which marry o  all 20 children are possible?

          (a)How many marriage arrangements are possible if we insist that

              there are exactly 6 boys marry girls not their own age?

          (b)Could you generalize the previous answer to arrive at the total

          number of marriage arrangements?

        (c)How do you know you are correct? Try counting in a di erent

            way. Look at smaller family sizes and get a sequence.

            (d) Can you give a recurrence relation that  ts the problem?

    5.We say that a set of verticesA   Vis avertex coverif every edge of the

          graph is incident to a vertex in the cover (so a vertex cover covers the

          edges). SinceVitself is a vertex cover, every graph has a vertex cover.

            The interesting question is about  nding aminimalvertex cover, one

      that uses the fewest possible number of vertices.

        (a)Suppose you had a matching of a graph. How can you use that

              to get a minimal vertex cover? Will your method always work?

          (b)Suppose you had a minimal vertex cover for a graph. How can

              you use that to get a partial matching? Will your method always

        work?

          (c)What is the relationship between the size of the minimal vertex

            cover and the size of the maximal partial matching in a graph?  288 4. Graph Theory

      6.For many applications of matchings, it makes sense to use bipartite

          graphs. You might wonder, however, whether there is a way to  nd

      matchings in graphs in general.

            (a) For which n does the complete graph Knhave a matching?

              (b) Prove that if a graph has a matching, thenjVjis even.

              (c)Is the converse true? That is, do all graphs withjVjeven have a

          matching?

            (d)What if we also require the matching condition? Prove or

                  disprove: If a graph with an even number of vertices satis es

                jNSj jSjfor all S   V, then the graph has a matching.                                                  4.7. Chapter Summary289


                    4.7 Chapter Summary

      Hopefully this chapter has given you some sense for the wide variety of

      graph theory topics as well as why these studies are interesting. There are

      many more interesting areas to consider and the list is increasing all the

  time; graph theory is an active area of mathematical research.

        One reason graph theory is such a rich area of study is that it deals

      with such a fundamental concept: any pair of objects can either be related

      or not related. What the objects are and what “related” means varies on

      context, and this leads to many applications of graph theory to science

      and other areas of math. The objects can be countries, and two countries

      can be related if they share a border. The objects could be land masses

      which are related if there is a bridge between them. The objects could be

      websites which are related if there is a link from one to the other. Or we

      can be completely abstract: the objects are vertices which are related if

their is an edge between them.

          What question we ask about the graph depends on the application,

      but often leads to deeper, general and abstract questions worth studying

      in their own right. Here is a short summary of the types of questions we

have considered:

          •Can the graph be drawn in the plane without edges crossing? If so,

            how many regions does this drawing divide the plane into?

          •Is it possible to color the vertices of the graph so that related vertices

          have di erent colors using a small number of colors? How many

    colors are needed?

          •Is it possible to trace over every edge of a graph exactly once without

          lifting up your pencil? What other sorts of “paths” might a graph

    posses?

            •Can you  nd subgraphs with certain properties? For example, when

          does a (bipartite) graph contain a subgraph in which all vertices are

      only related to one other vertex?

          Not surprisingly, these questions are often related to each other. For

      example, the chromatic number of a graph cannot be greater than 4 when

      the graph is planar. Whether the graph has an Euler path depends on how

      many vertices each vertex is adjacent to (and whether those numbers are  290 4. Graph Theory


      always even or not). Even the existence of matchings in bipartite graphs

  can be proved using paths.


                            Chapter Review

      1.Which (if any) of the graphs below are the same? Which are di erent?

    Explain.





      2.Which of the graphs in the previous question contain Euler paths or

          circuits? Which of the graphs are planar?

      3. Draw a graph which has an Euler circuit but is not planar.

      4.Draw a graph which does not have an Euler path and is also not planar.

      5.Consider the graphG   V;EwithV   fa; b; c; d; e; f; ggandE  

              fab; ac; a f; b g; cd; ceg(here we are using the shorthand for edges:ab

      really means fa; bg, for example).

              (a)Is the graphGisomorphic toG0  V0;E0withV0  ft; u; v; w; x; y; zg

                andE0  ftz; uv; u y; uz; vw; vxg? If so, give the isomoprhism.

            If not, explain how you know.

            (b)Find a graphG00with 7 vertices and 6 edges which is NOT

                isomorphic to G, or explain why this is not possible.

              (c)Write down thedegree sequenceforG. That is, write down the

            degrees of all the vertices, in decreasing order.

              (d)Find a connected graphG000with the same degree sequence of

                Gwhich is NOT isomorphic toG, or explain why this is not

          possible.

            (e)What kind of graph isG? IsGcomplete? Bipartite? A tree? A

            cycle? A path? A wheel?

        (f) Is G planar?

          (g) What is the chromatic number of G? Explain.

          (h) Does G have an Euler path or circuit? Explain.

      6.If a graph has 10 vertices and 10 edges and contains an Euler circuit,

            must it be planar? How many faces would it have?

        7. Suppose G is a graph with n vertices, each having degree 5.

          (a) For which values of n does this make sense?                                                  4.7. Chapter Summary291

            (b) For which values of n does the graph have an Euler path?

            (c)What is the smallest value ofnfor which the graph might be

          planar? (tricky)

      8.At a school dance, 6 girls and 4 boys take turns dancing (as couples)

  with each other.

          (a)How many couples danced if every girl dances with every boy?

          (b)How many couples danced if everyone danced with everyone

          else (regardless of gender)?

          (c) Explain what graphs can be used to represent these situations.

    9.Among a group ofnpeople, is it possible for everyone to be friends

          with an odd number of people in the group? If so, what can you say

  about n?

        10.Your friend has challenged you to create a convex polyhedron contain-

      ing 9 triangles and 6 pentagons.

          (a)Is it possible to build such a polyhedron usingonlythese shapes?

        Explain.

          (b)You decide to also include one heptagon (seven-sided polygon).

              How many vertices does your new convex polyhedron contain?

        (c)Assuming you are successful in building your new 16-faced

                polyhedron, could every vertex be the joining of the same number

                of faces? Could each vertex join either 3 or 4 faces? If so, how

            many of each type of vertex would there be?

      11.Is there a convex polyhedron which requires 5 colors to properly color

      the vertices of the polyhedron? Explain.

    12.How many edges does the graphKn;have? For which values ofn
                                      n
          does the graph contain an Euler circuit? For which values ofnis the

    graph planar?

    13.The graphGhas 6 vertices with degrees1;2;2;3;3;5. How many

          edges doesGhave? IfGwas planar how many faces would it have?

    Does G have an Euler path?

    14.What is the smallest number of colors you need to properly color

          the vertices ofK7. Can you say whetherK7is planar based on your

  answer?

      15. What is the smallest number of colors you need to properly color the

        vertices ofK3;? Can you say whetherK3;is planar based on your
                44
  answer?  292 4. Graph Theory

      16.Prove thatK3;is not planar. Do this using Euler’s formula, not just by
                4
          appealing to the fact that K3;is not planar.
                                3

      17.A dodecahedron is a regular convex polyhedron made up of 12 regular

      pentagons.

                (a)Suppose you color each pentagon with one of three colors. Prove

                  that there must be two adjacent pentagons colored identically.

        (b) What if you use four colors?

              (c)What if instead of a dodecahedron you colored the faces of a

          cube?

      18.Decide whether the following statements are true or false. Prove your

    answers.

              (a)If two graphG1andG2have the same chromatic number, then

            they are isomorphic.

            (b)If two graphsG1andG2have the same number of vertices

                  and edges and have the same chromatic number, then they are

          isomorphic.

                (c)If two graphs are isomorphic, then they have the same chromatic

          number.

    19.If a planar graphGwith7vertices divides the plane into 8 regions,

        how many edges must G have?

  20. Consider the graph below:





          (a) Does the graph have an Euler path or circuit? Explain.

        (b) Is the graph planar? Explain.

            (c) Is the graph bipartite? Complete? Complete bipartite?

          (d) What is the chromatic number of the graph.

      21.For each part below, say whether the statement is true or false. Explain

          why the true statements are true, and give counterexamples for the

      false statements.

        (a) Every bipartite graph is planar.

            (b) Every bipartite graph has chromatic number 2.

          (c) Every bipartite graph has an Euler path.                                                  4.7. Chapter Summary293

        (d) Every vertex of a bipartite graph has even degree.

            (e)A graph is bipartite if and only if the sum of the degrees of all

          the vertices is even.

      22.Consider the statement “If a graph is planar, then it has an Euler path.”

        (a) Write the converse of the statement.

        (b) Write the contrapositive of the statement.

        (c) Write the negation of the statement.

        (d)Is it possible for the contrapositive to be false? If it was, what

          would that tell you?

            (e) Is the original statement true or false? Prove your answer.

          (f)Is the converse of the statement true or false? Prove your answer.

      23.LetGbe a connected graph withvvertices andeedges. Use mathe-

            matical induction to prove that ifGcontains exactly one cycle (among

      other edges and vertices), then v   e.

              Note: this is asking you to prove a special case of Euler’s formula

      for planar graphs, so do not use that formula in your proof.  294 4. Graph Theory                            Chapter 5


                  Additional Topics



                  5.1 Generating Functions

    There is an extremely powerful tool in discrete mathematics used to

      manipulate sequences called the generating function. The idea is this:

    instead of an in nite sequence (for example:2;3;5;8;12; : : :) we look at

      a single function which encodes the sequence. But not a function which

      gives thenth term as output. Instead, a function whose power series (like

      from calculus) “displays” the terms of the sequence. So for example, we

      would look at the power series2+3x+5x2+8x3+12x4+     which displays

  the sequence 2;3;5;8;12; : : : as coe cients.

          An in nite power series is simply an in nite sum of terms of the form

      cnxnwerecnis some constant. So we might write a power series like this:

                              1

                                    k
                                ckx.
                            k 0

or expanded like this

                          2345
                               c3x+ c4x+ c5x+      .
              c0+ c1x + c2x+

          When viewed in the context of generating functions, we call such

      a power series agenerating series. The generating series generates the

sequence

                        c0; c1; c2; c3; c4; c5; : : :.

            In other words, the sequence generated by a generating series is simply

    the sequence of coe cients of the in nite polynomial.

Example 5.1.1

          What sequence is represented by the generating series3+8x2+x3+
  x56
       100x+      ?
  7+

          Solution. We just read o  the coe cients of eachxnterm. Soa0 3

        since the coe cient ofx0is 3 (x0 1so this is the constant term).

        What isa1? It is NOT 8, since 8 is the coe cient ofx2, so 8 is the term

        a2of the sequence. To  nda1we need to look for the coe cient of

        x1which in this case is 0. Soa1 0. Continuing, we havea2 8,




                                295    296 5. Additional Topics


                          1
        a3  1, a4  0, and a5 . So we have the sequence
                          7

                                    1
                          3;0;8;1;0;;100; : : :.
                                    7

              Note that when discussing generating functions, we always start

      our sequence with a0.


          Now you might very naturally ask why we would do such a thing.

          One reason is that encoding a sequence with a power series helps us

          keep track of which term is which in the sequence. For example, if we

          write the sequence1;3;4;6;9; : : : ;24;41; : : :it is impossible to determine

      which term24is (even if we agreed that the  rst term was supposed to be

      a0). However, if we wrote the generating series instead, we would have

        1+3x +4x2+6x3+9x4+       +24x17+41x18+      . Now it is clear that

          24 is the 17th term of the sequence (that is,a17 24). Of course to get

      this bene t we could have displayed our sequence in any number of ways,

      perhaps13469      2441     , but we do not do this. The
            012341718
      reason is that the generating series looks like an ordinary power series

        (although we are interpreting it di erently) so we can do things with it that

      we ordinarily do with power series such as write down what it converges

to.
                                                                  x2
          For example, from calculus we know that the power series1+ x ++
                                                                  2
x3x4xnxx
                       ++      converges to the functione. So we can useeas a
  6+24+n!
      way of talking about the sequence of coe cients of the power series for

      ex. When we write down a nice compact function which has an in nite

      power series that we view as a generating series, then we call that function

    a generating function. In this example, we would say

              1111
                                                          x
                    ;;; : : : ;; : : : has generating function e.
          1;1;
              2624n!



                      Building Generating Functions

      Theexexample is very speci c. We have a rather odd sequence, and the

      only reason we know its generating function is because we happen to

          know the Taylor series forex. Our goal now is to gather some tools to

        build the generating function of a particular given sequence.

        Let’s see what the generating functions are for some very simple

          sequences. The simplest of all: 1, 1, 1, 1, 1, . . . . What does thegenerating

          serieslook like? It is simply1+ x + x2+ x3+ x4+      . Now, can we  nd a

      closed formula for this power series? Yes! This particular series is really

      just a geometric series with common ratiox. So if we use our “multiply,                                                5.1. Generating Functions297


      shift and subtract” technique from Section 2.2, we have

                                    23
                        S   1 + x + x+ x+      
                                  234
                              x + x+ x+ x+      
                      xS 

                  1 xS   1

    Therefore we see that

                            231
                      1 + x + x+ x       .
                                        1 x

            You might remember from calculus that this is only true on the interval

      of convergence for the power series, in this case whenjxj <1. That is true

      for us, but we don’t care. We are never going to plug anything in forx, so

      as long as there is some value of x for which the generating function and

      generating series agree, we are happy. And in this case we are happy.

  1;1;1; : : :.

                                                1
    The generating function for 1;1;1;1;1;1; : : : is
                                              1 x

            Let’s use this basic generating function to  nd generating functions for

  more sequences. What if we replace x by x. We get

      1
                    23
                1 x + x x+       which generates 1;1;1;1; : : :.
    1 + x

    If we replace x by 3x we get

    1
                      23
                1 + 3x + 9x+ 27x+       which generates 1;3;9;27; : : :.
  1 3x

                      1
          By replacing thexinwe can get generating functions for a variety
                      1x
      of sequences, but not all. For example, you cannot plug in anything for x

      to get the generating function for2;2;2;2; : : :. However, we are not lost yet.

      Notice that each term of2;2;2;2; : : :is the result of multiplying the terms

      of1;1;1;1; : : :by the constant 2. So multiply the generating function by 2

as well.

      2
                      23
              2 + 2x + 2x+ 2x+       which generates 2;2;2;2; : : :.
    1 x

            Similarly, to  nd the generating function for the sequence3;9;27;81; : : :,

    we note that this sequence is the result of multiplying each term of

    1;3;9;27; : : :by 3. Since we have the generating function for1;3;9;27; : : :

we can say

3
                      23
            3 1+3 3x+3 9x+3 27x+      which generates 3;9;27;81; : : :.
1 3x    298 5. Additional Topics


          What about the sequence2;4;10;28;82; : : :? Here the terms are always

      1 more than powers of 3. That is, we have added the sequences1;1;1;1; : : :

      and1;3;9;27; : : :term by term. Therefore we can get a generating function

      by adding the respective generating functions:

            2323
        2 + 4x + 10x+ 28x+         1 + 1 + 1 + 3x + 1 + 9x+ 1 + 27x+      
                                    2323
                              1 + x + x+ x+       + 1 + 3x + 9x+ 27x+      

                              11
                           +
                            1 x1 3x

          The fun does not stop there: if we replacexin our original generating

  function by x2we get

        1
                  246
                  1 + x+ x+ x      which generates 1;0;1;0;1;0; : : :.
      1 x2

          How could we get0;1;0;1;0;1; : : :? Start with the previous sequence

      andshiftit over by 1. But how do you do this? To see how shifting works,

      let’s  rst try to get the generating function for the sequence0;1;3;9;27; : : :.
                123
        We know that 1+3x +9x+27x+     . To get the zero out front, we
              13x
      need the generating series to look likex +3x2+9x3+27x4+      (so there

      is no constant term). Multiplying byxhas this e ect. So the generating
                              x
          function for0;1;3;9;27; : : :is. This will also work to get the generating
                            13x
  function for 0;1;0;1;0;1; : : ::

        x
                    35
                    x + x+ x+       which generates 0;1;0;1;0;1: : :.
      1 x2

            What if we add the sequences1;0;1;0;1;0; : : :and0;1;0;1;0;1; : : :

          term by term? We should get1;1;1;1;1;1: : :. What happens when we

      add the generating functions? It works (try it)!

                          1x1
                                              .
                              + 
                        1 x21 x21 x

                                                                  1
        Here’s a sneaky one: what happens if you take thederivativeof?
                                                                  1x
          1
        We get. On the other hand, if we di erentiate term by term in the
            2
        1x
          power series, we get1+x +x2+x3+      0 1+2x +3x2+4x3+     which

      is the generating series for 1;2;3;4; : : :. This says

    1;2;3; : : :.

                                                1
      The generating function for 1;2;3;4;5; : : : is.
                                              1 x2

                                223
        Take a second derivative: 2+6x +12x+20x+      . So
                                  3
                                1x
  123
                1+3x +6x+10x+is a generating function for the triangular
             
1x3                                                5.1. Generating Functions299


  numbers,1;3;6;10: : :(although here we havea0 1whileT0 0

usually).


                          Differencing

                                                  1
      We have seen how to  nd generating functions fromusing multipli-
                                                  1x
      cation (by a constant or byx), substitution, addition, and di erentiation.

      To use each of these, you must notice a way to transform the sequence

    1;1;1;1;1: : :into your desired sequence. This is not always easy. It is

      also not really the way we have analyzed sequences. One thing we have

        considered often is the sequence of di erences between terms of a sequence.

      This will turn out to be helpful in  nding generating functions as well.

      The sequence of di erences is often simpler than the original sequence.

      So if we know a generating function for the di erences, we would like to

    use this to  nd a generating function for the original sequence.

        For example, consider the sequence2;4;10;28;82; : : :. How could

      we move to the sequence of  rst di erences:2;6;18;54; : : :? We want to

    subtract 2 from the 4, 4 from the 10, 10 from the 28, and so on. So if we

    subtract (term by term) the sequence0;2;4;10;28; : : :from2;4;10;28: : :,

    we will be set. We can get the generating function for0;2;4;10;28; : : :

      from the generating function for2;4;10;28: : :by multiplying byx. UseA

  to represent the generating function for 2;4;10;28;82; : : : Then:

                                234
                    A   2 + 4x + 10x+ 28x+ 82x+      
                                2345
                  xA  0 + 2x + 4x+ 10x+ 28x+ 82x+      
                              234
                                   18x+ 54x+      
            1 xA   2 + 2x + 6x+

        While we don’t get exactly the sequence of di erences, we do get

      something close. In this particular case, we already know the generating

      functionA(we found it in the previous section) but most of the time we

      will use this di erencing technique to ndA: if we have the generating

    function for the sequence of di erences, we can then solve for A.

Example 5.1.2

      Find a generating function for 1;3;5;7;9; : : :.

          Solution. Notice that the sequence of di erences is constant. We

          know how to  nd the generating function for any constant sequence.

        So denote the generating function for1;3;5;7;9; : : :byA. We have    300 5. Additional Topics




                                  234
                      A   1 + 3x + 5x+ 7x+ 9x+      
                                  2345
                      xA  0 + x + 3x+ 5x+ 7x+ 9x+      
                                  234
                  1 xA   1 + 2x + 2x+ 2x+ 2x+      

                                                2x
            We know that 2x + 2x2+ 2x3+ 2x4+        . Thus
                                                1 x

                                        2x
                          1 xA   1 +.
                                        1 x

        Now solve for A:

                                               x
                          12x1 +
                                         .
                    A  +
                        1 x1 x21 x2

          Does this makes sense? Before we simpli ed the two frac-

        tions into one, we were adding the generating function for the

        sequence1;1;1;1; : : :to the generating function for the sequence
                                  1
          0;2;4;6;8;10; : : :(remembergenerates1;2;3;4;5; : : :, multi-
                                    2
                                1x
        plying by2xshifts it over, putting the zero out front, and doubles

          each term). If we add these term by term, we get the correct sequence

    1;3;5;7;9; : : :.


          Now that we have a generating function for the odd numbers, we can

      use that to  nd the generating function for the squares:

    Example 5.1.3

        Find the generating function for1;4;9;16; : : :. Note we take1  a0.

          Solution. Again we call the generating function for the sequenceA.

    Using di erencing:

                                      23
                          A   1 + 4x + 9x+ 16x+      
                                    234
                      xA  0 + x + 4x+ 9x+ 16x+      
                                      23
                  1 xA   1 + 3x + 5x+ 7x+      

                                        1 + x1 + x
            Since 1 + 3x + 5x2+ 7x3+        we have A  .
                                      1 x21 x3


        In each of the examples above, we found the di erence between

      consecutive terms which gave us a sequence of di erences for which we

      knew a generating function. We can generalize this to more complicated                                                5.1. Generating Functions301


      relationships between terms of the sequence. For example, if we know

    that the sequence satis es the recurrence relationan 3an12an2? In

      other words, if we take a term of the sequence and subtract 3 times the

      previous term and then add 2 times the term before that, we get 0 (since

    an3an1+2an2 0). That will hold for all but the  rst two terms of

      the sequence. So after the  rst two terms, the sequence of results of these

      calculations would be a sequence of 0’s, for which we de nitely know a

generating function.

Example 5.1.4

        The sequence1;3;7;15;31;63; : : :satis es the recurrence relation

        an  3an1 2an2. Find the generating function for the sequence.

          Solution. Call the generating function for the sequenceA. We have

                              234n
                                     15x+ 31x+       + anx+      
                A   1 + 3x + 7x+
                              234n
                3xA   0 3x 9x 21x 45x       3an1x      
            2234n
        + 2xA 
                         0 + 0x + 2x+ 6x+ 14x+       + 2an2x+      

            2
    1 3x + 2xA   1

            We multipliedAby3xwhich shifts every term over one spot

        and multiplies them by3. On the third line, we multipliedAby

          2x2, which shifted every term over two spots and multiplied them

          by 2. When we add up the corresponding terms, we are taking each

          term, subtracting 3 times the previous term, and adding 2 times the

        term before that. This will happen for each term aftera1because

      an3an1+2an2 0. In general, we might have two terms from

        the beginning of the generating series, although in this case the

      second term happens to be 0 as well.

        Now we just need to solve for A:

                                  1
                        A  
                                        .
                              1 3x + 2x2


                    Multiplication and Partial Sums

      What happens to the sequences when you multiply two generating func-

    tions? Let’s see:A   a0+ a1x + a2x2+     andB   b0+ b1x + b2x2+     . To

      multiplyAandB, we need to do a lot of distributing (in nite FOIL?) but

      keep in mind we will group like terms and only need to write down the

       rst few terms to see the pattern. The constant term isa0b0. The coe cient

  of x is a0b1+ a1b0. And so on. We get:

                                        23
        AB   a0b0+a0b1+a1b0x+a0b2+a1b1+a2b0x+a0b3+a1b2+a2b1+a3b0x+     .    302 5. Additional Topics


    Example 5.1.5

        “Multiply” the sequence1;2;3;4; : : :by the sequence1;2;4;8;16; : : :.

        Solution. The new constant term is just1 1. The next term will be

          1 2+2 1 4. The next term:1 4+2 2+3 1 11. One more:

          1   8 + 2   4 + 3   2 + 4   1   26. The resulting sequence is

                            1;4;11;26;57; : : :.

                                                        1
            Since the generating function for1;2;3;4; : : :isand the
                                                          2
                                                      1x
                                              1
          generating function for1;2;4;8;16; : : :is, we have that the
                                            12x
                                                  1
      generating function for 1;4;11;26;57; : : : is
                                                2
                                              1x12x


          Consider the special case when you multiply a sequence by1;1;1; : : :.

          For example, multiply1;1;1; : : :by1;2;3;4;5: : :. The  rst term is1 1 1.

          Then1 2+1 1 3. Then1 3+1 2+1 1 6. The next term will be 10. We

      are getting the triangular numbers. More precisely, we get the sequence

          of partial sums of1;2;3;4;5; : : :. In terms of generating functions, we
      11
      take(generating1;1;1;1;1: : :) and multiply it by(generating
                                                        2
      1x1x
                              1
        1;2;3;4;5; : : :) and this give. This should not be a surprise as we
                                3
                            1x
      found the same generating function for the triangular numbers earlier.

          The point is, if you need to  nd a generating function for the sum of

      the  rstnterms of a particular sequence, and you know the generating
                                                  1
          function forthatsequence, you can multiply it by. To go back from
                                                  1x
          the sequence of partial sums to the original sequence, you look at the

      sequence of di erences. When you get the sequence of di erences you
                                                      1
      end up multiplying by1 x, or equivalently, dividing by. Multiplying
                                                      1x
    11
    bygives partial sums, dividing bygives di erences.
    1x1x

          Solving Recurrence Relations with Generating Functions

          We conclude with an example of one of the many reasons studying

      generating functions is helpful. We can use generating functions to solve

  recurrence relations.

    Example 5.1.6

        Solve the recurrence relationan 3an12an2with initial condi-

    tions a0  1 and a1  3.

          Solution. We saw in an example above that this recurrence relation

        gives the sequence1;3;7;15;31;63; : : :which has generating func-
            1
        tion. We did this by calling the generating functionA
        1 3x + 2x2                                                5.1. Generating Functions303


        and then computingA 3xA +2x2Awhich was just 1, since every

  other term canceled out.

              But how does knowing the generating function help us? First,

        break up the generating function into two simpler ones. For this,

          we can use partial fraction decomposition. Start by factoring the

  denominator:

                        11
                               .
                    1 3x + 2x21 x1 2x

            Partial fraction decomposition tells us that we can write this

            faction as the sum of two fractions (we decompose the given fraction):

          1ab
                       +for some constants a and b.
      1 x1 2x1 x1 2x

            To  ndaandbwe add the two decomposed fractions using a

      common denominator. This gives

                                           b1 x
                      1a1 2x +
                               .
                  1 x1 2x1 x1 2x

so

                      1   a1 2x + b1 x.

            This must be true for all values ofx. Ifx  1, then the equation
                                        1
      becomes1  asoa   1. Whenx  we get1  b2sob  2.
                                        2
      This tells us that we can decompose the fraction like this:

                        112
                                 +.
                    1 x1 2x1 x1 2x

              This completes the partial fraction decomposition. Notice that

          these two fractions are generating functions we know. In fact, we

    should be able to expand each of them.

    1
                234
              1xxxx      which generates 1;1;1;1;1; : : :.
  1 x

    2
                  234
                  2+4x+8x+16x+32x+      which generates 2;4;8;16;32; : : :.
  1 2x

            We can give a closed formula for thenth term of each of these
                                                          1
      sequences. The  rst is justan  1. The second isan 2n+. The

          sequence we are interested in is just the sum of these, so the solution

  to the recurrence relation is

                                n+1
                          an  2 1.    304 5. Additional Topics


            We can now add generating functions to our list of methods for solving

  recurrence relations.


                              Exercises

      1.Find the generating function for each of the following sequences by

          relating them back to a sequence with known generating function.

      (a) 4;4;4;4;4; : : :.

        (b) 2;4;6;8;10; : : :.

        (c) 0;0;0;2;4;6;8;10; : : :.

        (d) 1;5;25;125; : : :.

        (e) 1;3;9;27;81; : : :.

        (f) 1;0;5;0;25;0;125;0; : : :.

        (g) 0;1;0;0;2;0;0;3;0;0;4;0;0;5; : : :.

      2. Find the sequence generated by the following generating functions:

          4x
      (a).
          1 x

            1
      (b).
          1 4x
            x
      (c).
          1 + x

            3x
      (d).
          1 + x2

          1 + x + x2
        (e)(Hint: multiplication).
            1 x2

          3.Show how you can get the generating function for the triangular

        numbers in three di erent ways:

                                                            1;1;1;1; : : :
          (a)Take two derivatives of the generating function for1;

        (b) Use di erencing.

          (c) Multiply two known generating functions.

      4.Use di erencing to  nd the generating function for4;5;7;10;14;19;25; : : :.

      5.Find a generating function for the sequence with recurrence relation

        an  3an1 an2with initial terms a0  1 and a1  5.

          6.Use the recurrence relation for the Fibonacci numbers to  nd the

          generating function for the Fibonacci sequence.                                                5.1. Generating Functions305

      7.Use multiplication to  nd the generating function for the sequence

        of partial sums of Fibonacci numbers,S0;S1;S2; : : :whereS0  F0,

      S1  F0+ F1, S2  F0+ F1+ F2, S3  F0+ F1+ F2+ F3and so on.

      8.Find the generating function for the sequence with closed formula

    an  25n + 73n.

      9.Find a closed formula for thenth term of the sequence with generating
            3x1
  function+
                        .
            1 4x1 x

                                                    2x
    10.Finda7for the sequence with generating function .
                                                  1 x21 x x2

                                1
  11.Explain how we know thatis the generating function for
                                1 x2
  1;2;3;4; : : :.

      12.Starting with the generating function for1;2;3;4; : : :,  nd a generating

        function for each of the following sequences.

      (a) 1;0;2;0;3;0;4; : : :.

    (b) 1;2;3;4;5;6; : : :.

      (c) 0;3;6;9;12;15;18; : : :.

        (d)0;3;9;18;30;45;63; : : :. (Hint: relate this sequence to the previ-

        ous one.)

                                                                1
    13.You may assume that1;1;2;3;5;8; : : :has generating function
                                                            1 x x2
          (because it does). Use this fact to  nd the sequence generated by each

    of the following generating functions.

          x2
    (a).
            2
        1xx
          1
    (b).
          24
        1xx
          1
    (c).
              2
        13x9x
            1
    (d).
            2
        1xx1x

    14. Find the generating function for the sequence 1;2;4;8;16; : : :.

    15. Find the generating function for the sequence 1;1;1;2;3;4;5;6; : : :.

        16.SupposeAis the generating function for the sequence3;5;9;15;23;33; : : :.

        (a)Find a generating function (in terms ofA) for the sequence of

          di erences between terms.

        (b)Write the sequence of di erences between terms and  nd a

            generating function for it (without referencing A).    306 5. Additional Topics

            (c)Use your answers to parts (a) and (b) to  nd the generating

              function for the original sequence.                                        5.2. Introduction to Number Theory307


            5.2 Introduction to Number Theory

      We have used the natural numbers to solve problems. This was the right

      set of numbers to work with in discrete mathematics because we always

      dealt with a whole number of things. The natural numbers have been a

      tool. Let’s take a moment now to inspect that tool. What mathematical

    discoveries can we make about the natural numbers themselves?

            This is the main question of number theory: a huge, ancient, complex,

      and above all, beautiful branch of mathematics. Historically, number

      theory was known as the Queen of Mathematics and was very much a

      branch ofpuremathematics, studied for its own sake instead of as a means

        to understanding real world applications. This has changed in recent years

        however, as applications of number theory have been unearthed. Probably

      the most well known example of this is RSA cryptography, one of the

      methods used in encrypt data on the internet. It is number theory that

makes this possible.

            What sorts of questions belong to the realm of number theory? Here is

    a motivating example. Recall in our study of induction, we asked:

          Which amounts of postage can be made exactly using just

      5-cent and 8-cent stamps?

        We were able to prove thatanyamount greater than 27 cents could be made.

      You might wonder what would happen if we changed the denomination

      of the stamps. What if we instead had 4- and 9-cent stamps? Would there

      be some amount after which all amounts would be possible? Well, again,

      we could replace two 4-cent stamps with a 9-cent stamp, or three 9-cent

      stamps with seven 4-cent stamps. In each case we can create one more

      cent of postage. Using this as the inductive case would allow us to prove

  that any amount of postage greater than 23 cents can be made.

            What if we had 2-cent and 4-cent stamps. Here it looks less promising.

    If we take some number of 2-cent stamps and some number of 4-cent

      stamps, what can we say about the total? Could it ever be odd? Doesn’t

look like it.

          Whydoes 5 and 8 work, 4 and 9 work, but 2 and 4 not work? What is it

      about these numbers? If I gave you a pair of numbers, could you tell me

      right away if they would work or not? We will answer these questions,

      and more, after  rst investigating some simpler properties of numbers

themselves.


                            Divisibility

      It is easy to add and multiply natural numbers. If we extend our focus to

      all integers, then subtraction is also easy (we need the negative numbers    308 5. Additional Topics


      so we can subtract any number from any other number, even larger from

      smaller). Division is the  rst operation that presents a challenge. If we

      wanted to extend our set of numbers so any division would be possible

      (maybe excluding division by 0) we would need to look at the rational

      numbers (the set of all numbers which can be written as fractions). This

    would be going too far, so we will refuse this option.

          In fact, it is a good thing that not every number can be divided by other

      numbers. This helps us understand the structure of the natural numbers

          and opens the door to many interesting questions and applications.

          If given numbersaandb, it is possible thata  bgives a whole number.

      In this case, we say thatbdividesa, in symbols, we writeb j a. If this holds,

          thenbis a divisor or factor ofa, andais a multiple ofb. In other words, if

          b j a, thena   bkfor some integerk(this is sayingais some multiple ofb).

        The Divisibility Relation.

          Given integers m and n, we say “m divides n” and write

                                m j n

        providedn   mis an integer. Thus the following assertions mean

    the same thing:

      1. m j n

        2. n   mk for some integer k

        3. m is a factor (or divisor) of n

        4. n is a multiple of m.


          Notice thatm j nis a statement. It is either true or false. On the other

          hand,n   mornmis some number. If we want to claim thatnmis not

      an integer, so m does not divide n, then we can write m - n.

    Example 5.2.1

        Decide whether each of the statements below are true or false.

        1. 4 j 204. 5 j 07. 3 j 12

        2. 20 j 45. 7 j 78. 8 j 12

        3. 0 j 56. 1 j 379. 1642 j 136299


    Solution.                                        5.2. Introduction to Number Theory309


              1.True. 4 “goes into” 20  ve times without remainder. In other

              words,20 4 5, an integer. We could also justify this by

          saying that 20 is a multiple of 4: 20   4   5.

            2.False. While 20 is a multiple of 4, it is false that4is a multiple

      of 20.

        3. False. 5   0 is not even de ned, let alone an integer.

        4.True. In fact,x j0is true for allx. This is because 0 is a

          multiple of every number: 0   x   0.

      5. True. In fact, x j x is true for all x.

        6. True. 1 divides every number (other than 0).

            7.True. Negative numbers work just  ne for the divisibility

            relation. Here12  3 4. It is also true that3j 12and that

        3 j 12.

            8.False. Both 8 and 12 are divisible by 4, but this does not mean

        that 12 is divisible by 8.

      9. False. See below.


          This last example raises a question: how might one decide whether

    m j n? Of course, if you had a trusted calculator, you could ask it for the

    value ofn   m. If it spits out anything other than an integer, you know

      m - n. This seems a little like cheating though: we don’t have division, so

    should we really use division to check divisibility?

            While we don’t really know how to divide, we do know how to multiply.

      We might try multiplyingmby larger and larger numbers until we get

      close ton. How close? Well, we want to be sure that if we multiplymby

the next larger integer, we go over n.

            For example, let’s try this to decide whether1642j136299. Start  nding

multiples of 1642:

        1642   2   3284 1642   3   4926 1642   4   6568     .

          All of these are well less than 136299. I suppose we can jump ahead a

bit:

        1642   50   82100 1642   80   131360 1642   85   139570.

        Ah, so we need to look somewhere between 80 and 85. Try 83:

                          1642   83   136286.

          Is this the best we can do? How far are we from our desired 136299? If

      we subtract, we get136299136286 13. So we know we cannot go up to    310 5. Additional Topics


        84, that will be too much. In other words, we have found that

                          136299   83   1642 + 13.

          Since 13 < 1642, we can now safely say that 1642 - 136299.

            It turns out that the process we went through above can be repeated for

      any pair of numbers. We can always write the numberaas some multiple

      of the numberbplus some remainder. We know this because we know

      aboutdivision with remainderfrom elementary school. This is just a

      way of saying it using multiplication. Due to the procedural nature that

      can be used to  nd the remainder, this fact is usually called thedivision

  algorithm:

      The Division Algorithm.

            Given any two integersaandb, we can always  nd an integerq

    such that

                              a   qb + r

        where r is an integer satisfying 0   r < jbj


        The idea is that we can always take a large enough multiple ofbso

      that the remainderris as small as possible. We do allow the possibility of

  r   0, in which case we have b j a.


                          Remainder Classes

      The division algorithm tells us that there are onlybpossible remainders

          when dividing byb. If we  x this divisor, we can group integers by

          the remainder. Each group is called aremainder class modulo b(or

  sometimes residue class).

    Example 5.2.2

      Describe the remainder classes modulo 5.

          Solution. We want to classify numbers by what their remainder

          would be when divided by5. From the division algorithm, we know

          there will be exactly 5 remainder classes, because there are only 5

      choices for what r could be (0   r < 5).

            First considerr  0. Here we are looking for all the numbers

        divisible by5sincea  5q +0. In other words, the multiples of 5.

      We get the in nite set

                    f: : : ;15;10;5;0;5;10;15;20; : : :g.

          Notice we also include negative integers.                                        5.2. Introduction to Number Theory311


            Next considerr  1. Which integers, when divided by 5, have

          remainder 1? Well, certainly 1, does, as does 6, and 11. Negatives?

        Here we must be careful:6does NOT have remainder 1. We can

      write6  2 5+4or6  1 51, but only one of these is a

        “correct” instance of the division algorithm:r  4since we needr

        to be non-negative. So in fact, to getr  1, we would have4, or9,

      etc. Thus we get the remainder class

                  f: : : ;14;9;4;1;6;11;16;21; : : :g.

            There are three more to go. The remainder classes for2,3, and4

  are, respectively

                    f: : : ;13;8;3;2;7;12;17;22; : : :g

                    f: : : ;12;7;2;3;8;13;18;23; : : :g

                  f: : : ;11;6;1;4;9;14;19;24; : : :g.


            Note that in the example above,everyinteger is in exactly one remainder

      class. The technical way to say this is that the remainder classes modulob

      form apartitionof the integers.1The most important fact about partitions,

      is that it is possible to de ne anequivalence relationfrom a partition: this

      is a relationship between pairs of numbers which acts in all the important

  ways like the “equals” relationship.2

        All fun technical language aside, the idea is really simple. If two

      numbers belong to the same remainder class, then in some way, they are

      the same. That is, they are the sameup to division byb. In the case where

    b  5above, the numbers8and23, while not the same number, are the

      same when it comes to dividing by 5, because both have remainder 3.

          It matters what the divisor is:8and23are the same up to division by

      5, but not up to division by7, since8has remainder of 1 when divided by

7 while 23 has a remainder of 2.

          With all this in mind, let’s introduce some notation. We want to say

    that8and 23 are basically the same, even though they are not equal. It

    would be wrong to say8 23. Instead, we write8 23. But this is not

      always true. It works if we are thinking division by 5, so we need to denote

    that somehow. What we will actually write is this:

                          8   23 mod 5

          1It is possible to develop a mathematical theory of partitions, prove statements about
        all partitions in general and then apply those observations to our case here.
          2Again, there is a mathematical theory of equivalence relations which applies in many
    more instances than the one we look at here.    312 5. Additional Topics


      which is read, “8 is congruent to 23 modulo 5” (or just “mod 5”). Of course

  then we could observe that

                            8 . 23 mod 7.

      Congruence Modulo n.

          We say a is congruent to b modulo n, and write,

                            a   b mod n

        providedaandbhave the same remainder when divided byn. In

          other words, providedaandbbelong to the same remainder class

    modulo n.

            Many books de ne congruence modulonslightly di erently. They say

        thata   b mod nif and only ifn j a b. In other words, two numbers

      are congruent modulon, if their di erence is a multiple ofn. So which

      de nition is correct? Turns out, it doesn’t matter: they are equivalent.

            To see why, consider two numbersaandbwhich are congruent modulo

          n. Then a and b have the same remainder when divided by n. We have

                      a   q1n + r b   q2n + r.

          Here the twor’s really are the same. Consider what we get when we

    take the di erence of a and b:

              a b   q1n + r q2n + r   q1n q2n   q1 q2n.

        So a b is a multiple of n, or equivalently, n j a b.

            On the other hand, if we assume  rst thatn j a b, soa b   kn, then

      consider what happens if we divide each term byn. Dividingabynwill

      leave some remainder, as will dividingbbyn. However, dividingknby

      nwill leave 0 remainder. So the remainders on the left-hand side must

    cancel out. That is, the remainders must be the same.

    Thus we have:

        Congruence and Divisibility.

      For any integers a, b, and n, we have

              a   b mod nif and only ifn j a b.


          It will also be useful to switch back and forth between congruences

      and regular equations. The above fact helps with this. We know thata   b

      mod nif and only ifn j a b, if and only ifa b   knfor some integer

      k. Rearranging that equation, we geta   b + kn. In other words, ifaandb                                        5.2. Introduction to Number Theory313


      are congruent modulon, thenaisbmore than some multiple ofn. This

      conforms with our earlier observation that all the numbers in a particular

    remainder class are the same amount larger than the multiples of n.

      Congruence and Equality.

      For any integers a, b, and n, we have

      a   b mod nif and only ifa   b+kn for some integer k.



                      Properties of Congruence

      We said earlier that congruence modulonbehaves, in many important

    ways, the same way equality does. Speci cally, we could prove that

      congruence modulonis anequivalence relation, which would require

  checking the following three facts:

        Congruence Modulo n is an Equivalence Relation.

      Given any integersa,b, andc, and any positive integern, the

  following hold:

    1. a   a mod n.

      2. If a   b mod n then b   a mod n.

        3. If a   b mod n and b   c mod n, then a   c mod n.

              In other words, congruence modulonis re exive, symmetric,

    and transitive, so is an equivalence relation.


            You should take a minute to convince yourself that each of the properties

      above actually hold of congruence. Try explaining each using both the

  remainder and divisibility de nitions.

            Next, consider how congruence behaves when doing basic arithmetic.

      We already know that if you subtract two congruent numbers, the result

    will be congruent to 0 (be a multiple ofn). What if we add something

    congruent to 1 to something congruent to 2? Will we get something

congruent to 3?

      Congruence and Arithmetic.

          Supposea   b mod nandc   d mod n. Then the following

  hold:

      1. a + c   b + d mod n.

    2. a c   b d mod n.    314 5. Additional Topics



        3. ac   bd mod n.

            The above facts might be written a little strangely, but the idea is simple.

      If we have a true congruence, and we add the same thing to both sides,

          the result is still a true congruence. This sounds like we are saying:

          If a   b mod n then a + c   b + c mod n.

          Of course this is true as well, it is the special case wherec   d. But what

        we have works in more generality. Think of congruence as being “basically

      equal.” If we have two numbers which are basically equal, and we add

      basically the same thing to both sides, the result will be basically equal.

        This seems reasonable. Is it really true? Let’s prove the  rst fact:

        Proof.Supposea   b mod nandc   d mod n. That meansa   b+kn

    and c   d + jn for integers k and j. Add these equations:

                          a + c   b + d + kn + jn.

        Butkn + jn   k + jn, which is just a multiple ofn. Soa + c  

      b + d + j + kn, or in other words, a + c   b + d mod nqed

        The other two facts can be proved in a similar way.

            One of the important consequences of these facts about congruences, is

      that we can basically replace any number in a congruence with any other

      number it is congruent to. Here are some examples to see how (and why)

  that works:

    Example 5.2.3

        Find the remainder of 3491 divided by 9.

        Solution. We could do long division, but there is another way.

        We want to  ndxsuch thatx  3491mod9. Now3491 

        3000+400+90+1. Of course90 0mod9, so we can replace the

          90 in the sum with 0. Why is this okay? We are actually subtracting

        the “same” thing from both sides:

                        x   3000 + 400 + 90 + 1 mod 9

                       0   90 mod 9

                      x   3000 + 400 + 0 + 1 mod 9:

              Next, note that400 4 100, and100 1mod9(since9j99).

            So we can in fact replace the 400 with simply a 4. Again, we are

        appealing to our claim that we can replace congruent elements,

        but we are really appealing to property 3 about the arithmetic of                                        5.2. Introduction to Number Theory315


        congruence: we know100 1mod9, so if we multiply both sides

  by 4, we get 400   4 mod 9.

            Similarly, we can replace 3000 with 3, since1000 1+999 1

        mod 9. So our original congruence becomes

                      x   3 + 4 + 0 + 1 mod 9

                          x   8 mod 9.

    Therefore 3491 divided by 9 has remainder 8.


      The above example should convince you that the well known divisibility

    test for 9 is true: the sum of the digits of a number is divisible by 9 if

      and only if the original number is divisible by 9. In fact, we now know

      something more: any number is congruent to the sum of its digits, modulo

9.3

  Let’s try another:

Example 5.2.4

      Find the remainder when 3123is divided by 7.

        Solution. Of course, we are working with congruence because

        we want to  nd the smallest positivexsuch thatx  3123mod7.

    Now  rst write 3123  3341. We have:

                      1234141
                    3  27  6mod 7,

        since27 6mod7. Notice further that62 36is congruent to 1

      modulo 7. Thus we can simplify further:

                  4122020
                  6  6   6  6   1mod 7.

      But 120  1, so we are done:

                          123
                        3  6 mod 7.


        In the above example, we are using the fact that ifa   b mod n, then

  ap  bpmod n. This is just applying property 3 a bunch of times.

            So far we have seen how to add, subtract and multiply with congruences.

      What about division? There is a reason we have waited to discuss it. It

      turns out that we cannot simply divide. In other words, even ifad   bd

            3This works for 3 as well, but de nitely not for any modulus in general.    316 5. Additional Topics


        mod n, we do not know that a   b mod n. Consider, for example:

                            18   42 mod 8.

            This is true. Now 18 and 42 are both divisible by 6. However,

                            3 . 7 mod 8.

          While this doesn’t work, note that 3   7 mod 4. We cannot divide 8

      by 6, but we can divide 8 by the greatest common factor of8and6. Will

  this always happen?

            Supposead   bd mod n. In other words, we havead   bd + knfor

          some integerk. Of courseadis divisible byd, as isbd. Soknmust also

      be divisible byd. Now ifnanddhave no common factors (other than 1),

          then we must haved j k. But in general, if we try to divideknbyd, we

      don’t know that we will get an integer multiple ofn. Some of thenmight

      get divided as well. To be safe, let’s divide as much ofnas we can. Take

          the largest factor of bothdandn, and cancel that out fromn. The rest of

    the factors of d will come from k, no problem.

          We will call the largest factor of bothdandnthegcdd; n, forgreatest

          common divisor. In our example above,gcd6;8  2since the greatest

  divisor common to 6 and 8 is 2.

        Congruence and Division.

                                                  n
        Suppose ad   bd mod n. Then a   b mod.
                                                gcdd;n
              Ifdandnhave no common factors thengcdd; n  1, soa   b

    mod n.


    Example 5.2.5

        Simplify the following congruences using division: (a)24 39

      mod 5 and (b) 24   39 mod 15.

        Solution. (a) Both24and39are divisible by3, and3and5have no

      common factors, so we get

                            8   13 mod 5.

              (b) Again, we can divide by 3. However, doing so blindly gives

            us8 13mod15which is no longer true. Instead, we must also

        divide the modulus 15 by the greatest common factor of3and15,

      which is 3. Again we get

                            8   13 mod 5.                                        5.2. Introduction to Number Theory317


                        Solving Congruences

      Now that we have some algebraic rules to govern congruence relations,

      we can attempt to solve for an unknown in a congruence. For example, is

there a value of x that satis es,

                        3x + 2   4 mod 5,

and if so, what is it?

            In this example, since the modulus is small, we could simply try every

      possible value for x. There are really only 5 to consider, since any integer

      that satis ed the congruence could be replaced with any other integer it

      was congruent to modulo 5. Here, whenx  4we get3x +2 14which is

    indeed congruent to 4 modulo 5. This means thatx  9andx  14and

    x  19and so on will each also be a solution because as we saw above,

      replacing any number in a congruence with a congruent number does not

    change the truth of the congruence.

          So in this example, simply compute3x+2for values ofx 2 f0;1;2;3;4g.

      This gives 2, 5, 8, 11, and 14 respectively, for which only 14 is congruent to

4.

          Let’s also see how you could solve this using our rules for the algebra

      of congruences. Such an approach would be much simpler than the trial

      and error tactic if the modulus was larger. First, we know we can subtract

2 from both sides:

                          3x   2 mod 5.

          Then to divide both sides by 3, we  rst add 0 to both sides. Of course,

      on the right-hand side, we want that 0 to be a 10 (yes,10really is 0 since

    they are congruent modulo 5). This gives,

                          3x   12 mod 5.

        Now divide both sides by 3. Sincegcd3;5  1, we do not need to

change the modulus:

                          x   4 mod 5.

          Notice that this in fact gives thegeneral solution: not only canx  4, but

      xcan be any number which is congruent to 4. We can leave it like this, or

  write “x   4 + 5k for any integer k.”

Example 5.2.6

    Solve the following congruences for x.

      1. 7x   12 mod 13.

      2. 84x 38   79 mod 15.    318 5. Additional Topics


        3. 20x   23 mod 14.


    Solution.

            1.All we need to do here is divide both sides by 7. We add 13

                to the right-hand side repeatedly until we get a multiple of 7

                (adding 13 is the same as adding 0, so this is legal). We get25,

            38, 51, 64, 77 – got it. So we have:

                              7x   12 mod 13

                              7x   77 mod 13

                                x   11 mod 13:

              2.Here, since we have numbers larger than the modulus, we can

                reduce them prior to applying any algebra. We have84 9,

            38   8 and 79   4. Thus,

                            84x 38   79 mod 15

                            9x 8   4 mod 15

                                9x   12 mod 15

                                9x   72 mod 15:

              We got the 72 by adding0 60mod15to both sides of the

                congruence. Now divide both sides by 9. However, since

            gcd9;15   3, we must divide the modulus by 3 as well:

                                x   8 mod 5.

                So the solutions are those values which are congruent to 8,

                or equivalently 3, modulo 5. This means that in some sense

              there are 3 solutions modulo 15: 3, 8, and 13. We can write

          the solution:

              x   3 mod 15; x   8 mod 15; x   13 mod 15.


        3. First, reduce modulo 14:

                            20x   23 mod 14

                              6x   9 mod 14.

                We could now divide both sides by 3, or try to increase 9 by a

                multiple of 14 to get a multiple of 6. If we divide by 3, we get,

                              2x   3 mod 14.                                        5.2. Introduction to Number Theory319


              Now try adding multiples of 14 to 3, in hopes of getting a

          number we can divide by 2. This will not work! Every time

            we add 14 to the right side, the result will still be odd. We will

            never get an even number, so we will never be able to divide

            by 2. Thus there are no solutions to the congruence.


          The last congruence above illustrates the way in which congruences

      might not have solutions. We could have seen this immediately in fact.

  Look at the original congruence:

                        20x   23 mod 14.

      If we write this as an equation, we get

                          20x   23 + 14k,

      or equivalently20x 14k  23. We can easily see there will be no solution

      to this equation in integers. The left-hand side will always be even, but the

      right-hand side is odd. A similar problem would occur if the right-hand

  side was divisible by any number the left-hand side was not.

      So in general, given the congruence

                          ax   b mod n,

      ifaandnare divisible by a number whichbis not divisible by, then there

      will be no solutions. In fact, we really only need to check one divisor ofa

      andn: the greatest common divisor. Thus, a more compact way to say

this is:

    Congruences with no solutions.

    If gcda; n - b, then ax   b mod n has no solutions.



                Solving Linear Diophantine Equations

      Discrete math deals with whole numbers of things. So when we want to

      solve equations, we usually are looking forintegersolutions. Equations

        which are intended to only have integer solutions were  rst studied by in the

        third century by the Greek mathematician Diophantus of Alexandria, and

        as such are calledDiophantine equations. Probably the most famous example

    of a Diophantine equation isa2+ b2  c2. The integer solutions to this

        equation are calledPythagorean triples. In general, solving Diophantine

    equations is hard (in fact, there is provably no general algorithm for

        deciding whether a Diophantine equation has a solution, a result known as

        Matiyasevich’s Theorem). We will restrict our focus tolinearDiophantine

      equations, which are considerably easier to work with.    320 5. Additional Topics


      Diophantine Equations.

          An equation in two or more variables is called aDiophantine equa-

          tionif only integers solutions are of interest. AlinearDiophantine

        equation takes the forma1x1+ a2xx+       + anxn  bfor constants

    a1; : : : ; an; b.

              Asolutionto a Diophantine equation is a solution to the equation

      consisting only of integers.


          We have the tools we need to solve linear Diophantine equations. We

      will consider, as a main example, the equation

                            51x + 87y   123.

          The general strategy will be to convert the equation to a congruence,

        then solve that congruence.4Let’s work this particular example to see how

this might go.

          First, check if perhaps there are no solutions because a divisor of51

          and87is not a divisor of123. Really, we just need to check whether

          gcd51;87 j123. This greatest common divisor is 3, and yes3j123. At

      this point, we might as well factor out this greatest common divisor. So

  instead, we will solve:

                            17x + 29y   41.

        Now observe that if there are going to be solutions, then for those

          values ofxandy, the two sides of the equation must have the same

      remainder as each other, no matter what we divide by. In particular, if we

      divide both sides by 17, we must get the same remainder. Thus we can

safely write

                        17x + 29y   41 mod 17.

          We choose 17 because17xwill have remainder 0. This will allow us to

      reduce the congruence to just one variable. We could have also moved to

      a congruence modulo 29, although there is usually a good reason to select

      the smaller choice, as this will allow us to reduce the other coe cient. In

      our case, we reduce the congruence as follows:

                        17x + 29y   41 mod 17

                          0x + 12y   7 mod 17

                            12y   24 mod 17

                                y   2 mod 17:

          4This is certainly not the only way to proceed. A more common technique would be
          to apply theEuclidean algorithm. Our way can be a little faster, and is presented here
  primarily for variety.                                        5.2. Introduction to Number Theory321


          Now at this point we know y   2 + 17k will work for any integer k. If

      we haven’t made a mistake, we should be able to plug this back into our

  original Diophantine equation to  nd x:

                  17x + 292 + 17k   41

                                17x   17 29   17k

                                x   1 29k:

            We have now found all solutions to the Diophantine equation. For each

    k,x   129kandy  2+17kwill satisfy the equation. We could check

    this for a few cases. Ifk  0, the solution is1;2, and yes,17+2 29 41.

  If k   3, the solution is 88;53. If k   2, we get 57;32.

      To summarize this process, to solve ax + b y   c, we,

          1.Divide both sides of the equation bygcda; b(if this does not leave

            the right-hand side as an integer, there are no solutions). Let’s

            assume that ax + b y   c has already been reduced in this way.

        2.Pick the smaller ofaandb(here, assume it isb), and convert to a

      congruence modulo b:

                          ax + b y   c mod b.

        This will reduce to a congruence with one variable, x:

                            ax   c mod b.


          3.Solve the congruence as we did in the previous section. Write your

      solution as an equation, such as,

                              x   n + kb.


          4. Plug this into the original Diophantine equation, and solve for y.

          5.If we want to know solutions in a particular range (for example,

        0  x; y  20), pick di erent values ofkuntil you have all required

    solutions.

    Here is another example:

Example 5.2.7

          How can you make $6.37 using just 5-cent and 8-cent stamps? What

        is the smallest and largest number of stamps you could use?

          Solution. First, we need a Diophantine equation. We will work in

        numbers of cents. Letxbe the number of5-cent stamps, andybe    322 5. Additional Topics


        the number of 8-cent stamps. We have:

                            5x + 8y   637.

            Convert to a congruence and solve:

                            8y   637 mod 5

                          3y   2 mod 5

                          3y   12 mod 5

                            y   4 mod 5:

          Thus y   4 + 5k. Then 5x + 84 + 5k   637, so x   121 8k.

            This says that one way to make $6.37 is to take 121 of the 5-cent

          stamps and 4 of the 8-cent stamps. To  nd the smallest and largest

        number of stamps, try di erent values of k.

                      kx; yStamps


                        -1(129, -1)not possible

                      0(121, 4)125

                      1(113, 9)122

                        2(105, 13)119
                      :::
                      :::
                      :::

            This is no surprise. Having the most stamps means we have as

          many 5-cent stamps as possible, and to get the smallest number of

          stamps would require have the least number of 5-cent stamps. To

        minimize the number of 5-cent stamps, we want to pickkso that

        1218kis as small as possible (but still positive). Whenk  15, we

      have x   1 and y   79.

          Therefore, to make $6.37, you can us as few as 80 stamps (1

          5-cent stamp and 79 8-cent stamps) or as many as 125 stamps (121

      5-cent stamps and 4 8-cent stamps).


          Using this method, as long as you can solve linear congruences in

        one variable, you can solve linear Diophantine equations of two variables.

      There are times though that solving the linear congruence is a lot of work.

      For example, suppose you need to solve,

                            13x   6 mod 51.

          Youcouldkeep adding 51 to the right side until you get a multiple of

      13: You would get 57, 108, 159, 210, 261, 312, and 312 is the  rst of these

      that is divisible by 13. This works, but is really too much work. Instead we                                        5.2. Introduction to Number Theory323


  could convert back to a Diophantine equation:

                            13x   6 + 51k.

          Now solvethislike we have in this section. Write it as a congruence

modulo 13:
                          0   6 + 51k mod 13

                      12k   6 mod 13

                        2k   1 mod 13

                        2k   12 mod 13

                          k   6 mod 13:

    so k   6 + 13j. Now go back and  gure out x:

                        13x   6 + 516 + 13j

                          x   24 + 51j:

          Of course you could do this switching back and forth between con-

      gruences and Diophantine equations as many times as you like. If you

      onlyused this technique, you would essentially replicate the Euclidean

    algorithm, a more standard way to solve Diophantine equations.


                            Exercises

      1. Suppose a, b, and c are integers. Prove that if a j b, then a j bc.

  2.Supposea,b, andcare integers. Prove that ifa j banda j cthen

    a j b + c and a j b c.

    3. Write out the remainder classes for n   4.

    4.What is the largestnsuch that16and25are in the same remainder

          class modulon? Write out the remainder class they both belong to

        and give an example of a number more than 100 in that class.

      5.Leta,b,c, andnbe integers. Prove that ifa   b mod nandc   d

      mod n, then a c   b d mod n.

  6. Find the remainder of 3456when divided by

    (a) 2. (b) 5. (c) 7. (d) 9.

      7. Repeat the previous exercise, this time dividing 22019.

      8.Determine which of the following congruences have solutions, and

           nd any solutions (between 0 and the modulus) by trial and error.

      (a) 4x   5 mod 6.

      (b) 6x   3 mod 9.

    (c) x2  2 mod 4.    324 5. Additional Topics

      9.Determine which of the following congruences have solutions, and

           nd any solutions (between 0 and the modulus) by trial and error.

        (a) 4x   5 mod 7.

      (b) 6x   4 mod 9.

        (c) x2  2 mod 7.

      10.Solve the following congruence5x+8 11mod22. That is, describe

      the general solution.

      11. Solve the congruence: 6x   4 mod 10.

      12. Solve the congruence: 4x   24 mod 30.

    13. Solve the congruence: 341x   2941 mod 9.

      14.I’m thinking of a number. If you multiply my number by 7, add 5, and

          divide the result by 11, you will be left with a remainder of 2. What

          remainder would you get if you divided my original number by 11?

        15.Solve the following linear Diophantine equation, using modular arith-

        metic (describe the general solutions).

                              6x + 10y   32.

        16.Solve the following linear Diophantine equation, using modular arith-

        metic (describe the general solutions).

                              17x + 8y   31.

        17.Solve the following linear Diophantine equation, using modular arith-

        metic (describe the general solutions).

                              35x + 47y   1.

          18.You have a 13 oz. bottle and a 20 oz. bottle, with which you wish to

          measure exactly 2 oz. However, you have a limited supply of water.

          If any water enters either bottle and then gets dumped out, it is gone

          forever. What is the least amount of water you can start with and still

      complete the task?                            Appendix A


                    Selected Hints



                            0.2 Exercises
    0.2.18.Try an example. What ifPxwas the predicate, “xis prime”?

      What if it was “ifxis divisible by 4, then it is even”? Of course examples

      are not enough to prove something in general, but that is entirely the point

of this question.

      0.2.19.First  gure out what each statement is saying. For part (c), you

  don’t need to assume the domain is an in nite set.

                            0.3 Exercises

      0.3.7.You should be able to write all of them out. Don’t forgetAandB,

which are also candidates for C.

      0.3.14.It might help to think about what the unionA2[ A3is  rst. Then

      think about what numbers arenotin that union. What will happen when

you also include A5?

  0.3.17. We are looking for a set containing 16 sets.

  0.3.18. Write these out, or at least start to and look for a pattern.

    0.3.29.It looks like you should be able to de ne the setAlike this. But

  consider the two possible values forjAj.


                            0.4 Exercises
                                                  
                                                  1 2 3
    0.4.20.Work with some examples. What iff  andg  
                                                  a a b
  
a b c
        ?
5 6 7

        0.4.25.To  nd the recurrence relation, consider how manynewhandshakes

  occur when person n + 1 enters the room.

      0.4.29. One of these is not always true. Try some examples!


                            1.1 Exercises

      1.1.9.To  nd out how many numbers are divisible by 6 and 7, for example,

  take 50042 and round down.

      1.1.11.For part (a) you could use the formula for PIE, but for part (b) you

  might be better o  drawing a Venn diagram.


                                325  326 A. Selected Hints

      1.1.13.You could consider cases. For example, any number of the form

        ODD-ODD-EVEN will have an even sum. Alternatively, how many three

      digit numbers have the sum of their digits even if the  rst two digits are

    54? What if the  rst two digits are 19?

          1.1.14.For a simpler example, there are 4 divisors of6 2 3. They are

      1   20  30, 2   21  30, 3   20  31and 6   21  31.


                              1.2 Exercises

        1.2.5. Pennies are sort of like 0’s and nickels are sort of like 1’s.

      1.2.7. Break the question into  ve cases.


                              1.3 Exercises

      1.3.4.Which question should have the larger answer? One of these is a

  combination, the other is a permutation.

    1.3.6.If you pick any three points, you can get a triangle, unless those

      three points are all on thex-axis or on they-axis. There are other ways to

      start this as well, and any correct method should give the same answer.

        1.3.8. We just need a string of 7 letters: 4 of one type, 3 of the other.

      1.3.11.There are 10 people seated around the table, but it does not matter

      where King Arthur sits, only who sits to his left, two seats to his left, and

    so on. So the answer is not 10!.

                              1.4 Exercises

        1.4.3. There will be 185 triangles. But to  nd them . . .

          (a) How many vertices of the triangle can be on the horizontal axis?

        (b) Will any three dots work as the vertices?

  1.4.4. The answer is 120.

  1.4.6. Try Exercise 1.4.5

      1.4.7. What if you wanted a pair of co-maids-of-honor?

      1.4.8.For the combinatorial proof: what if you don’t yet know how many

    bridesmaids you will have?

  1.4.9. Count handshakes.

    1.4.13. This one might remind you of Example 1.4.6

          1.4.14.For the lattice paths, think about what sort of paths2nwould

      count. Not all the paths will end at the same point, but you could describe

    the set of end points as a line.                                                    Selected Hints327


                            1.6 Exercises

    1.6.4.Instead, count the solutions toy1+ y2+ y3+ y4 7with0  yi 3.

Why is this equivalent?

      1.6.13.This is a sneaky way to ask for the number of derangements on 5

elements. Do you see why?


                        1.7 Chapter Review

1.7.16. Stars and bars.

                            2.1 Exercises

      2.1.11.You will want to write out the sequence, guess a closed formula,

and then verify that you are correct.

      2.1.12.Write out the sequence, guess a recursive de nition, and verify

    that the closed formula is a solution to that recursive de nition.

    2.1.15.Try an example: when you draw the 4th line, it will cross three

      other lines, so will be divided into four segments, two of which are in nite.

    Each segment will divide a previous region into two.

    2.1.16.Consider three cases: the last digit is a 0, a 1, or a 2. Two of these

      should be easy to count, but strings ending in 0 cannot be proceeded by a

2, so require a little more work.

      2.1.18. Think recursively, like you did in Pascal’s triangle.

    2.1.19. There is only one way to tile a 2   1 board, and two ways to tile a

      2 2board (you can orient the dominoes in two ways). In general, consider

      the two ways the domino covering the top left corner could be oriented.


                            2.4 Exercises

  2.4.3. Use telescoping or iteration.


                            2.5 Exercises

      2.5.9.It is not possible to score exactly 11 points. Can you prove that you

can score n points for any n   12?

    2.5.11.Start withk +1-gon and divide it up into ak-gon and a triangle.

        2.5.15.For the inductive step, you can assume you have a strictly increasing

    sequence up toakwhereak<100. Now you just need to  nd the next

    term ak+so that ak< ak+< 100. What should ak+be?
      111

    2.5.17.For the inductive case, you will need to show thatk +12+k +1

    is even. Factor this out and locate the part of it that isk2+ k. What have

  you assumed about that quantity?  328 A. Selected Hints

      2.5.18.This is similar to Exercise 2.5.15, although there you were showing

      that a sequence had all its terms less than some value, and here you are

      showing that the sum is less than some value. But the partial sums forms

    a sequence, so this is actually very similar.

      2.5.20.As with the previous question, we will want to subtract something

      fromnin the inductive step. There we subtracted the largest power of 2

      less than n. So what should you subtract here?

          Note, you will still need to take care here that the sum you get from

      the inductive hypothesis, together with the number you subtracted will

      be a sum ofdistinctFibonacci numbers. In fact, you could prove that the

    Fibonacci numbers in the sum are non-consecutive!

      2.5.21.We have already proved this without using induction, but looking

      at it inductively sheds light onto the problem (and is fun).

            The question you need to answer to complete the inductive step is, how

      many new handshakes take place when a personk +1enters the room.

    Why does adding this give you the correct formula?

          2.5.22.You will need to use strong induction. For the inductive case,
                  
                               
                      11
        try multiplyingxk+x +and collect which terms together are
                      xkx
integers.

      2.5.23.Here’s the idea: since every entry in Pascal’s Triangle is the sum

      of the two entries above it, we can get thek +1st row by adding up all the

      pairs of entry from thekth row. But doing this uses each entry on thekth

      row twice. Thus each time we drop to the next row, we double the total. Of

      course, row 0 has sum1 20(the base case). Now try to make this precise

                                                      n n1 n1 
      with a formal induction proof. You will use the fact that +
                                                      kk1k
  for the inductive case.

      2.5.24.To see why this works, try it on a copy of Pascal’s triangle. We are

      adding up the entries along a diagonal, starting with the 1 on the left-hand

      side of the 4th row. Suppose we add up the  rst 5 entries on this diagonal.

          The claim is that the sum is the entry below and to the left of the last of

      these 5 entries. Note that if this is true, and we instead add up the  rst 6

      entries, we will need to add the entry one spot to the right of the previous

      sum. But these two together give the entry below them, which is below

      and left of the last of the 6 entries on the diagonal. If you follow that, you

      can see what is going on. But it is not a great proof. A formal induction

  proof is needed.

      2.5.26.You are allowed to assume the base case. For the inductive case,

      group all but the last function together as one sum of functions, then apply

      the usual sum of derivatives rule, and then the inductive hypothesis.                                                    Selected Hints329

    2.5.27.For the inductive step, we know by the product rule for two

functions that

                      000
        f1f2f3      fkfk+  f1f2f3      fkfk++ f1f2f3      fkf.
                    11
                                                          k+1

            Then use the inductive hypothesis on the  rst summand, and distribute.

      2.5.29.You will need three base cases. This is a very good hint actually, as

    it suggests that to provePnis true, you would want to use the fact that

    Pn 3is true. So somehow you need to increase the number of squares

by 3.


                        2.6 Chapter Review

2.6.14.

                  1n
  (a) Hint: n + 1n+> n + 1   n.

          (b)Hint: This should be similar to the other sum proofs. The last bit

        comes down to adding fractions.

                  1k
  (c) Hint: Write 4k+ 1   4   4 4 + 3.

      (d)Hint: one 9-cent stamp is 1 more than two 4-cent stamps, and seven

          4-cent stamps is 1 more than three 9-cent stamps.

        (e)Careful to actually use induction here. The base case:22 4.

            The inductive case: assume2n2is divisible by 4 and consider

            2n +22  2n2+4n +4. This is divisible by 4 because4n +4clearly

        is, and by our inductive hypothesis, so is 2n2.

      2.6.15.This is a straight forward induction proof. Note you will need to
          
              22
          nn+13n+1n+2
simplify+ n + 1and get.
          22

    2.6.16.There are two base casesP0andP1. Then, for the inductive

    case, assumePkis true for allk < n. This allows you to assumean1 1

    and an2  1. Apply the recurrence relation.


                            3.1 Exercises

    3.1.4. Like above, only now you will need 8 rows instead of just 4.

    3.1.5.You should write down three statements using the symbols

      P;Q; R;S. If Geo  is a truth-teller, then all three statements would be true.

      If he was a liar, then all three statements would be false. But in either case,

      we don’t yet know whether the four atomic statements are true or false,

  since he hasn’t said them by themselves.

            A truth table might help, although is probably not entirely necessary.  330 A. Selected Hints

3.1.10.

      (a) There will be three rows in which the statement is false.

            (b)Consider the three rows that evaluate to false and say what the truth

        values of T, S, and P are there.

            (c)You are looking for a row in whichPis true, and the whole statement

      is true.

      3.1.11.Write down three statements, and then take the negation of each

      (since he is a liar). You should  nd that Tommy ate one item and drank

    one item. (Q is for cucumber sandwiches.)

      3.1.15.For the second part, you can inductively assume that from the  rst

          n 2implications you can deduceP1! Pn1. Then you are back in the

  case in part (a) again.

      3.1.18.It might help to translate the statements into symbols and then

      use the formulaic rules to simplify negations (i.e., rules for quanti ers and

      De Morgan’s laws). After simplifying, you should get8x:Ex ^ :Ox,

          for the  rst one, for example. Then translate this back into English.

        3.1.19. What do these concepts mean in terms of truth tables?


                              3.2 Exercises

          3.2.5.One of the implications will be a direct proof, the other will be a

    proof by contrapositive.

                                                        p
      3.2.6.This is really an exercise in modifying the proof that2is irrational.

          There you proved things were even; here they will be multiples of 3.

        3.2.7.Part (a) should be a relatively easy direct proof. Look for a

    counterexample for part (b).

      3.2.9.A proof by contradiction would be reasonable here, because then

      you get to assume that bothaandbare odd. Deduce thatc2is even, and

        therefore a multiple of 4 (why? and why is that a contradiction?).

      3.2.11.Use a di erent style of proof for each part. The last part should

      remind you of the pigeonhole principle, so mimicking that proof might be

helpful.

                            aa
        3.2.13.Note that iflog7  , then7 10b. Can any power of 7 be the
                            b
  same as a power of 10?

          3.2.14.What if there were? Deduce thatxmust be odd, and continue

    towards a contradiction.

      3.2.15.Prove the contrapositive by cases. There will be 4 cases to consider.                                                    Selected Hints331

      3.2.16.Your friend’s proof a proof, but of what? What implication follows

  from the given proof? Is that helpful?

    3.2.18.Consider the set ofnumbersof friends that everyone has. If

    everyone had a di erent number of friends, this set must contain 20

elements. Is that possible? Why not?

    3.2.19.This feels like the pigeonhole principle, although a bit more

      complicated. At least, you could try to replicate the style of proof used by

      the pigeonhole principle. How would the episodes need to be spaced out

  so that no two of your sixty were exactly 4 apart?


                            4.1 Exercises

      4.1.3. Both situations are possible. Go  nd some examples.

    4.1.6.The bipartite graph is a little tricky. You will de nitely want a

    complete bipartite graph, but it could be K5;or maybe K1;, or . . .
                                        59

    4.1.7.The  rst graph is bipartite, which can be seen by labeling it as

follows.
                                B

                          AAB

                                B

    Two of the remaining three are also bipartite.

    4.1.8. C4is bipartite; C5is not. What about all the other values of n?

      4.1.11.How many edges doesKnhave? One of the two graphs will not

be connected (unless j   1).

    4.1.12.You should be able to deduce everything directly from the

      de nition. However, perhaps it would be helpful to know that theN

stands for neighborhood.

      4.1.13.Be careful to make sure the edges are not “directed.” In a graph, if

    ais adjacent tob, thenbis adjacent toa. In the language of relations, we

  say that the edge relation is symmetric.

      4.1.14.You might want to answer the questions for some speci c values

      of n to get a feel for them, but your  nal answers should be in terms of n.

      4.1.15.Try a small example  rst: any graph with 8 vertices must have two

      vertices of the same degree. If not, what would the degree sequence be?

      4.1.16.Use the handshake lemma 4.1.5. What would happen if all the

vertices had degree 2?  332 A. Selected Hints


                              4.2 Exercises

        4.2.3. Careful: the graphs might not be connected.

  4.2.4. Try Exercise 4.2.2.

      4.2.5.Try a proof by contradiction and consider a spanning tree of the

graph.

          4.2.7.For part (b), trying some simple examples should give you the

      formula. Then you just need to prove it is correct.

      4.2.8.Examining the proof of Proposition 4.2.1 gives you most of what

      you need, but make sure to just give the relevant parts, and take care to

    not use proof by contradiction.

      4.2.9.You will need to remove a vertex of degree one, apply the inductive

      hypothesis to the result, and then say which set the degree one vertex to.

        4.2.10.Ifeis the root, thenbwill have three children (a,c, andd), all

      of which will be siblings, and havebas their parent.awill not have any

  children.

          In general, how can you determine the number of children a vertex

    will have, if it is not a root?

      4.2.14. There is an example with 7 edges.

    4.2.15. The previous exercise will be helpful.

      4.2.16.Note that such an edge, if removed, would disconnect the graph.

      We call graphs that have an edge like this 1-connected.


                              4.3 Exercises

    4.3.3. What would Euler’s formula tell you?

      4.3.5.You can use the handshake lemma to  nd the number of edges, in

    terms of v, the number of vertices.

      4.3.11.What is the length of the shortest cycle? (This quantity is usually

    called the girth of the graph.)

    4.3.14. The girth of the graph is 4.

          4.3.15.What has happened to the girth? Careful: we have a di erent

    number of edges as well. Better check Euler’s formula.


                              4.4 Exercises

          4.4.7.For (a), you will want the teams to be vertices and games to be

    edges. Which does it make sense to color?                                                    Selected Hints333

    4.4.10. The chromatic number is 4. Now prove this!

          Note that you cannot use the 4-color theorem, or Brooke’s theorem,

      or the clique number here. In fact, this graph, called theGrötzsch graph

      is the smallest graph with chromatic number 4 that does not contain any

triangles.

    4.4.13.You can colorK5in such a way that every vertex is adjacent to

    exactly two blue edges and two red edges. However, there is a graph

      with only 5 edges that will result in a vertex incident to three edges of the

      same color no matter how they are colored. What is it, and how can you

generalize?

      4.4.14. The previous exercise is useful as a starting point.


                            4.5 Exercises

    4.5.7.This is harder than the previous three questions. Think about

      which “side” of the graph the Hamilton path would need to be on every

other step.

      4.5.9.If you read o  the names of the students in order, you would need

      to read each student’s name exactly once, and the last name would need to

      be of a student who was friends with the  rst. What sort of a cycle is this?

    4.5.10.Draw a graph with 6 vertices and 8 edges. What sort of path

would be appropriate?


                        4.7 Chapter Review

    4.7.23.You might want to give the proof in two parts. First prove by

      induction that the cycleCnhasv   e. Then consider what happens if the

  graph is more than just the cycle.


                            5.1 Exercises

    5.1.10. You should “multiply” the two sequences.


                            5.2 Exercises

      5.2.13.First reduce each number modulo 9, which can be done by adding

  up the digits of the numbers.

    5.2.18.Solve the Diophantine equation13x +20y  2(why?). Then

    consider which value of k (the parameter in the solution) is optimal.  334 A. Selected Hints                            Appendix B


                Selected Solutions



                            0.2 Exercises
0.2.1.

      (a)This is not a statement. It is an imperative sentence, but is not either

          true or false. It doesn’t matter that this might actually be the rule or

          not. Note that “The rule is that all customers must wear shoes”isa

    statement.

      (b)This is a statement, as it is either true or false. It is an atomic statement

        because it cannot be divided into smaller statements.

          (c)This is again a statement, but this time it is molecular. In fact, it is a

          conjunction, as we can write it as “The customers wore shoes and

      the customers wore socks.”

0.2.3.

(a) P ^ Q.

(b) P ! :Q.

      (c) Jack passed math or Jill passed math (or both).

    (d) If Jack and Jill did not both pass math, then Jill did.

  (e) i. Nothing else.

        ii. Jack did not pass math either.

0.2.4.

          (a)It is impossible to tell. The hypothesis of the implication is true.

          Thus the implication will be true if the conclusion is true (if 13ismy

        favorite number) and false otherwise.

      (b)This is true, no matter whether 13 is my favorite number or not. Any

      implication with a true conclusion is true.

    (c)This is true, again, no matter whether 13 is my favorite number or

        not. Any implication with a false hypothesis is true.

    (d)For a disjunction to be true, we just need one or the other (or both)

      of the parts to be true. Thus this is a true statement.

          (e)We cannot tell. The statement would be true if 13 is my favorite

          number, and false if not (since a conjunction needs both parts to be

    true to be true).


                                335  336 B. Selected Solutions

          (f)This is de nitely false. 13 is prime, so its negation (13 is not prime)

              is false. At least one part of the conjunction is false, so the whole

        statement is false.

            (g)This is true. Either 13 is my favorite number or it is not, but whichever

                it is, at least one part of the disjunction is true, so the whole statement

      is true.

      0.2.5.The main thing to realize is that we don’t know the colors of these

      two shapes, but we do know that we are in one of three cases: We could

      have a blue square and green triangle. We could have a square that was

      not blue but a green triangle. Or we could have a square that was not blue

      and a triangle that was not green. The case in which the square is blue but

      the triangle is not green cannot occur, as that would make the statement

false.

        (a)This must be false. In fact, this is the negation of the original

      implication.

    (b) This might be true or might be false.

          (c)True. This is the contrapositive of the original statement, which is

        logically equivalent to it.

          (d)We do not know. This is the converse of the original statement. In

                particular, if the square is not blue but the triangle is green, then the

            original statement is true but the converse is false.

        (e) True. This is logically equivalent to the original statement.

      0.2.6.The only way for an implicationP ! Qto be true but its converse

      to be false is for Q to be true and P to be false. Thus:

  (a) False.

  (b) True.

  (c) False.

  (d) True.

          0.2.7.The converse is “If I will give you magic beans, then you will

      give me a cow.” The contrapositive is “If I will not give you magic beans,

      then you will not give me a cow.” All the other statements are neither the

  converse nor contrapositive.

0.2.9.

      (a) Equivalent to the converse.

    (b) Equivalent to the original theorem.

      (c) Equivalent to the converse.                                                  Selected Solutions337

      (d) Equivalent to the original theorem.

    (e) Equivalent to the original theorem.

  (f) Equivalent to the converse.

  (g) Equivalent to the converse.

    (h) Equivalent to the original theorem.

0.2.10.

      (a) If you have lost weight, then you exercised.

    (b) If you exercise, then you will lose weight.

      (c) If you are American, then you are patriotic.

      (d) If you are patriotic, then you are American.

    (e) If a number is rational, then it is real.

          (f)If a number is not even, then it is prime. (Or the contrapositive: if a

      number is not prime, then it is even.)

      (g)If the Broncos don’t win the Super Bowl, then they didn’t play in the

          Super Bowl. Alternatively, if the Broncos play in the Super Bowl,

        then they will win the Super Bowl.

    0.2.12. P5is the statement “3 5+1is even”, which is true. Thus the

      statement9xPxis true (for example, 5 is such anx). However, we cannot

    tell anything about8xPxsince we do not know the truth value ofPx

      forallelements of the domain of discourse. In this case,8xPxhappens

  to be false (since P4 is false, for example).

0.2.14.

          (a)The claim that8xPxmeans thatPnis true no matter whatnyou

        consider in the domain of discourse. Thus the only way to prove

            that8xPxis true is to check or otherwise argue thatPnis true

      for all n in the domain.

        (b)To prove8xPxis false all you need is one example of an ele-

            ment in the domain for whichPnis false. This is often called a

      counterexample.

      (c)We are simply claiming that there is some elementnin the domain

          of discourse for whichPnis true. If you can  nd one such element,

      you have veri ed the claim.

    (d)Here we are claiming that no element we  nd will makePntrue.

        The only way to be sure of this is to verify thateveryelement of the

        domain makesPnfalse. Note that the level of proof needed for

        this statement is the same as to prove that 8xPx is true.  338 B. Selected Solutions

0.2.15.

          (a) 8x9yPx; yis false because whenx  4,there is noywhich makes

      P4; y true.

          (b) 8y9xPx; yis true. No matter whatyis (i.e., no matter what column

            we are in) there is somexfor whichPx; yis true. In fact, we can

        always take x to be 3.

        (c) 9x8yPx; yis true. In particularx  3is such a number, so that no

        matter what y is, Px; y is true.

          (d) 9y8xPx; yis false. In fact, no matter whaty(column) we look at,

            there is always some x (row) which makes Px; y false.

0.2.16.

    (a) :9xEx ^ Ox.

    (b) 8xEx ! Ox + 1.

        (c) 9xPx ^ Ex (where Px means “x is prime”).

      (d) 8x8y9zx < z < y _ y < z < x.

    (e) 8x:9yx < y < x + 1.

0.2.17.

      (a) Any even number plus 2 is an even number.

        (b)For anyxthere is aysuch thatsinx   y. In other words, every

          number x is in the domain of sine.

                                                   y. In other words, every
      (c)For everyythere is anxsuch thatsinx  

        number y is in the range of sine (which is false).

          (d)For any numbers, if the cubes of two numbers are equal, then the

      numbers are equal.


                              0.3 Exercises

0.3.1.

    (a) f1;3;4;6;9;10g.

  (b) f1g.

  (c) f4;9g.

  (d) f3;6;10g.

0.3.2.

          (a)This is the setf3;4;5; : : :gsince we need each element to be a natural

              number whose square is at least three more than 2. Since323 6

              but 22 3   1 we see that the  rst such natural number is 3.                                                  Selected Solutions339

      (b)We get the same set as we did in the previous part, and the smallest

            non-negative number for which n2 5 is a natural numbers is 3.

            Note that if we didn’t specifyn 2 Nthen any integer less than3

            would also be in the set, so there would not be a least element.

        (c)This is the setf1;2;5;10; : : :g,namely the set of numbers that are

          theresultof squaring and adding 1 to a natural number. (02+1 1,

        12+1 2,22+1 5and so on.) Thus the least element of the set is 1.

    (d)Now we are looking for natural numbers that are equal to taking

          some natural number, squaring it and adding 1. That is,

        f1;2;5;10; : : :g,the same set as the previous part. So again, the least

    element is 1.

0.3.3.

                                33,but this calculation would not include 4
  (a)34. Note that374 

    itself.

        (b)103. Again, you could compute this by100 2 +1,or simply

          count: 100 numbers from 1 through 100, plus -2, -1, and 0.

          (c) 8. There are 8 primes not greater than 20: f2;3;5;7;11;13;17;19g.

0.3.4. f2;4g.

0.3.5. f1;2;3;4;5;6;8;10g

0.3.6. 11.

    0.3.7.There will be exactly 4 such sets:f2;3;4g, f1;2;3;4g, f2;3;4;5g

and f1;2;3;4;5g.

0.3.8.

  (a) A \ B   f3;4;5g.

    (b) A [ B   f1;2;3;4;5;6;7g.

(c) A n B   f1;2g.

                   f1g.
(d) A \B [ C  

0.3.9.

        (a) A \ Bwill be the set of natural numbers that are both at least 4

        and less than 12, and even. That is,A \ B   fx 2 N: 4  x <

      12 ^ x is eveng   f4;6;8;10g.

        (b) A n Bis the set of all elements that are inAbut notB.So this is

      fx 2 N : 4   x < 12 ^ x is oddg   f5;7;9;11g.

      Note this is the same set as A \B.

  0.3.11. For example, A   f2;3;5;7;8g and B   f3;5g.  340 B. Selected Solutions

      0.3.12. For example, A   f1;2;3g and B   f1;2;3;4;5; f1;2;3gg

0.3.13.

  (a) No.

  (b) No.

          (c)2Z \3Zis the set of all integers which are multiples of both 2 and 3

          (so multiples of 6). Therefore 2Z \ 3Z   fx 2 Z : 9y 2 Zx   6yg.

  (d) 2Z [ 3Z.

0.3.15.

    (a) A [B:(d) A \ B [ C:

                  ABAB

                                                        C

  (b)A [ B:
                                      (e)A \ B \C:

                  AB
                                                      AB

                                                        C
  (c) A \ B [ C:
                                      (f) A [ B n C:
                  AB
                                                      AB
                    C
                                                        C
0.3.17.

            PA   f;; fag; fbg; fcg; fdg; fa; bg; fa; cg; fa; dg; fb; cg; fb; dg;

                    fc; dgfa; b; cg; fa; b; dg; fa; c; dg; fb; c; dg; fa; b; c; dgg.

        0.3.20.For example,A   f1;2;3;4gandB   f5;6;7;8;9ggivesA [ B  

  f1;2;3;4;5;6;7;8;9g.

      0.3.28.We need to be a little careful here. IfBcontains 3 elements, then

      Acontains just the number 3 (listed twice). So that would makejAj  1,

          which would makeB   f1;3g, which only has 2 elements. ThusjBj ,3.

      This means thatjAj  2, soBcontains at least the elements 1 and 2. Since

                               2, which agrees with the de nition of B.
  jBj, 3, we must havejBj 

        Therefore it must be that A   f2;3g and B   f1;2g


                              0.4 Exercises

0.4.1.

        (a) f1   4, since 4 is the number below 1 in the two-line notation.

    (b)Such annisn  
                            2,sincef2  1.Note that 2 is above a 1 in the

      notation.

        (c) n  4has this property. We say that 4 is a  xed point off.Not all

        functions have such a point.                                                  Selected Solutions341

      (d)Such an element is 2 (in fact, that is the only element in the codomain

        that is not in the range). In other words, 2 is not the image of any

      element under f; nothing is sent to 2.

0.4.2.

          (a)This is neither injective nor surjective. It is not injective because

          more than one element from the domain has 3 as its image. It is not

          surjective because there are elements of the codomain (1, 2, 4, and 5)

          that are not images of anything from the domain.

    (b)This is a b¼ection. Every element in the codomain is the image of

        exactly one element of the domain.

          (c)This is a b¼ection. Note that we can write this function in two line
                    
                    1 2 3 4 5
      notation as f  .
                    5 4 3 2 1
                                            
                                            1 2 3 4 5
  (d)In two line notation, this function isf  
                                                          .From this
                                            1 1 2 2 3
          we can quickly see it is neither injective (for example, 1 is the image

        of both 1 and 2) nor surjective (for example, 4 is not the image of

    anything).

    0.4.5.There are 8 functions, including 6 surjective and zero injective

functions.

0.4.7.

        (a) fis not injective, sincef2   f5; two di erent inputs have the

    same output.

      (b) fis surjective, since every element of the codomain is an element of

    the range.
          
        1 2 3 4 5
(c) f  .
        3 2 4 1 2

  0.4.9. f10  1024.To  ndf10,we need to knowf9,for which we

      needf8,and so on. So build up fromf0  1.Thenf1  2, f2  4,

  f3  8,.... In fact, it looks like a closed formula forfisfn  2n.Later

  we will see how to prove this is correct.

    0.4.10.For each case, you must use the recurrence to  ndf1, f2...

      f5.But notice each time you just add three to the previous. We do this 5

times.

(a) f5   15.

(b) f5   16.

(c) f5   17.  342 B. Selected Solutions

  (d) f5   115.

0.4.12.

          (a) fis injective, but not surjective (since 0, for example, is never an

      output).

          (b) fis injective and surjective. Unlike in the previous question, every

          integers is an output (of the integer 4 less than it).

          (c) fis injective, but not surjective (10 is not 8 less than a multiple of 5,

      for example).

          (d) fis not injective, but is surjective. Every integer is an output (of

          twice itself, for example) but some integers are outputs of more than

      one input: f5   3   f6.

0.4.13.

          (a) fis not injective. To prove this, we must simply  nd two di erent

            elements of the domain which map to the same element of the

            codomain. Sinceff1g  1andff2g  1, we see thatfis not

      injective.

        (b) fis not surjective. The largest subset ofAisAitself, andjAj  10.

            So no natural number greater than 10 will ever be an output.

        (c) f11   ff1g; f2g; f3g; : : : f10gg(the set of all the singleton subsets

      of A).

          (d) f10   f;g. Note, it would be wrong to writef10   ;- that

            would claim that there is no input which has 0 as an output.

        (e) f112   ;, since there are no subsets of A with cardinality 12.

0.4.16.

      (a) j f13j  1. In other words, eitherf13is the empty set or is a set

          containing exactly one element. Injective functions cannot have two

          elements from the domain both map to 3.

      (b) j f13j  1. In other words,f13is a set containing at least one

          elements, possibly more. Surjective functions must have something

      map to 3.

          (c) j f13j  1. There is exactly one element fromXwhich gets mapped

          to 3, so f13 is the set containing that one element.

        0.4.17. Xcan really be any set, as long asfx  0orfx  1for every

      x 2 X. For example, X   N and fn   0 works.

0.4.21.

    (a) f is injective.                                                  Selected Solutions343

            Proof.Letxandybe elements of the domainZ. Assumefx   fy.

        Ifxandyare both even, thenfx   x +1andfy   y +1. Since

            fx   fy, we havex+1  y+1which implies thatx   y. Similarly,

          ifxandyare both odd, thenx 3  y 3so againx   y. The only

          other possibility is thatxis even anyis odd (or visa-versa). But then

            x +1would be odd andy 3would be even, so it cannot be that

          fx   fy. Therefore iffx   fywe then havex   y, which

      proves that f is injective.qed


(b) f is surjective.


          Proof.Letybe an element of the codomainZ. We will show there is

            an elementnof the domain (Z) such thatfn   y. There are two

            cases: First, ifyis even, then letn   y +3. Sinceyis even,nis odd,

        sofn   n 3  y +33  yas desired. Second, ifyis odd, then

        letn   y1. Sinceyis odd,nis even, sofn   n+1  y1+1  y

        as needed. Therefore f is surjective.qed

      0.4.22.Yes, this is a function, if you choose the domain and codomain

      correctly. The domain will be the set of students, and the codomain will

      be the set of possible grades. The function is almost certainly not injective,

      because it is likely that two students will get the same grade. The function

      might be surjective – it will be if there is at least one student who gets each

grade.

  0.4.24. This is not a function.

  0.4.25. The recurrence relation is fn + 1   fn + n.
                      
                      
    0.4.26.In general,jAj , since you cannot get more outputs than
                        fA

        you have inputs (each input goes to exactly one output), but you could have

      fewer outputs if the function is not injective. If the function is injective,
        
        
          fA
    thenjAj , although you can have equality even iffis not injective

  (it must be injective restricted to A).
                                                      
                                                          1
                                                      
    0.4.27.In general, there is no relationship betweenjBjandfB. This

      is becauseBmight contain elements that are not in the range off, so we

    might even havef1B   ;. On the other hand, there might be lots of

      elements from the domain that all get sent to a few elements inB, making

f1B larger than B.
                                                
                                                  1
                                                
          More speci cally, iffis injective, thenjBj (since every
                                                fB

      element inBmust come from at most one element from the domain). If
                        
                          1
                        
                        fB
      fis surjective, thenjBj (since every element inBmust come

    from at least one element of the domain). Thus iffis b¼ective then
  
      1
  
    fB.
jBj   344 B. Selected Solutions


                              1.1 Exercises

        1.1.1. There are 255 out ts. Use the multiplicative principle.

1.1.2.

      (a) 8 ties. Use the additive principle.

        (b) 15 ties. Use the multiplicative principle

    (c) 5   4 + 3 + 7   42 out ts.

1.1.3.

          (a)For example, 16 is the number of choices you have if you want to

          watch one movie, either a comedy or horror  ick.

          (b)For example, 63 is the number of choices you have if you will watch

            two movies,  rst a comedy and then a horror.

1.1.5.

            (a) To maximize the number of elements in common between A and B,

        make A   B. This would givejA \ Bj  10.

        (b) A and B might have no elements in common, givingjA \ Bj  0.

      (c)15 jA [ Bj 25.In fact, whenjA \ Bj 0thenjA [ Bj 25and

        whenjA \ Bj  10 thenjA [ Bj  15.

        1.1.6.jA [ Bj+A \ Bj 13.Use PIE: we knowjA [ Bj 8+5jA \ Bj.
                j

      1.1.7.39 students. Use Venn diagram or PIE:28+19+24161410+8 39.

  1.1.8. 6 students don’t like potatoes.

  1.1.9. 215 values of n.

1.1.12.

    (a) 85  32768 words.

    (b) 8   7   6   5   4   6720 words.

    (c) 8   8   64 words.

    (d) 64 + 64 0   128 words.

      (e) 8   7   6   5   4 3   5   4   6660 words.


                              1.2 Exercises

1.2.1.

            (a)26 64subsets. We need to select yes/no for each of the six elements.

          (b)23 8subsets. We need to select yes/no for each of the remaining

        three elements.                                                  Selected Solutions345


          (c)2623 56subsets. There are 8 subsets which do not contain any

        odd numbers (select yes/no for each even number).

    (d)3 23 24subsets. First pick the even number. Then say yes or no to

      each of the odd numbers.

1.2.2.

    6 
(a)  15 subsets.
    4

    3 
        (b) 3subsets. We need to select 1 of the 3 remaining elements to
    1
    be in the subset.

    6 
        (c) 15subsets. All subsets of cardinality 4 must contain at least
    4
    one odd number.

    3 
          (d) 3subsets. Select 1 of the 3 even numbers. The remaining three
    1
        odd numbers of S must all be in the set.

1.2.3.

    (a) There are 512 subsets.
      
    9
(b)  126.
    5

        (c)24 16.(Note, if you wish to exclude the empty set - it does not

          contain odd numbers, but no evens either - then you could subtract

  1).

(d) 256.

1.2.4.

    6
(a) 2  64.
      
    6
(b) 
           20.
    3

(c) 176.

(d) 51.

1.2.5.

    (a) We will need 6   20   120 coins (60 of each).

  (b) We need 6   64   384 coins (192 of each).

      10 10 10 10 10 
1.2.6.++++  386 strings.
      678910

      14 15 9
1.2.9.+2.
      96

1.2.10.

    14 
  (a)  3432 paths.
    7

    6  8 
            840 paths.
(b)
    25  346 B. Selected Solutions


      14 6  8 
  (c)paths.
      725

1.2.11.

      18 
  (a).
      9

      12  6 
  (b).
      72
             
        18314
  (c)
        918
                        
        315126396
  (d)+
      1872162

1.2.12.

      11 
                165choices, since you have to select a 3-element subset of the
  (a) 
      3
        set of 11 toppings.

      10 
           
        (b)120choices, since you must select 3 of the 10 non-pineapple
      3
      toppings.

      10 
        (c) 45choices, since you must select 2 of the remaining 10 non-
      2
          pineapple toppings to have in addition to the pineapple.

            (d)165 120+45choices, which makes sense because every 3-topping

                pizza either has pineapple or does not have pineapple as a topping.


                              1.3 Exercises

1.3.1.

      10 
                 120pizzas. We must choose (in no particular order) 3 out of
  (a)
      3
      the 10 toppings.

        (b) 210  1024 pizzas. Say yes or no to each topping.

          (c) P10;5  30240ways. Assign each of the 5 spots in the left column

        to a unique pizza topping.

      1.3.2.Despite its name, we are not looking for a combination here. The

      order in which the three numbers appears matters. There areP40;3  

      40 39 38di erent possibilities for the “combination”. This is assuming

      you cannot repeat any of the numbers (if you could, the answer would be

403).

1.3.3.

            (a)This is just the multiplicative principle. There are 7 digits which we

            can select for each of the 5 positions, so we have75 16807such

      numbers.

          (b)Now we have 7 choices for the  rst number, 6 for the second, etc. So

        there are 7   6   5   4   3   P7;5   2520 such numbers.                                                  Selected Solutions347

          (c)To build such a number we simply must select 5 di erent digits.

        After doing so, there will only be one way to arrange them into a

                                  7 
        5-digit number. Thus there are  21 such numbers.
                                  5

      (d)The permutation is in part (b), while the combination is in part (c).

          At  rst this seems backwards, since usually we use combinations

            for when order does not matter. Here it looks like in part (c)

        that order does matter. The better way to distinguish between

          combinations and permutations is to ask whether we are counting

          di erent arrangements as di erent outcomes. In part (c), there is

          only one arrangement of any set of 5 digits, while in part (b) each set

        of 5 digits gives 5! di erent outcomes.



                    7  7 
                            441 quadrilaterals.
1.3.5. You can make
                    22
    There are 5 squares.

            7 
    There arerectangles.
            2

            7 7 7 7 7 7 
      There are+1+3+6+10+15  91
            222222
parallelograms.

            All of the quadrilaterals are trapezoids. To count the non-parallelogram

  trapezoids, compute 441 91   350.

1.3.6. 120.

      1.3.7.Since there are 15 di erent letters, we have 15 choices for the  rst

  letter, 14 for the next, and so on. Thus there are 15! anagrams.


              7 
  1.3.8. There are  21 anagrams starting with “a”.
              2

      1.3.9.First, decide where to put the “a”s. There are 7 positions, and we

                                                        7 
      must choose 3 of them to  ll with an “a”. This can be done inways. The
                                                        3
      remaining 4 spots all get a di erent letter, so there are4!ways to  nish o 

                              7 
      the anagram. This gives a total of 4!anagrams. Strangely enough, this
                              3
    is 840, which is also equal toP7;4.To get the answer that way, start by

      picking one of the 7positionsto be  lled by the “n”, one of the remaining

      6 positions to be  lled by the “g”, one of the remaining 5 positions to be

       lled by the “r”, one of the remaining 4 positions to be  lled by the “m”

  and then put “a”s in the remaining 3 positions.

1.3.10.

    20  16  12  8  4 
(a)ways.
      44444

      15  12  9  6  3 
(b) 5!ways.
      33333

1.3.11. 9!.

1.3.12.

      (a)1710functions. There are 17 choices for the image of each element in

    the domain.  348 B. Selected Solutions

          (b) P17;10injective functions. There are 17 choices for image of the

                 rst element of the domain, then only 16 choices for the second, and

      so on.

1.3.13.

    (a) 64  1296 functions.

    (b) P6;4   6   5   4   3   360 functions.

      6 
    (c)  15 functions.
      4

                              1.4 Exercises

1.4.1.

    Proof. Question: How many 2-letter words start witha,b, orcand end

with either y or z?

          Answer 1: There are two words that start witha, two that start withb,

      two that start with c, for a total of 2 + 2 + 2.

          Answer 2: There are three choices for the  rst letter and two choices

    for the second letter, for a total of 3   2.

          Since the two answers are both answers to the same question, they are

  equal. Thus 2 + 2 + 2   3   2. 

1.4.5.

              15 
          (a)She hasways to select the 6 bridesmaids, and then for each way,
              6

                                                      15 
                                                          6 choices.
          has 6 choices for the maid of honor. Thus she has
                                                      6

            (b)She has 15 choices for who will be her maid of honor. Then she needs

              to select 5 of the remaining 14 friends to be bridesmaids, which she


                14 14 
                      ways. Thus she has 15choices.
      can do in
                55

            (c)We have answered the question (how many wedding parties can the

              bride choose from) in two ways. The  rst way gives the left-hand

                side of the identity and the second way gives the right-hand side of

          the identity. Therefore the identity holds.

1.4.7.

      Proof. Question: You have a large container  lled with ping-pong balls,

      all with a di erent number on them. You must selectkof the balls, putting

      two of them in a jar and the others in a box. How many ways can you do

this?

            Answer 1: First select 2 of thenballs to put in the jar. Then select

        k 2of the remainingn 2balls to put in the box. The  rst task can be

              n n2 
          completed indi erent ways, the second task inways. Thus there
              2k2

    n  n2 
  areways to select the balls.
    2k2
          Answer 2: First selectkballs from thenin the container. Then pick 2

          of thekballs you picked to put in the jar, placing the remainingk 2in                                                  Selected Solutions349


                                        n k 
    the box. The  rst task can be completed inways, the second task in
                                        k2

                    n  k 
    ways. Thus there areways to select the balls.
                    k2
          Since both answers count the same thing, they must be equal and the

  identity is established. 


                            1.5 Exercises

1.5.1.

    10 
    (a)sets. We must select 5 of the 10 digits to put in the set.
    5

      (b)Use stars and bars: each star represents one of the 5 elements of the

          set, each bar represents a switch between digits. So there are 5 stars

                        14 
      and 9 bars, giving ussets.
                        9

1.5.2.

              7 
                        numbers. We simply choose  ve of the seven digits
(a)There are
              5
          and once chosen put them in increasing order.

          (b)This requires stars and bars. Use a star to represent each of the 5

        digits in the number, and use their position relative to the bars to

          say what numeral  lls that spot. So we will have 5 stars and 6 bars,

          11 
      givingnumbers.
            6

1.5.3.

      (a)You take 3 strawberry, 1 lime, 0 licorice, 2 blueberry and 0 bubblegum.

          (b)This is backwards. We don’t want the stars to represent the kids

        because the kids are not identical, but the stars are. Instead we

          should use 5 stars (for the lollipops) and use 5 bars to switch between

      the 6 kids. For example,

                                  jj       jjj

          would represent the outcome with the  rst kid getting 2 lollipops,

          the third kid getting 3, and the rest of the kids getting none.

  (c) This is the word AAAEOO.

      (d)This doesn’t represent a solution. Each star should represent one of

          the 6 units that add up to 6, and the bars shouldswitchbetween the

        di erent variables. We have one too many bars. An example of a

      correct diagram would be

                               j    jj       ,

          representing that x1  1, x2  2, x3  0, and x4  3.  350 B. Selected Solutions

1.5.4.

      18 
  (a)
                ways. Each outcome can be represented by a sequence of 14
      4
        stars and 4 bars.

      13 
        (b)ways. First put one ball in each bin. This leaves 9 stars and 4
      4
      bars.

1.5.5.

      7 
  (a)
              solutions. After each variable gets 1 star for free, we are left with
      2
      5 stars and 2 bars.

      10 
      (b)solutions. We have 8 stars and 2 bars.
      2

      19 
                  solutions. This problem is equivalent to  nding the number of
  (c)
      2
              solutions tox0+ y0+ z0 17wherex0, y0andz0are non-negative.

          (In fact, we really just do a substitution. Letx   x03, y   y03

      and z   z0 3).

        10 
  1.5.6.outcomes.
        5

                  10 
                     
          1.5.7.There are120di erent combinations of coins possible. Thus
                  3
      you have a 1 in 120 chance of guessing correctly.


        18 
      1.5.8.solutions. Distribute 10 units to the variables before  nding all
        15
              0000
    solutions to x+ x+ x+ x  15 in non-negative integers.
              1234

1.5.10.

      10 
        .
          (a)Note that a strictly increasing function is automatically injective.
      5
        
      14
  (b).
      9

1.5.11.

      20 
        (a)sodas (order does not matter and repeats are not allowed).
      4

                  4  20 19 18 17sodas (order matters and repeats are not
  (b) P20;

      allowed).

      23 
        (c)sodas (order does not matter and repeats are allowed; 4 stars
      4
      and 19 bars).

            (d)204sodas (order matters and repeats are allowed; 20 choices 4 times).


                              1.6 Exercises

1.6.1.

      9 
        (a)meals. First spend $7 to buy one of each item, then use 3 stars to
      3
        select items between 6 bars.

      16 
          (b)meals. Here you have 10 stars and 6 bars (separating the 7 items).
      6                                                  Selected Solutions351

                  

                    7 107 7
    16 7 13
    (c)+meals. Use PIE to subtract all the
      6162636
        meals in which you get 3 or more of a particular item.
                

      18 5 115 4
1.6.3..
      41424

                10 4  6 
1.6.4. There aresolutions.
                713

                                            19 
    1.6.5. Without any restriction, there would beways to distribute the
                                            7
      stars. Now we must use PIE to eliminate all distributions in which one or

  more student gets more than one star:

                             
            19131713151313
                                      +  1716.
            7152331

                                                    13 
                                                      ,
          Interestingly enough, this number is also the value ofwhich makes
                                                    7
      sense: if each student can have at most one star, we must just pick the 7

  out of 13 students to receive them.

      1.6.7.The 9 derangements are: 2143, 2341, 2413, 3142, 3412, 3421, 4123,

4312, 4321.

      1.6.8.First pick one of the  ve elements to be  xed. For each such choice,

      derange the remaining four, using the standard advanced PIE formula.
          
               
                    
      5 4 44 4
  We get4!3!2! +1!0!permutations.
      11234

          
                 
                    
      10 4 44 4
    1.6.9.4!3!2! +1!0!ways. We choose 6 of the 10
      61234
      ladies to get their own hat, and the multiply by the number of ways the

  remaining hats can be deranged.

    1.6.11.There are5 63functions for whichf1 , aand another5 63

    functions for whichf2 , b.There are52 62functions for which both

        f1 , aandf2 , b.So the total number of functions for whichf1 , a

or f2 , b or both is

                        3322
                      5   6+ 5   6 5  6  1260.
                
                                    5
            555
                  1010101010
  1.6.12.51043+21functions. The5is all the
              1234
      functions fromAtoB.We subtract those that aren’t surjective. Pick one

                                                  5 
    of the  ve elements inBto not have in the range (inways) and count
                                                  1
      all those functions (410). But this overcounts the functions where two

      elements fromBare excluded from the range, so subtract those. And so

on, using PIE.
                  
            5 55 55
  1.6.13. 5!4!3! +2!1! +0!functions.
            12345  352 B. Selected Solutions


                          1.7 Chapter Review

1.7.1.

      8 
        (a)ways, after giving one present to each kid, you are left with 5
      5
              presents (stars) which need to be divide among the 4 kids (giving 3

      bars).

      12 
      (b)ways. You have 9 stars and 3 bars.
      9

          (c)49.You have 4 choices for whom to give each present. This is like

            making a function from the set of presents to the set of kids.
               
            444
              999
      (d)4932+1ways. Now the function from the set of
            123
            presents to the set of kids must be surjective.

1.7.2.

              14 
    (a) Neither.paths.
                4

      10 
          bow ties.
  (b)
      4

      (c) P10;4, since order is important.

          (d)Neither. Assuming you will wear each of the 4 ties on just 4 of the 7

                            10 
        days, without repeats:P7;4.
                            4

  (e) P10;4.

      10 
  (f).
      4

            (g)Neither. Since you could repeat letters:104. If no repeats are allowed,

        it would be P10;4.

            (h)Neither. Actually, “k” is the 11th letter of the alphabet, so the answer

              is 0. If “k” was among the  rst 10 letters, there would only be 1 way -

      write it down.

                      9 13 
                              (if every kid gets an apple) or(if appleless
    (i)Neither. Either
                      33
      kids are allowed).

                                          10 
        (j)Neither. Note that this could not besince the 10 things and 4
                                          4
              things are from di erent groups.410, assuming each kid eats one

      type of cerial.

      10 
        (k)- don’t be fooled by the “arrange” in there - you are picking 4
      4
        out of 10 spots to put the 1’s.

      10 
    (l)(assuming order is irrelevant).
      4

      (m) Neither. 1610(each kid chooses yes or no to 4 varieties).

    (n) Neither. 0.

                       4 104 104 10
    (o) Neither. 41032+1.
                    123                                                  Selected Solutions353

(p) Neither. 10   4.

  (q) Neither. 410.

    10 10 
    (r)(which is the same as).
    46

          (s)Neither. If all the kids were identical, and you wanted no empty

                      10 
        teams, it would be. Instead, this will be the same as the number
                      4
          of surjective functions from a set of size 11 to a set of size 5.

    10 
(t).
    4

    10 
(u).
    4

(v) Neither. 4!.

                  10 
(w)Neither. It’s
                            if you won’t repeat any choices. If repetition is
                  4

                                                                  13 
          allowed, then this becomesx1+ x2+       + x10 4, which has
                                                                  9
      solutions in non-negative integers.

      (x)Neither. Since repetition of cookie type is allowed, the answer is104.

        Without repetition, you would have P10;4.

    10 9 9 
  (y)since that is equal to+.
    443

      (z) Neither. It will be a complicated (possibly PIE) counting problem.

1.7.3.

      (a)28 256choices. You have two choices for each tie: wear it or don’t.

      (b)You have 7 choices for regular ties (the 8 choices less the “no regular

          tie” option) and 31 choices for bow ties (32 total minus the “no bow

        tie” option). Thus total you have 7   31   217 choices.


    3  5 
            30 choices.
(c)
    23

    (d)Select one of the 3 bow ties to go on top. There are then 4 choices for

        the next tie, 3 for the tie after that, and so on. Thus3 4! 72choices.

    1.7.4.You own 8 purple bow ties, 3 red bow ties, 3 blue bow ties and 5

      green bow ties. How many ways can you select one of each color bow tie

    to take with you on a trip?8 3 3 5ways. How many choices do you

    have for a single bow tie to wear tomorrow? 8 + 3 + 3 + 5 choices.

1.7.5.

(a) 45numbers.

    (b)44 2numbers (choose any digits for the  rst four digits - then pick

          either an even or an odd last digit to make the sum even).

                                                5 32
                                                    22.4 even digits:
      (c)We need 3 or more even digits. 3 even digits:
                                                3

      5 45 55 325 45 5
          22.5 even digits:2.So all together:22+22+2
    45345
    numbers.  354 B. Selected Solutions

          1.7.6.51 passengers. We are asking for the size of the union of three

        non-disjoint sets. Using PIE, we have 25 + 30 + 20 10 12 7 + 5   51.

1.7.7.

  (a) 28strings.

      8 
  (b)strings.
      5

      8 
    (c)strings.
      5

          (d)There is a b¼ection between subsets and bit strings: a 1 means that

              element in is the subset, a 0 means that element is not in the subset.

              To get a subset of an 8 element set we have an 8-bit string. To make

              sure the subset contains exactly 5 elements, there must be 5 1’s, so

      the weight must be 5.


        13 17 
1.7.8.+.
        108

      1.7.9.With repeated letters allowed, we select which 5 of the 8 letters will

      be vowels, then pick one of the 5 vowels for each spot, and  nally pick one

                                                                8 53
        of the other 21 letters for each of the remaining 3 spots. Thus,521
                                                              5
words.

          Without repeats, we still pick the positions of the vowels, but now

      each time we place one there, there is one fewer choice for the next one.

                                                  8 
          Similarly, we cannot repeat the consonants. We get5!P21;3 words.
                                                  5

1.7.10.


      5  11 
            paths.
  (a)
      26


      16 12  4 
                  paths.
  (b)
      871


        5  11 12  4 5  7  4 
            +paths.
  (c)
      2653233
              
                
          18 1818
    1.7.11. 1routes. For each of theroutes to work there is
          888
  exactly one fewer route back.

    1.7.12. 27+ 27 24strings (using PIE).


        7 7 4 
  1.7.13.+strings.
        341

      1.7.14.There are 4 spots to start the word, and then there are3!ways to

      arrange the other letters in the remaining three spots. Thus the number of

          words avoiding the sub-word “bad” in consecutive letters is 6! 4   3!.

          If we now need to avoid words that put “b” before “a” before “d”, we

      must choose which spots those letters go (in that order) and then arrange

                                       6 
    the remaining three letters. Thus, 6!3! words.
                                      3

    1.7.15.2nis the number of lattice paths which have lengthn, since for

          each step you can go up or right. Such a path would end along the line                                                  Selected Solutions355

    x + y   n. So you will end at0; n, or1; n 1or2; n 2or . . . orn;0.

                                                      n n n 
    Counting the paths to each of these points separately, give,,, . . . ,
                                                      012 
n
      n(each time choosing which of thensteps to be to the right). These two
  methods count the same quantity, so are equal.

1.7.16.

    19 
(a)ways.
    15

    24 
(b)ways.
    20
                

    19 5 125 5
(c)ways.
    151821

1.7.17.

  (a) 54+ 54 53functions.

    (b) 4   54+ 5   4   53 4   4   53functions.

                   4! 3!functions. Note we use factorials instead of powers
(c)5!4! +

          because we are looking for injective functions.

      (d)Note that being surjective here is the same as being injective, so we can

          start with all5!injective functions and subtract those which have one
                                         
                                             55 55
                                    5
      or more “ xed point”. We get5!4!3! +
                                      1232!41! +50!
    functions.
               
                  44
            4
              666
1.7.18. 4632+
            1231.

1.7.19.

    10 
    (a)combinations. You need to choose 4 of the 10 cookie types. Order
    4
    doesn’t matter.

          (b) P10;4  10 9 8 7ways. You are choosing and arranging 4 out of

      10 cookies. Order matters now.

    21 
            choices. You must switch between cookie type 9 times as you
(c)
    12
            make your 12 cookies. The cookies are the stars, the switches between

      cookie types are the bars.

      (d)1012choices. You have 10 choices for the “1” cookie, 10 choices for

      the “2” cookie, and so on.
               
            1010 10
                121212
    (e)101298+      0choices. We must use PIE to
            1210
          remove all the ways in which one or more cookie type is not selected.

1.7.20.

    (a)You are giving your professor 4 types of cookies coming from 10

          di erent types of cookies. This does not lend itself well to a function

          interpretation. Wecouldsay that the domain contains the 4 types

          you will give your professor and the codomain contains the 10 you

          can choose from, but then counting injections would be too much (it  356 B. Selected Solutions

                doesn’t matter if you pick type 3  rst and type 2 second, or the other

          way around, just that you pick those two types).

            (b)We want to consider injective functions from the setfmost, second

            most, second least, leastgto the set of 10 cookie types. We want

              injections because we cannot pick the same type of cookie to give

        most and least of (for example).

          (c)This is not a good problem to interpret as a function. The problem is

                that the domain would have to be the 12 cookies you bake, but these

              elements are indistinguishable (there is not a  rst cookie, second

      cookie, etc.).

          (d)The domain should be the 12 shapes, the codomain the 10 types of

                cookies. Since we can use the same type for di erent shapes, we are

          interested in counting all functions here.

          (e)Here we insist that each type of cookie be given at least once, so

                now we are asking for the number of surjections of those functions

          counted in the previous part.


                              2.1 Exercises

2.1.1.

            (a)Note that if we subtract 1 from each term, we get the square numbers.

        Thus an  n2+ 1.

          (b)These look like the triangular numbers, only shifted by 1. We get:
          nn+1
      an  1.
            2

          (c)If you subtract 2 from each term, you get triangular numbers, only

                starting with 6 instead of 1. So we must shift vertically and horizon-
                n+2n+3
                           2.
      tally. an 
                    2+

          (d)These seem to grow very quickly. Further, if we add 1 to each term,

              we  nd the factorials, although starting with 2 instead of 1. This

          gives, an  n + 1! 1 (where n!   1   2   3      n).

2.1.3.

        (a) a0 0,a1 1,a2 3,a3 6a4 10. The sequence was described

                by a closed formula. These are the triangular numbers. A recursive

        de nition is: an  an1+ n with a0  0.

        (b)This is a recursive de nition. We continuea2 2,a3 3,a4 4,

          a5  5, and so on. A closed formula is an  n.

    (c)We havea0 
                      1,a1 1,a2 2,a3 6,a4 24,a5 120, and so on.

        The closed formula is an  n!.                                                  Selected Solutions357

2.1.4.

  (a)The recursive de nition isan 
                                       an1+2witha1 1. A closed

    formula is an  2n 1.

        (b)The sequence of partial sums is1;4;9;16;25;36; : : :. A recursive

            de nition is (as always)bn  bn1+ anwhich in this case isbn 

        bn1+ 2n 1. It appears that the closed formula is bn  n2

2.1.5.

  (a) 0;1;2;4;7;12;20; : : :.

  (b) F0+ F1+       + Fn  Fn+ 1.
                          2

      2.1.6.The sequences all have the same recurrence relation:an  an1+an2

      (the same as the Fibonacci numbers). The only di erence is the initial

conditions.

    2.1.7.3;10;24;52;108; : : :. The recursive de nition for10;24;52; : : :is

an  2an1+ 4 with a1  10.

    2.1.8. 1;1;1;5;11;19; : : :Thus the sequence0;2;6;12;20; : : :has closed

formula an  n + 12 3n + 1 + 2.

  2.1.9.This closed formula would havean1 3 2n1+7 5n1and

  an2  3   2n2+ 7   5n2. Then we would have

                          n1n1n2n2
          7an1 10an2 73   2+ 7   5 103   2+ 7   5
                          n1n1n2n2
                       21   2+ 49   5 30   2 70   5
                          n1n1n1n1
                       21   2+ 49   5 15   2 14   5
                        n1n1
                     6   2+ 35   5
                        nn
                     3   2+ 7   5  an.

      So the closed formula agrees with the recurrence relation. The closed

    formula has initial terms a0  10 and a1  41.

2.1.13.
    nn

(a)2k.(d)2k.
    k 1k 1
    107100


                                            k
(b)1 + 4k 1.(e).
                                            k + 1
    k 1k 
                                          1
    50

      1
(c).
      k
    k 1  358 B. Selected Solutions

2.1.14.
      100

    (a)3 + 4k   7 + 11 + 15 +       + 403.
      k 1
      n

          kn
    (b)2  1 + 2 + 4 + 8 +       + 2.
      k 0

      50

            11111
  (c)  1 ++++       +.
            k2 138152499
      k 2

      100

            k2491610000
  (d)        .
            k2 138159999
      k 2
      n

    (e)2 + 3k   2581114       2 + 3n.
      k 0

                              2.2 Exercises

2.2.1.

    (a) an  an1+ 4 with a1  5.

  (b) an  5 + 4n 1.

        (c) Yes, since 2013   5 + 4503 1 (so a503  2013).

  (d) 133

      538 133
  (e) 
        2 35777.
                4n+6n
    (f) bn  1 +
                2.

2.2.2.

    (a) 32, which is 26 + 6.

                                              8and constant di erence 6, so
      (b)The sequence is arithmetic, witha0 

      an  8 + 6n.

          (c)30500.We want8+14+       +602.Reverse and add to get 100 sums

              of 610, a total of 61000, which is twice the sum we are looking for.

2.2.3.

  (a) 36.

      253   36
  (b) 
                 4554.
        2

2.2.4.

        (a) n +2terms, since to get 1 using the formula6n +7we must use

          n   1. Thus we have n terms, plus two, when n   0 and n   1.                                                  Selected Solutions359

    (b) 6n + 1, which is 6 less than 6n + 7 (or plug in n 1 for n).

      6n+8n+2
      (c).Reverse and add. Each sum gives the constant6n +8and
        2
      there are n + 2 terms.

2.2.5. 68117.

      5 3215
      2.2.6..Let the sum beS,and computeS 3S   2S,which causes
      2
    terms except 5 and 5   321to cancel. Then solve for S.

        231
    1+
        3312
2.2.7.. This time compute S +S.
      533

    2.2.8.For arithmetic:x  553, y  293.For geometric:x  9andy  3.

  2.2.9.For arithmetic:x  14, y  23.For geometric:x  5  32513

and y   5   32523.

    2.2.11.We have2 2,7 2+5,15 2+5+8,26 2+5+8+11, and so

      on. The terms in the sums are given by the arithmetic sequencebn 2+3n.

                    n
    In other words,an 2+3k. To  nd the closed formula, we reverse
                    k 0
                      4+3nn+1
      and add. We getan (we haven +1there because there are
                        2
  n + 1 terms in the sum for an).


                            2.3 Exercises

    2.3.1. an  n2+ n.Here we know that we are looking for a quadratic

      because the second di erences are constant. Soan  an2+ bn + c.Since

    a0  0, we know c   0. So just solve the system

                            2   a + b

                            6   4a + 2b

          13
2.3.2. an n+ 5n + 6.
          6

          132
2.3.3. an n+ 6n+ 11n + 12.
          6

          132
2.3.4. an n+ 6n+ 11n + 18.
          6

2.3.6. an  n2 n + 1.

2.3.7. an  n3+ n2 n + 1

    2.3.8. an1  n 12+3n 1 +4  n2+ n +2.Thusan an1 2n +2.

      Note that this is linear (arithmetic). We can check that we are correct. The

    sequenceanis4;8;14;22;32; : : :and the sequence of di erences is thus

    4;6;8;10; : : : which agrees with 2n + 2 (if we start at n   1).

      2.3.9. an1  an12+bn1+c   an22an+a+bnb+c. Therefore

    an an1 2an a + b, which is arithmetic. Notice that this is not quite

      the derivative of an, which would be 2an + b, but it is close.  360 B. Selected Solutions

        2.3.10.No. The sequence of di erences is the same as the original

    sequence so no di erences will be constant.

          2.3.11.No. The sequence is geometric, and in fact has closed formula

      2 3n. This is an exponential function, which is not equal to any polynomial

      of any degree. If thenth sequence of di erences was constant, then the

      closed formula for the original sequence would be a degreenpolynomial.


                              2.4 Exercises

        2.4.1.171 and 341.an  an1+2an2witha0 3anda1 5. Closed
              8n1n
        formula:an 2+1. To  nd this solve the characteristic equation,
              33
        x2 x 2 0, to get characteristic rootsx  2andx   1. Then solve the

system

                              3   a + b

                              5   2a b

                    1
          2.4.3. an 3+2n+.We should use telescoping or iteration here. For

    example, telescoping gives

                                        1
                              a1 a0  2
                                        2
                              a2 a1  2
                                        3
                              a3 a2  2

                                    ::
                                    ::
                                    ::
                                        n
                            an an1  2

                                1
        which sums toan a0 2n+2(using the multiply-shift-subtract

      technique from Section 3.2 for the right-hand side). Substitutinga0 5

    and solving for ancompletes the solution.

        2.4.4.We claiman 4nworks. Plug it in:4n 34n1 +44n2. This

  works - just simplify the right-hand side.

      2.4.5. By the Characteristic Root Technique. an  4n+ 1n.

            13n12n
  2.4.6. an 4+1.
            55

            19n9n
  2.4.7. an 2+5.
            77

2.4.10.

    (a) an  4an1+ 5an2.

    (b) 4, 21, 104, 521, 2604, 13021

          5n1n
  (c) an 5+1.
          66                                                  Selected Solutions361


      2.4.12.We have characteristic polynomialx22x +1, which hasx  1as

      the only repeated root. Thus using the characteristic root technique for

      repeated roots, the general solution isan  a + bnwhereaandbdepend

on the initial conditions.

(a) an  1 + n.

      (b) For example, we could have a0  21 and a1  22.

    (c) For every x. Take a0  x 9 and a1  x 8.


                            2.5 Exercises

2.5.1.

      (a)If we have a number of beans ending in a 5 and we double it, we will

            get a number of beans ending in a 0 (since5 2 10). Then if we

        subtract 5, we will once again get a number of beans ending in a 5.

          Thus if on any day we have a number ending in a 5, the next day will

      also have a number ending in a 5.

          (b)If you don’tstartwith a number of beans ending in a 5 (on day 1),

          the above reasoning is still correct but not helpful. For example, if

        you start with a number ending in a 3, the next day you will have a

      number ending in a 1.

          (c)Part (b) is the base case and part (a) is the inductive case. If on day 1

        we have a number ending in a 5 (by part (b)), then on day 2 we will

          also have a number ending in a 5 (by part (a)). Then by part (a) again,

          we will have a number ending in a 5 on day 3. By part (a) again, this

        means we will have a number ending in a 5 on day 4

          The proof by induction would say that oneveryday we will have a

          number ending in a 5, and this works because we can start with the

          base case, then use the inductive case over and over until we get up

      to our desired n.

2.5.2.
                                                        1
  Proof. We must prove that1+2+22+23+       +2n 2n+1for all
                                                          1
      n 2 N. Thus letPnbe the statement1+2+22+2n 2n+1. We
                                                     +

    will prove thatPnis true for alln 2 N. First we establish the base case,
                            11
      P0, which claims that1 20+1. Since21 21 1, we see that

    P0is true. Now for the inductive case. Assume thatPkis true for an
                                            1
    arbitraryk 2 N. That is,1+2+22+     +2k 2k+1. We must show that
                                          1k+2
      Pk +1is true (i.e., that1+2+22+       +2k+ 21). To do this, we

    start with the left-hand side of Pk + 1 and work to the right-hand side:

          2kk+1k+1k+1
      1 + 2 + 2+       + 2+ 2  2 1 + 2by inductive hypothesis

                                k+1
                            2   2 1  362 B. Selected Solutions

                              k+2
                              2 1

        ThusPk +1is true so by the principle of mathematical induction,

  Pn is true for all n 2 N. 

2.5.3.

        Proof. LetPnbe the statement “7n1is a multiple of 6.” We will

          showPnis true for alln 2 N. First we establish the base case,P0. Since

          701 0, and0is a multiple of 6,P0is true. Now for the inductive case.

          AssumePkholds for an arbitraryk 2 N. That is,7k1is a multiple of 6,
                                                                1
        or in other words, 7k 1   6j for some integer j. Now consider 7k+ 1:

      k+1k+1
        7 1   7 7 + 6by cleverness: 1   7 + 6

                  k
                    77 1 + 6factor out a 7 from the  rst two terms

                  76j + 6by the inductive hypothesis

                67j + 1factor out a 6

                1
        Therefore7k+1is a multiple of 6, or in other words,Pk +1is true.

      Therefore by the principle of mathematical induction,Pnis true for all

n 2 N. 

2.5.4.

    Proof. LetPnbe the statement1+3+5+       + 2n 1   n2. We

        will prove thatPnis true for alln  1. First the base case,P1. We

        have1 12which is true, soP1is established. Now the inductive

        case. Assume thatPkis true for some  xed arbitraryk  1. That is,

        1+3+5+       + 2k 1   k2. We will now prove thatPk +1is also true

        (i.e., that1+3+5+       + 2k +1   k +12). We start with the left-hand

    side of Pk + 1 and work to the right-hand side:

                                        2
        1 + 3 + 5 +       + 2k 1 + 2k + 1   k+ 2k + 1by ind. hyp.
                                              2
                                        k + 1by factoring

          ThusPk +1holds, so by the principle of mathematical induction,

  Pn is true for all n   1. 

2.5.5.

        Proof. LetPnbe the statementF0+ F2+ F4+       + F2n  F2n+1. We
                                                            1
          will show thatPnis true for alln  0. First the base case is easy because

      F0 0andF1 1soF0  F11. Now consider the inductive case. Assume

          Pkis true, that is, assumeF0+F2+F4+     +F2k  F2k+1. To establish
                                                      1
    Pk + 1 we work from left to right:

        F0+ F2+       + F2k+ F2k+  F2k+ 1 + F2k+by ind. hyp.
                            212

                                F2k++ F2k+ 1
                                    12                                                  Selected Solutions363


                                F2k+ 1by recursive def.
                                3

        ThereforeF0+ F2+ F4+       + F2k+  F2k+1, which is to sayPk +1
                                23
      holds. Therefore by the principle of mathematical induction,Pnis true

for all n   0. 

2.5.6.

    Proof. LetPnbe the statement2n< n!. We will showPnis true for

      alln  4. First, we check the base case and see that yes,24<4!(as16<24)

    soP4is true. Now for the inductive case. AssumePkis true for an
                                                      1
    arbitraryk  4. That is,2k< k!. Now considerPk +1:2k+< k +1!. To

  prove this, we start with the left side and work to the right side.

        k+1k
        2  2   2

                < 2   k!by the inductive hypothesis

              < k + 1   k!since k + 1 > 2

              k + 1!

              1
        Therefore 2k+< k + 1! so we have established Pk + 1. Thus by the

      principle of mathematical induction Pn is true for all n   4. 

      2.5.12.The only problem is that we never established the base case. Of

  course, when n   0, 0 + 3 , 0 + 7.

2.5.13.

    Proof. LetPnbe the statement thatn +3< n +7. We will prove that

    Pnis true for alln 2 N. First, note that the base case holds:0+3<0+7.

    Now assume for induction thatPkis true. That is,k +3< k +7. We must

    show thatPk +1is true. Now sincek +3< k +7, add 1 to both sides.

  This givesk +3+1< k +7+1. Regroupingk +1 +3< k +1 +7. But

      this is simplyPk +1. Thus by the principle of mathematical induction

Pn is true for all n 2 N. 

    2.5.14.The problem here is that whileP0is true, and whilePk !

    Pk +1forsomevalues ofk, there is at least one value ofk(namelyk  99)

      when that implication fails. For a valid proof by induction,Pk ! Pk+1

    must be true for all values of k greater than or equal to the base case.

    2.5.16.We once again failed to establish the base case: whenn  0,

n2+ n   0 which is even, not odd.

  2.5.19. The proof will be by strong induction.

      Proof. LetPnbe the statement “nis either a power of 2 or can be written

    as the sum of distinct powers of 2.” We will show thatPnis true for all

n   1.

      Base case: 1   20is a power of 2, so P1 is true.  364 B. Selected Solutions

        Inductive case: SupposePkis true for allk < n. Now ifnis a power

      of 2, we are done. If not, let2xbe the largest power of 2 strictly less thann.

          Considern 2x, which is a smaller number, in fact smaller than bothn

          and2x. Thusn 2xis either a power of 2 or can be written as the sum of

      distinct powers of 2, but none of them are going to be2x, so the together

      with 2xwe have written n as the sum of distinct powers of 2.

          Therefore, by the principle of (strong) mathematical induction,Pnis

  true for all n   1. 

      2.5.25.The idea here is that if we take the logarithm ofan, we can increase

      nby 1 if we multiply by anothera(inside the logarithm). This results in

  adding 1 more loga to the total.

        Proof. LetPnbe the statementlogan   n loga. The base case,P2

      is true, becauseloga2   loga   a   loga + loga  2loga, by the

      product rule for logarithms. Now assume, for induction, thatPkis true.
                                          1
      That is, logak   k loga. Consider logak+. We have

            k+1kk
            loga   loga  a   loga + loga   k loga + loga,

      with the last equality due to the inductive hypothesis. But this simpli es

      tok +1loga, establishingPk +1. Therefore by the principle of

      mathematical induction, Pn is true for all n   2. 


                          2.6 Chapter Review

        430 107
  2.6.1.  23005.
        2

2.6.2.

    (a) n + 2 terms.

  (b) 4n + 2.

        4n + 8n + 2
  (c).
            2

2.6.3.

        (a) 2;10;50;250; : : : The sequence is geometric.

      2 2   525
  (b).
          4

  2.6.5. an  n2+ 4n 1.

2.6.6.

          (a)The sequence of partial sums will be a degree 4 polynomial (its

              sequence of di erences will be the original sequence).

          (b)The sequence of second di erences will be a degree 1 polynomial -

        an arithmetic sequence.                                                  Selected Solutions365

2.6.7.

  (a) 4;6;10;16;26;42; : : :.

          (b)No, taking di erences gives the original sequence back, so the

        di erences will never be constant.

2.6.8. bn  n + 3n.

2.6.10.

  (a) 1;2;16;68;364; : : :.

        34
              nn
(b) an 2+5.
        77

2.6.11.

(a) a2  14. a3  52.

        15
              nn
(b) an 2+4.
        66

2.6.12.

      (a)On the  rst day, your 2 mini bunnies become 2 large bunnies. On day

        2, your two large bunnies produce 4 mini bunnies. On day 3, you

          have 4 mini bunnies (produced by your 2 large bunnies) plus 6 large

          bunnies (your original 2 plus the 4 newly matured bunnies). On day

        4, you will have12mini bunnies (2 for each of the 6 large bunnies)

          plus 10 large bunnies (your previous 6 plus the 4 newly matured).

        The sequence of total bunnies is2;2;6;10;22;42: : :starting with

      a0  2 and a1  2.

        (b) an  an1+2an2. This is because the number of bunnies is equal

          to the number of bunnies you had the previous day (both mini and

        large) plus 2 times the number you had the day before that (since

          all bunnies you had 2 days ago are now large and producing 2 new

    bunnies each).

          (c)Using the characteristic root technique, we  ndan  a2n+ b1n,
                                        4n2n
        and we can  nd a and b to give an 2+1.
                                      33

    2.6.17.LetPnbe the statement, “every set containingnelements has

    2ndi erent subsets.” We will showPnis true for alln  1. Base case:

    Any set with 1 elementfaghas exactly 2 subsets: the empty set and

    the set itself. Thus the number of subsets is2 21. ThusP1is true.

      Inductive case: SupposePkis true for some arbitraryk  1. Thus every

      set containing exactlykelements has2kdi erent subsets. Now consider

    a set containingk +1elements:A   fa1; a2; : : : ; ak; ak+g. Any subset of
                                                  1
    Amust either containak+or not. In other words, a subset ofAis just a
                      1
      subset offa1; a2; : : : ; akgwith or withoutak+. Thus there are2ksubsets of
                                        1
                                  1
      Awhich containak+and another2k+subsets ofAwhich do not contain
                1  366 B. Selected Solutions

    1kkkk+1
        ak+. This gives a total of2+2 2 2 2subsets ofA. But our choice

      ofAwas arbitrary, so this works for any subset containingk +1elements,

      soPk +1is true. Therefore, by the principle of mathematical induction,

  Pn is true for all n   1.


                              3.1 Exercises

3.1.1.

          (a) P: it’s your birthday; Q: there will be cake. P _ Q ! Q

        (b) Hint: you should get three T’s and one F.

      (c) Only that there will be cake.

      (d) It’s NOT your birthday!

      (e) It’s your birthday, but the cake is a lie.

3.1.2.
                      PQP _ Q ! P ^ Q

                      TTT

                      TFF

                      FTF

                      FFT

3.1.3.
                        PQ:P ^ Q ! P

                        TTF

                        TFF

                        FTF

                        FFT

          If the statement is true, then both P and Q are false.

          3.1.6.Make a truth table for each and compare. The statements are

  logically equivalent.

3.1.8.

  (a) P ^ Q.

          (b) :P_:R ! Q_:Ror, replacing the implication with a disjunction

         rst: P ^ Q _ Q _ :R.

        (c) P ^ Q ^ R ^ :R. This is necessarily false, so it is also equivalent

      to P ^ :P.

          (d) Either Sam is a woman and Chris is a man, or Chris is a woman.

      3.1.12.The deduction rule is valid. To see this, make a truth table which

      containsP _Qand:P(andPandQof course). Look at the truth value of

      Q in each of the rows that have P _ Q and :P true.                                                  Selected Solutions367

3.1.16.

(a) 8x9yOx ^ :Ey.

  (b) 9x8yx   y _ 8zx   z ^ y   z.

      (c)There is a numbernfor which every other number is strictly greater

    than n.

      (d) There is a number n which is not between any other two numbers.


                            3.2 Exercises

3.2.1.

        (a) For all integers a and b, if a or b is not even, then a + b is not even.

      (b) For all integers a and b, if a and b are even, then a + b is even.

                                               bis even butaandbare
  (c)There are numbersaandbsuch thata +

      not both even.

        (d)False. For example,a  3andb  5.a + b  8, but neitheranorb

    are even.

      (e) False, since it is equivalent to the original statement.

        (f)True. Letaandbbe integers. Assume both are even. Thena  2k

            andb  2jfor some integerskandj. But thena+b  2k+2j  2k+j

    which is even.

    (g) True, since the statement is false.

3.2.2.

        (a)Proof by contradiction. Start of proof: Assume, for the sake of

        contradiction, that there are integersxandysuch thatxis a prime

        greater than 5 andx  6y+3. End of proof: . . . this is a contradiction,

      so there are no such integers.

        (b)Direct proof. Start of proof: Letnbe an integer. Assumenis a

          multiple of 3. End of proof: Thereforencan be written as the sum of

      consecutive integers.

        (c)Proof by contrapositive. Start of proof: Letaandbbe integers.

            Assume thataandbare even. End of proof: Thereforea2+ b2is

    even.

3.2.3.

  (a) Direct proof.


        Proof.Letnbe an integer. Assumenis even. Thenn  2kfor some

        integer k. Thus 8n   16k   28k. Therefore 8n is even.qed  368 B. Selected Solutions

          (b)The converse is false. That is, there is an integernsuch that8nis

              even butnis odd. For example, considern  3. Then8n  24which

        is even but n   3 is odd.

3.2.4.

          (a)This is an example of the pigeonhole principle. We can prove it by

      contrapositive.


              Proof.Suppose that each number only came up 6 or fewer times. So

              there are at most six 1’s, six 2’s, and so on. That’s a total of 36 dice,

          so you must not have rolled all 40 dice.qed


          (b)We can have 9 dice without any four matching or any four being all

                di erent: three 1’s, three 2’s, three 3’s. We will prove that whenever

            you roll 10 dice, you will always get four matching or all being

      di erent.


          Proof.Suppose you roll 10 dice, but that there are NOT four matching

              rolls. This means at most, there are three of any given value. If we

              only had three di erent values, that would be only 9 dice, so there

              must be 4 di erent values, giving 4 dice that are all di erent. qed


                          3.3 Chapter Review

3.3.1.
                        PQR:P ! Q ^ R

                      TTTT

                      TTFT

                      TFTT

                      TFFT

                      FTTT

                      FTFF

                      FFTF

                      FFFF

          3.3.2.Peter is not tall and Robert is not skinny. You must be in row 6 in

  the truth table above.

      3.3.3.Yes. To see this, make a truth table for each statement and compare.

      3.3.4.Make a truth table that includes all three statements in the argument:                                                  Selected Solutions369


            PQRP ! QP ! RP ! Q ^ R

            TTTTTT

            TTFTFF

            TFTFTF

            TFFFFF

            FTTTTT

            FTFTTT

            FFTTTT

            FFFTTT

          Notice that in every row for which bothP ! QandP ! Ris true, so

    isP ! Q ^ R. Therefore, whenever the premises of the argument are

    true, so is the conclusion. In other words, the deduction rule is valid.

3.3.5.

        (a) Negation: The power goes o  and the food does not spoil.

        Converse: If the food spoils, then the power went o .

          Contrapositive: If the food does not spoil, then the power did not go

    o .

    (b) Negation: The door is closed and the light is on.

          Converse: If the light is o  then the door is closed.

        Contrapositive: If the light is on then the door is open.

    (c) Negation: 9xx < 1 ^ x2  1

      Converse: 8xx2< 1 ! x < 1

      Contrapositive: 8xx2  1 ! x   1.

        (d)Negation: There is a natural numbernwhich is prime but not

    solitary.

          Converse: For all natural numbersn, ifnis solitary, thennis prime.

          Contrapositive: For all natural numbersn, ifnis not solitary thenn

    is not prime.

      (e)Negation: There is a function which is di erentiable and not contin-

    uous.

        Converse: For all functionsf, iffis continuous thenfis di eren-

    tiable.

        Contrapositive: For all functionsf, iffis not continuous thenfis

      not di erentiable.

          (f)Negation: There are integersaandbfor whicha   bis even butaor

    b is odd.  370 B. Selected Solutions

              Converse: For all integersaandb, ifaandbare even thenabis even.

            Contrapositive: For all integersaandb, ifaorbis odd, thenabis

      odd.

          (g)Negation: There are integersxandysuch that for every integern,

      x > 0 and nx   y.

                Converse: For every integerxand every integerythere is an integer

        n such that if nx > y then x > 0.

              Contrapositive: For every integerxand every integerythere is an

        integer n such that if nx   y then x   0.

          (h)Negation: There are real numbersxandysuch thatx y  0butx ,0

      and y , 0.

            Converse: For all real numbersxandy, ifx  0ory  0thenx y  0

              Contrapositive: For all real numbersxandy, ifx ,0andy ,0then

      x y , 0.

          (i)Negation: There is at least one student in Math 228 who does not

            understand implications but will still pass the exam.

                Converse: For every student in Math 228, if they fail the exam, then

        they did not understand implications.

          Contrapositive: For every student in Math 228, if they pass the exam,

          then they understood implications.

3.3.6.

          (a)The statement is true. Ifnis an even integer less than or equal to 7,

              then the only way it could not be negative is ifnwas equal to 0, 2, 4,

      or 6.

        (b)There is an integernsuch thatnis even andn  7butnis not

                negative andn < f0;2;4;6g. This is false, since the original statement

      is true.

        (c)For all integersn, ifnis not negative andn < f0;2;4;6gthennis

              odd orn >7. This is true, since the contrapositive is equivalent to

          the original statement (which is true).

        (d)For all integersn, ifnis negative orn 2 f0;2;4;6gthennis even

          and n   7. This is false. n   3 is a counterexample.

3.3.7.

          (a)For any numberx, if it is the case that adding any number toxgives

              that number back, then multiplying any number byxwill give 0.

              This is true (of the integers or the reals). The “if” part only holds if

          x   0, and in that case, anything times x will be 0.                                                  Selected Solutions371

      (b)The converse in words is this: for any numberx, if everything times

        xis zero, then everything added toxgives itself. Or in symbols:

        8x8zx   z  0 ! 8yx + y   y. The converse is true: the only

          number which when multiplied by any other number gives 0 isx  0.

      And if x   0, then x + y   y.

          (c)The contrapositive in words is: for any numberx, if there is some

          number which when multiplied by x does not give zero, then there

          is some number which when added toxdoes not give that number.

        In symbols:8x9zx   z ,0 ! 9yx + y , y. We know the

          contrapositive must be true because the original implication is true.

      (d)The negation: there is a numberxsuch that any number added tox

          gives the number back again, but there is a number you can multiply

          xby and not get 0. In symbols:9x8yx + y   y ^9zx   z ,0. Of

          course since the original implication is true, the negation is false.

3.3.8.

  (a) :P _ Q ^ :R _ P ^ :R.

  (b) 8x8y8zz   x + y ^ 8wx y , w.

3.3.9.

  (a) Direct proof.


        Proof.Letnbe an integer. Assumenis odd. Son  2k +1for some

    integer k. Then

                    7n   72k + 1   14k + 7   27k + 3 + 1.


          Since 7k + 3 is an integer, we see that 7n is odd.qed


    (b)The converse is: for all integersn, if7nis odd, thennis odd. We will

      prove this by contrapositive.


            Proof.Letnbe an integer. Assumenis not odd. Thenn  2kfor

          some integerk. So7n  14k  27kwhich is to say7nis even.

      Therefore 7n is not odd.qed

3.3.10.

    (a)Suppose you only had 5 coins of each denomination. This means

          you have 5 pennies, 5 nickels, 5 dimes and 5 quarters. This is a total

          of 20 coins. But you have more than 20 coins, so you must have more

      than 5 of at least one type.  372 B. Selected Solutions

          (b)Suppose you have 22 coins, including2knickels,2jdimes, and2l

              quarters (so an even number of each of these three types of coins).

            The number of pennies you have will then be

                      22 2k 2j 2l   211 k j l.

              But this says that the number of pennies is also even (it is 2 times

              an integer). Thus we have established the contrapositive of the

                statement, “If you have an odd number of pennies then you have an

          odd number of at least one other coin type.”

            (c)You need 10 coins. You could have 3 pennies, 3 nickels, and 3 dimes.

              The 10th coin must either be a quarter, giving you 4 coins that are

            all di erent, or else a 4th penny, nickel or dime. To prove this,

              assume you don’t have 4 coins that are all the same or all di erent.

              In particular, this says that you only have 3 coin types, and each of

              those types can only contain 3 coins, for a total of 9 coins, which is

      less than 10.

                              4.1 Exercises

      4.1.1.This is asking for the number of edges inK10. Each vertex (person)

      has degree (shook hands with) 9 (people). So the sum of the degrees is90.

      However, the degrees count each edge (handshake) twice, so there are 45

        edges in the graph. That is how many handshakes took place.

      4.1.2.It is possible for everyone to be friends with exactly 2 people. You

      could arrange the 5 people in a circle and say that everyone is friends with

      the two people on either side of them (so you get the graphC5). However,

      it is not possible for everyone to be friends with 3 people. That would lead

      to a graph with an odd number of odd degree vertices which is impossible

    since the sum of the degrees must be even.

      4.1.4.The graphs are not equal. For example, graph 1 has an edgefa; bg

      but graph 2 does not have that edge. They are isomorphic. One possible

    isomorphism isf:G1! G2de ned byfa   d,fb   c,fc   e,

  fd   b, fe   a.

4.1.9.

  (a) For example:




          (b)This is not possible if we require the graphs to be connected. If not,

              we could take C8as one graph and two copies of C4as the other.                                                  Selected Solutions373

      (c)Not possible. If you have a graph with 5 vertices all of degree 4, then

          every vertex must be adjacent to every other vertex. This is the graph

    K5.

          (d)This is not possible. In fact, there is not even one graph with this

        property (such a graph would have 5   32   7:5 edges).

4.1.10.

    (a) False. (b) True. (c) True. (d) False.

                            4.2 Exercises

4.2.1.

      (a)This is not a tree since it contains a cycle. Note also that there are too

          many edges to be a tree, since we know that all trees withvvertices

    have v 1 edges.

      (b)This is a tree since it is connected and contains no cycles (which you

      can see by drawing the graph). All paths are trees.

    (c)This is a tree since it is connected and contains no cycles (draw the

      graph). All stars are trees.

    (d)This is a not a tree since it is not connected. Note that there are not

      enough edges to be a tree.

4.2.2.

        (a)This must be the degree sequence for a tree. This is because the

        vertex of degree 4 must be adjacent to the four vertices of degree 1

          (there are no other vertices for it to be adjacent to), and thus we get a

    star.

    (b)This cannot be a tree. Each degree 3 vertex is adjacent to all but one

        of the vertices in the graph. Thus each must be adjacent to one of

          the degree 1 vertices (and not the other). That means both degree 3

          vertices are adjacent to the degree 2 vertex, and to each other, so that

      means there is a cycle.

          Alternatively, count how many edges there are!

    (c)This might or might not be a tree. The length 4 path has this degree

            sequence (this is a tree), but so does the union of a 3-cycle and a

        length 1 path (which is not connected, so not a tree).

          (d)This cannot be a tree. The sum of the degrees is 28, so there are 14

        edges. But there are 14 vertices as well, so we don’t havev   e +1,

      meaning this cannot be a tree.

      4.2.6.Yes. We will prove the contrapositive. AssumeGdoes not contain

      a cycle. Then G is a tree, so would have v   e + 1, contrary to stipulation.  374 B. Selected Solutions

4.2.12.

            (a)No, although there are graphs for which this is true. For example,K4

                has a spanning tree that is a path (of three edges) and also a spanning

          tree that is a star (with center vertex of degree 3).

          (b)Yes. For a  xed graph, we have a  xed numbervof vertices. Any

              spanning tree of the graph will also havevvertices, and since it is a

        tree, must have v 1 edges.

          (c)No, although there are graph for which this is true (note that if all

              spanning trees are isomorphic, then all spanning trees will have

              the same number of leaves). Again,K4is a counterexample. One

                spanning tree is a path, with only two leaves, another spanning tree

        is a star with 3 leaves.

                              4.3 Exercises

          4.3.1.No. A (connected) planar graph must satisfy Euler’s formula:

  v e + f   2. Here v e + f   6 10 + 5   1.

                                  2+2+3+4+4+5
      4.3.2. Ghas 10 edges, since10 . It could be planar, and then
                                    2
          it would have 6 faces, using Euler’s formula:610+ f  2meansf  6.

      To make sure that it is actually planar though, we would need to draw a

      graph with those vertex degrees without edges crossing. This can be done

    by trial and error (and is possible).

      4.3.6.Say the last polyhedron hasnedges, and alsonvertices. The total

          number of edges the polyhedron has then is7 3+4 4+n2  37+n2.

      In particular, we know the last face must have an odd number of edges. We

          also have thatv  11. By Euler’s formula, we have11 37+ n2+12 2,

      and solving for n we get n   5, so the last face is a pentagon.

4.3.8.

        Proof. LetPnbe the statement, “every connected planar graph

        containingnedges satis esv n + f  2.” We will showPnis true for

all n   0.

          Base case: there is only one graph with zero edges, namely a single

        isolated vertex. In this casev  1,f  1ande  0, so Euler’s formula

holds.

        Inductive case: SupposePkis true for some arbitraryk  0. Now

      consider an arbitrary graph containingk +1edges (andvvertices andf

      faces). No matter what this graph looks like, we can remove a single edge

      to get a graph withkedges which we can apply the inductive hypothesis

to.

          There are two cases: either the graph contains a cycle or it does not.

      If the graph contains a cycle, then pick an edge that is part of this cycle,

      and remove it. This will not disconnect the graph, and will decrease the                                                  Selected Solutions375

      number of faces by 1 (since the edge was bordering two distinct faces). So

    by the inductive hypothesis we will havev k + f 1 2. Adding the

  edge back will give v k + 1 + f   2 as needed.

          If the graph does not contain a cycle, then it is a tree, so has a vertex of

    degree 1. Then we can pick the edge to remove to be incident to such a

      degree 1 vertex. In this case, also remove that vertex. The smaller graph

    will now satisfyv 1 k + f  2by the induction hypothesis (removing

      the edge and vertex did not reduce the number of faces). Adding the edge

  and vertex back gives v k + 1 + f   2, as required.

            Therefore, by the principle of mathematical induction, Euler’s formula

  holds for all planar graphs. 

4.3.12.

    Proof. We know in any planar graph the number of facesfsatis es

      3f  2esince each face is bounded by at least three edges, but each edge

      borders two faces. Combine this with Euler’s formula:

                          v e + f   2

                                  2e
                          v e +  2
                                  3

                            3v e   6

                            3v 6   e.

                                                                   


                            4.4 Exercises

      4.4.1.2, since the graph is bipartite. One color for the top set of vertices,

    another color for the bottom set of vertices.

    4.4.2.For example,K6. If the chromatic number is 6, then the graph is

      not planar; the 4-color theorem states that all planar graphs can be colored

with 4 or fewer colors.

      4.4.3.The chromatic numbers are 2, 3, 4, 5, and 3 respectively from left to

right.

      4.4.5.The cube can be represented as a planar graph and colored with

two colors as follows:
                                      BR
                                  RB

                            RB
                          BR

          Since it would be impossible to color the vertices with a single color,

  we see that the cube has chromatic number 2 (it is bipartite).  376 B. Selected Solutions

      4.4.9.The wheel graph below has this property. The outside of the wheel

      forms an odd cycle, so requires 3 colors, the center of the wheel must be

    di erent than all the outside vertices.






          4.4.12.If we drew a graph with each letter representing a vertex, and

        each edge connecting two letters that were consecutive in the alphabet, we

      would have a graph containing two vertices of degree 1 (A and Z) and the

      remaining 24 vertices all of degree 2 (for example,Dwould be adjacent to

      bothCandE). By Brooks’ theorem, this graph has chromatic number at

      most 2, as that is the maximal degree in the graph and the graph is not a

        complete graph or odd cycle. Thus only two boxes are needed.

4.4.13.

                              4.5 Exercises

      4.5.1.This is a question about  nding Euler paths. Draw a graph with

      a vertex in each state, and connect vertices if their states share a border.

      Exactly two vertices will have odd degree: the vertices for Nevada and

      Utah. Thus you must start your road trip at in one of those states and end

  it in the other.

4.5.2.

        (a) K4does not have an Euler path or circuit.

      (b) K5has an Euler circuit (so also an Euler path).

        (c) K5;does not have an Euler path or circuit.
        7

      (d) K2;has an Euler path but not an Euler circuit.
        7

        (e) C7has an Euler circuit (it is a circuit graph!)

      (f) P7has an Euler path but no Euler circuit.

          4.5.8.If we build one bridge, we can have an Euler path. Two bridges

    must be built for an Euler circuit.                                                  Selected Solutions377


                            4.6 Exercises

      4.6.1.The  rst and third graphs have a matching, shown in bold (there

      are other matchings as well). The middle graph does not have a matching.

      If you look at the three circled vertices, you see that they only have two

      neighbors, which violates the matching conditionjNSj jSj(the three

circled vertices form the set S).





                        4.7 Chapter Review

      4.7.1.The  rst and the third graphs are the same (try dragging vertices

      around to make the pictures match up), but the middle graph is di erent

      (which you can see, for example, by noting that the middle graph has only

    one vertex of degree 2, while the others have two such vertices).

      4.7.2.The  rst (and third) graphs contain an Euler path. All the graphs

are planar.

4.7.3. For example, K5.

4.7.4. For example, K3;.
                    3

4.7.5.

      (a)Yes, the graphs are isomorphic, which you can see by drawing them.

      One isomorphism is:

                            
                            a b c d e f g
                      f  .
                            u z v x w y t


        (b) This is easy to do if you draw the picture. Here is such a graph:






          Any labeling of this graph will be not isomorphic toG. For example,

            we could takeV00  fa; b; c; d; e; f; ggandE00  fab; ac; ad; be; c f; dgg.

    (c) The degree sequence for G is 3;3;2;1;1;1;1.

    (d)In general this should be possible: the degree sequence does not

          determine the graph’s isomorphism class. However, in this case, I

          was almost certain this was not possible. That is, until I stumbled up

    this:  378 B. Selected Solutions







      (e) G is a tree (there are no cycles) and as such also bipartite.

          (f)Yes, all trees are planar. You can draw them in the plane without

      edges crossing.

        (g)The chromatic number ofGis 2. It shouldn’t be hard to give a

              2-coloring (for example, colora; d; e; gred andb; c; fblue), but we

          know that all bipartite graphs have chromatic number 2.

          (h)It is clear from the drawing that there is no Euler path, let alone

              an Euler circuit. Also, since there are more than 2 vertices of odd

          degree, we know for sure there is no Euler path.

      4.7.6.Yes. According to Euler’s formula it would have 2 faces. It does.

  The only such graph is C10.

4.7.7.

    (a) Only if n   6 and is even.

  (b) None.

                                  5n
        (c)12. Such a graph would haveedges. If the graph is planar, then
                                  2
           5n4+3n
            n+ f  2so there would befaces. Also, we must have
          22 
                                                            4+3n
          3f  2e, since the graph is simple. So we must have3 5n.
                                                            2
        Solving for n gives n   12.

4.7.8.

          (a)There were 24 couples: 6 choices for the girl and 4 choices for the

      boy.

                              10 
        (b)There were 45 couples:since we must choose two of the 10
                              2
        people to dance together.

          (c)For part (a), we are counting the number of edges inK4;. In part (b)
                                                          6
        we count the edges of K10.

      4.7.9.Yes, as long asnis even. Ifnwere odd, then corresponding graph

      would have an odd number of odd degree vertices, which is impossible.

4.7.10.

          (a)No. The 9 triangles each contribute 3 edges, and the 6 pentagons

                contribute 5 edges. This gives a total of 57, which is exactly twice the

              number of edges, since each edge borders exactly 2 faces. But 57 is

        odd, so this is impossible.                                                  Selected Solutions379

      (b)Now adding up all the edges of all the 16 polygons gives a total of 64,

          meaning there would be 32 edges in the polyhedron. We can then

            use Euler’s formulav e + f  2to deduce that there must be 18

    vertices.

      (c)If you add up all the vertices from each polygon separately, we get a

        total of 64. This is not divisible by 3, so it cannot be that each vertex

        belongs to exactly 3 faces. Could they all belong to 4 faces? That

          would mean there were644 16vertices, but we know from Euler’s

        formula that there must be 18 vertices. We can write64 3x +4y

            and solve forxandy(as integers). We get that there must be 10

          vertices with degree 4 and 8 with degree 3. (Note the number of faces

        joined at a vertex is equal to its degree in graph theoretic terms.)

    4.7.11.No. Every polyhedron can be represented as a planar graph,

      and the Four Color Theorem says that every planar graph has chromatic

number at most 4.

      4.7.12. Kn;hasn2edges. The graph will have an Euler circuit whennis
        n
  even. The graph will be planar only when n < 3.

    4.7.13. Ghas 8 edges (since the sum of the degrees is 16). IfGis planar,

    then it will have 4 faces (since68+4 2).Gdoes not have an Euler path

  since there are more than 2 vertices of odd degree.

      4.7.14.7colors. ThusK7is not planar (by the contrapositive of the Four

Color Theorem).

    4.7.15.The chromatic number ofK3;is 2, since the graph is bipartite.
                                  4
      You cannot say whether the graph is planar based on this coloring (the

      converse of the Four Color Theorem is not true). In fact, the graph isnot

    planar, since it contains K3;as a subgraph.
                        3

    4.7.16.We have thatK3;has 7 vertices and 12 edges (each vertex in
                        4
    the group of 3 has degree 4). Then by Euler’s formula we have that

  712+ f  2so if the graph were planar, it would havef  7faces.

      However, since the girth of the graph is 4 (there are no cycles of length 3)

    we get that 4f   2e. But this would mean that 28   24, a contradiction.

    4.7.17.For all these questions, we are really coloring the vertices of a

      graph. You get the graph by  rst drawing a planar representation of the

      polyhedron and then taking its planar dual: put a vertex in the center of

      each face (including the outside) and connect two vertices if their faces

share an edge.

          (a)Since the planar dual of a dodecahedron contains a 5-wheel, it’s

          chromatic number is at least 4. Alternatively, suppose you could

          color the faces using 3 colors without any two adjacent faces colored

          the same. Take any face and color it blue. The 5 pentagons bordering  380 B. Selected Solutions

              this blue pentagon cannot be colored blue. Color the  rst one red.

                Its two neighbors (adjacent to the blue pentagon) get colored green.

                The remaining 2 cannot be blue or green, but also cannot both be red

              since they are adjacent to each other. Thus a 4th color is needed.

          (b)The planar dual of the dodecahedron is itself a planar graph. Thus

                by the 4-color theorem, it can be colored using only 4 colors without

          two adjacent vertices (corresponding to the faces of the polyhedron)

        being colored identically.

          (c)The cube can be properly 3-colored. Color the “top” and “bottom”

              red, the “front” and “back” blue, and the “left” and “right” green.

4.7.18.

          (a)False. To prove this, we can give an example of a pair of graphs with

                the same chromatic number that are not isomorphic. For example,

                K3;andK3;both have chromatic number 2, but are not isomorphic.
        34

            (b)False. The previous example does not work, but you can easily draw

              two trees that have the same number of vertices and edges but are

              not isomorphic. Since all trees have chromatic number 2, this is a

      counterexample.

        (c)True. If there is an isomorphism fromG1toG2, then we have a

              b¼ection that tells us how to match up vertices between the graph.

              Any proper vertex coloring ofG1will tell us how to properly color

            G2, simply by coloringfvithe same color asvi, for each vertex

            vi2 V. That is, color the vertices inG2exactly how you color the

            corresponding vertices inG1. Similarly, any proper vertex coloring of

                G2corresponds to a proper vertex coloring ofG1. Thus the smallest

              number of colors needed to properly colorG1cannot be smaller

                than the smallest number of colors needed to properly colorG2, and

            vice-versa, so the chromatic numbers must be equal.

    4.7.19. G has 13 edges, since we need 7 e + 8   2.

4.7.20.

          (a)The graph does have an Euler path, but not an Euler circuit. There

                are exactly two vertices with odd degree. The path starts at one and

      ends at the other.

          (b)The graph is planar. Even though as it is drawn edges cross, it is

          easy to redraw it without edges crossing.

          (c) The graph is not bipartite (there is an odd cycle), nor complete.

        (d) The chromatic number of the graph is 3.                                                  Selected Solutions381

4.7.21.

      (a) False. For example, K3;is not planar.
                        3

    (b)True. The graph is bipartite so it is possible to divide the vertices

          into two groups with no edges between vertices in the same group.

        Thus we can color all the vertices of one group red and the other

    group blue.

          (c) False. K3;has 6 vertices with degree 3, so contains no Euler path.
            3

  (d) False. K3;again.
            3

    (e)False. The sum of the degrees of all vertices is even forallgraphs so

          this property does not imply that the graph is bipartite.

4.7.22.

      (a) If a graph has an Euler path, then it is planar.

        (b) If a graph does not have an Euler path, then it is not planar.

          (c) There is a graph which is planar and does not have an Euler path.

    (d) Yes. In fact, in this case it is because the original statement is false.

    (e) False. K4is planar but does not have an Euler path.

      (f) False. K5has an Euler path but is not planar.


                            5.1 Exercises

5.1.1.
      42x31
(a).(c).(f).
    1 x21 5x2
                            1 x
                                                      x
                              1
                                                (g).
                        (d).32
                                                    1 x
                            1 5x
      2
                              1
(b).
                                  .
                        (e)
    1 x2
                            1 + 3x
5.1.2.

  (a) 0;4;4;4;4;4; : : :.

  (b) 1;4;16;64;256; : : :.

  (c) 0;1;1;1;1;1;1; : : :.

  (d) 0;3;6;9;12;15;18; : : :.

  (e) 1;3;6;9;12;15; : : :.

      5.1.4.Call the generating functionA. ComputeAxA  4+x+2x2+3x3+
                            x4x
  4x4+     . ThusA xA  4+. Solving forAgives+.
                            1 x21 x1 x3  382 B. Selected Solutions

          1 + 2x
5.1.5..
        1 3x + x2

      5.1.6.ComputeAxAx2Aand the solve forA. The generating function
            x
will be.
        1 x x2

              x
5.1.7..
        1 x1 x x2

          27
5.1.8.+
                      .
        1 5x1 + 3x

  5.1.9. an  3   4n1+ 1.

5.1.12.

        1
  (a).
        22
      1x

        1
  (b).
          2
      1+x

        3x
  (c).
          2
      1x

        3x
  (d). (partial sums).
          3
      1x

5.1.13.

    (a) 0;0;1;1;2;3;5;8; : : :.

      (b) 1;0;1;0;2;0;3;0;5;0;8;0; : : :.

    (c) 1;3;18;81;405; : : :.

    (d) 1;2;4;7;12;20; : : :.

          x31
5.1.15.+
            21x.
        1x

                              5.2 Exercises

5.2.1.

          Proof. Supposea j b. Thenbis a multiple ofa, or in other words,b   ak

          for somek. But thenbc   akc, and sincekcis an integer, this saysbcis a

  multiple of a. In other words, a j bc. 

    5.2.3. f: : : ;8;4;0;4;8;12; : : :g, f: : : ;7;3;1;5;9;13; : : :g,

        f: : : ;6;2;2;6;10;14; : : :g, and f: : : ;5;1;3;7;11;15; : : :g.

5.2.5.

        Proof. Assumea   b mod nandc   d mod n. This meansa   b+kn

      and c   d + jn for some integers k and j. Consider a c. We have:

                  a c   b + kn d + jn   b d + k jn.

            In other words,acisbdmore than some multiple ofn, soac   bd

  mod n.                                                   Selected Solutions383

5.2.6.

  (a) 3456  1456  1 mod 2.

    (b) 3456  9228  1228  1 mod 5.

    (c) 3456  9228  2228  876  176  1 mod 7.

    (d) 3456  9228  0228  0 mod 9.

      5.2.8.For all of these, just plug in all integers between 0 and the modulus

to see which, if any, work.

(a) No solutions.

  (b) x   2, x   5, x   8.

  (c) No solutions.

5.2.10. x   5 + 22k for k 2 Z.

5.2.12. x   6 + 15k for k 2 Z.

    5.2.14.We must solve7x+5 2mod11. This givesx  9mod11. In

      general,x  9+11k, but when you divide any suchxby 11, the remainder

will be 9.

    5.2.15.Divide through by 2:3x +5y  16. Convert to a congruence,

  modulo 3:5y  16mod3, which reduces to2y  1mod3. Soy  2

        mod3ory  2+3k. Plug this back into3x +5y  16and solve forx,

  to getx  25k. So the general solution isx  25kandy  2+3kfor

k 2 Z.  384 B. Selected Solutions                          Appendix C


                  List of Symbols




  Symbol Description Page

  P;Q; R;S; : : : propositional (sentential) variables 6

    ^logical “and” (conjunction) 6

  _logical “or” (disjunction) 6

:logical negation 6

  9existential quanti er 15

  8universal quanti er 15

  ;the empty set 27

  Uuniverse set (domain of discourse) 27

  Nthe set of natural numbers 27

Zthe set of integers 27

    Qthe set of rational numbers 27

  Rthe set of real numbers 27

  PAthe power set of A27

    f; gbraces, to contain set elements. 27

:“such that” 27

2“is an element of” 27

   “is a subset of” 27

   “is a proper subset of” 27

\set intersection 27

[set union 27

   Cartesian product 27

nset di erence 27

  Athe complement of A27

  jAjcardinality (size) of A27

  A   Bthe Cartesian product of A and B33

  fAthe image of A under f. 48

    f1Bthe inverse image of B under f. 48

  Bnthe set of length n bit strings 72
n
      Bthe set of lengthnbit strings with weightk.72
k
    ann2the sequence a0; a1; a2; : : :136
    N
  Tnthe nth triangular number 140

  Fnthe nth Fibonacci number 145

   kthe kth di erences of a sequence 161

                                        (Continued on next page)

                                385  386 C. List of Symbols


  Symbol Description Page

        Pnthenth case we are trying to prove by induc-177

                tion

    42the ultimate answer to life, etc. 178

    )“therefore” 197

      Knthe complete graph on n vertices 239

      Knthe complete graph on n vertices. 241

  Km;
        nthe complete bipartite graph ofmandn241
                vertices.

    Cnthe cycle on n vertices 241

      Pnthe path on n + 1 vertices 241

     Gthe chromatic number of G268

     Gthe maximum degree in G271
  0
       Gthe chromatic index of G272

      NSthe set of neighbors of S. 284                            Index




additive principle, 57cardinality, 30

adjacentof a set, 27

      edges, 242Cartesian product, 27, 33

    vertices, 232, 242cases, 221

      ancestor (in a rooted tree), 251characteristic equation, 172

      and (logical connective), 6characteristic polynomial, 172

          truth condition for, 6characteristic roots, 171, 172, 175

argument, 197chessboard

  arithmetic sequencecounting squares on, 160

    summing, 152rook paths, 70

  atomic statement, 4child (in a rooted tree), 251
                                      chordal graph, 271
    balls and bins, See stars and barschromatic index, 272

    base case, 179, 180, 186chromatic number, 242, 268

biconditional, 6circuit, 277

  b¼ection, 45, 47, 50Euler, 277

binary connective, 5clique, 271

  binary digit, See bitclosed formula, 138

  binomial coe cient, 74, 123for a function, 43

  binomial identity, 90for a sequence, 162

    examples of, 90codomain, 39, 50

  bipartite graph, 241, 242coloring

bit, 72edges, 272

  bit string, 72vertices, 268

    as code for a subset, 73combination, 81

        combinatorial proofvs permutation, 84, 123, 128,

        involving, 101129

          correspondence with latticecombinatorial proof, 89, 95

          path, 74complement of a set, 27, 31

      length, 72complete bipartite graph, 241,

    relation to stars and bars, 105242

      weight, 72complete graph, 239, 241, 242

    Boolean variable, Seecomplete inverse image, 48, 50

            propositional variablecomplex numbers (as

    bow ties, 129, 353characteristic roots), 175

    breadth  rst search, 253composition of functions, 55

  Brooks’ Theorem, 272conclusion, 197
                                      conditional, 6

  Canadians, set of, 184congruence

                                387388 Index


      solving, 317Doctor Who, 24

  conjunction, 6dodecahedron, 264

      connected graph, 239, 242domain, 39, 50

      connectives, 5domain of discourse, See

    contradiction, 218universe set

    contrapositive, 10domino, 136

        proof by, 216double negation, 203

  converse, 10

    convex polyhedron, 262edge, 232, 242

      counterexample, 220element of a set, 24

  counting, 57empty set, 27

          edges in a graph, 240enumeration, See counting

  cube, 262equivalence relation, 311

      cycle, 242, 243Euclidean algorithm, 320

          Hamilton, 277, 279Euler circuit, 242, 277

        type of graph, 241Euler path, 242, 277
                                        exclusive or, 6
  De Morgan’s laws, 202
                                          existential quanti er, 15
  deduction rule, 205

      degree, 239, 242face (planar graph), 258

        degree sequence, 240factorial, 82

          maximum, 271Fibonacci sequence, 138

        sum formula, 240di erences, 164

         k-constant, 161, 162recurrence relation, 167, 173

    depth  rst search, 253 nite di erences, 162

      derangement, 115for all (quanti er), 15

    descendant (in a rooted tree), 251forest, 243

        di erence equation, SeeFour Color Theorem, 269

            recurrence relationfree variable, 15

    di erence of sets, 27, 31function, 39, 50

      di erences of a sequence, 160counting, 107, 117, 122, 123

      Diophantine equation, 319how to describe, 40

      solution, 320notation, 50

  direct proof, 215
                                            two-line notation, 41, 50
  disjoint events, 58

      disjunction, 6gcd,Seegreatest common divisor

    distribution (counting), 103generating function, 295

      with upper bounddi erencing, 299

              restriction, 111multiplication and partial

    divides, 308sums, 301

    divisibility relation, 307, 308recurrence relation, 302

    division algorithm, 310geometric sequence

    division with remainder, Seesumming, 154

            division algorithmgirth, 261                                                          Index389


      Goldbach conjecture, 227greatest common divisor, 316

golden ratio, 173

  graph, 232, 242Hall’s Marriage Theorem, 285

      adjacent, 232, 242Hamilton cycle, 277, 279
                                        Hamilton path, 277, 279
    bipartite, 241, 242
                                      handshake lemma, 240
  chordal, 271
                                      Hanoi, 135
    chromatic index, 272
                                      homogeneous
    chromatic number, 242, 268,
                                          recurrence relation, 175
      269

  clique, 271
                                      icosahedron, 264
    complete, 239, 241, 242
                                        if and only if (logical connective),
      complete bipartite, 241, 242
                                            6
    connected, 239, 242
                                          truth condition for, 6
    cycle, 241–243
                                      if. . . , then. . . (logical
    degree, 239, 242
                                              connective), 6
    degree sequence, 240
                                          truth condition for, 6
  drawing, 234
                                      i , See if and only if
  edge, 232
                                    image, 48
    Euler circuit, 242
                                        of a set, 48
  Euler path, 242
                                          of a subset, 50
  forest, 243
                                          of an element, 39, 50
  girth, 261
                                      implication, 6
    induced subgraph, 243
                                      implicit quanti er, 16
    isomorphic (intuitive
                                        implies (logical connective), 6
        de nition), 235
                                          truth condition for, 6
    isomorphism class, 237
                                        inclusion/exclusion, See
  leaf, 243
                                              principle of
  matching, 283, 285
                                              inclusion/exclusion
    maximum degree, 271
                                      inclusive or, 6
    multigraph, 239, 242
                                      induced subgraph, 243
    neighbors, 284, 285
                                      induction, 177, 180
  path, 241, 243
                                          base case, 179, 180
      perfect, 271for strong induction, 186

    Petersen, 266contrasting regular and

    planar, 243strong, 187

      simple, 238incorrect use of, 184

    subgraph, 243inductive case, 179, 180

    trail, 243for strong induction, 186

    tree, 243strong, 185

      vertex, 232inductive case, 179, 180, 186

          vertex coloring, 243, 268inductive hypothesis, 180, 182

    walk, 243strong, 186

  graph (of a function), 40initial condition, 138390 Index


        for a function, 44modus ponens, 205

      injection, 45, 46, 50, 117molecular statement, 4

        counting, 123monochromatic, 273

    integer lattice, 73multigraph, 239, 242

      integers, set of, 26, 27multiplicative principle, 57

  intersection of sets, 27, 31multiset

      inverse image, 48, 50relation to multigraph, 239

        comparison to inverse

            function, 48natural numbers, set of, 27

        of a subset, 50negation, 6

    isomorphicneighbors of vertices, 284, 285

          intuitive de nition, 235non-planar graph, 260
                                              3, 261
    isomorphism class, 237K3;

    iteration, 169, 171K5, 260
                                            Petersen graph, 266

      k-permutation of n elements, 83not (logical connective), 6

    Königsberg, Seven Bridges of,truth condition for, 6

            231, 278NP-complete, 280

  Kn, 239number theory, 307

  knights and knaves, 4, 198

    Kruskal’s algorithm, 254octahedron, 264
                                          one-to-one function,Seeinjection

    lattice path, 73onto function, See surjection

          correspondence with bitoperations on sets, 31

          string, 74or (logical connective), 6

      length of, 73inclusive vs exclusive, 6

    lattice, integer, See integer latticetruth condition for, 6

law of logic, 208

      leaf, 243, 249parent (in a rooted tree), 251

    length of a bit string, 72partial sums, See sequence of

  logical connectives, 5partial sums

    logical equivalence, 201partition, 311

      logically valid, See law of logicPascal’s triangle, 77, 146, 166
                                            patterns in, 89

      magic chocolate bunnies, 195path, 243

    marriage problem, See matchingEuler, 277

    matching, 283Hamilton, 277, 279

    matching condition, 285type of graph, 241

      mathematical induction, Seeperfect graph, 271

              inductionperfect matching, See matching

      maximum degree, 271permutation, 81

      minimum spanning tree, 254of k elements chosen from n,

    mod, 312See k-permutation of n

  modular arithmetic, 313elements                                                          Index391


          vs combination, 84, 123, 128,knights and knaves, 4, 198

        129seven bridges, 231

  Petersen graph, 266Tower of Hanoi, 135

  PIE, See principle ofPythagorean theorem, 7

            inclusion/exclusionPythagorean triple, 319

pigeonhole principle, 219

  planar graph, 243, 258quanti er

      chromatic number of, 269for all, 15

      non-planar graph, 260implicit, 16

      K3;, 261there exists, 15
      3
    K5, 260
                                        racetrack principle, 184
      Petersen graph, 266
                                      Ramsey theory, 273
planar region, See face (planar
                                        range of a function, 39, 50
      graph)
                                        rational numbers, set of, 27
planar representation, 258
                                      real numbers, set of, 27
Platonic solid, See regular
                                      recurrence relation, 138
      polyhedron
                                          for a function, 44
polyhedron, 262
                                          for number of bit strings, 72
  regular, 262
                                          for number of lattice paths,
polynomial  tting, 160
                                            74
power set, 27, 29
                                          generating function, 302
powers of 2, 141
                                          solving, 167, 172, 175
predicate, 15
                                        recursive de nition, 138
premises, 197
                                        reference, self, See self reference
Prim’s algorithm, 254
                                      region (graph), See face (planar
  prime numbers, 187, 214
                                            graph)
  principle of inclusion/exclusion,
                                      regular polyhedron, 262
      64, 111
                                      remainder class, 310
    for 4 or more sets, 113
                                        residue class,Seeremainder class
product notation, 144
                                      rook paths, 70
product principle, See
                                      root (in a tree), 251
          multiplicative principle
                                      rooted tree, 248, 251
proof
                                      rule of four, 40
  by cases, 221

    by contradiction, 218search

      by contrapositive, 216breadth  rst, 253

    by indcution, 177depth  rst, 253

        combinatorial, 89, 95self reference, See reference, self

    proper vertex coloring, 243sentence (compared to

proposition, 198statement), 5

  propositional variable, 5sentential variable, See

puzzlepropositional variable

    chocolate bar, 185sequence, 136392 Index


        as function, 136subgraph, 243

      closed formula for, 138subset, 28, 70

          inductive de nition for, 138counting, 70

          notation for, 136encoding as bit string, 73

          recursive de nition for, 138sum principle, See additive

      sequence of partial sums, 143principle

          for Fibonacci sequence, 145summation notation, 143

          for triangular numbers, 151surjection, 45, 50, 117

set, 24
                                        tautology, 201
      cardinality, 27
                                        telescoping, 168
      complement, 27
                                        tetrahedron, 264
      di erence, 27, 31
                                          there exists (quanti er), 15
      intersection, 27
                                          tour, Euler, See Euler circuit
      notation for, 24
                                        Tower of Hanoi, 135
      of all subsets, See power set
                                        trail, 243
      of integers, 26, 27
                                            Euler, See Euler path
        of natural numbers, 27
                                        transitive sets, 38
      of rational numbers, 27
                                        tree, 243
      of real numbers, 27
                                              number of edges and
      operations, 31
                                                vertices, 250
        product, See Cartesian
                                            rooted, 248, 251
        product
                                            spanning, 253
      relationships between, 28
                                          triangular numbers, 141, 151, 169
    union, 27
                                        truth condition
      Venn diagram, 33
                                            for and, 6
  set builder notation, 25
                                            for if and only if, 6
  Seven Bridges of Königsberg, 231,
                                            for if. . . , then. . . , 6
        278
                                          for not, 6
    sibling (in a rooted tree), 252
                                          for or, 6
  Sigma notation, 143
                                        truth table, 199
  simple graph, 238
                                        truth value, 5, 6
  size of a set
                                        two-line notation, 41, 50
      see cardinality, 27

  spanning tree, 253
                                        unary connective, 5
      minimum, 254
                                        union of sets, 27, 31
  stars and bars, 103
                                          universal quanti er, 15
    chart, 104
                                        universe set, 27, 31
      vs combination, 128

  statement, 4valid, 197

      sticks and stones, See stars andvariable, propositional, 5

          barsVenn diagram, 33

      strong induction, See induction,for counting, 64

          strongintersection, 34                                                          Index393


      set di erence, 34walk, 243, 277

vertex, 232, 242Euler, See Euler path

  vertex coloring, 243, 268weight (bit string), 72

  vertex degree, 239, 242weight of a bit string, 72

      degree sequence, 240word (counting), 58

Vizing’s Theorem, 273394 Index                            Colophon

                  This book was authored in PreTeXt.Mathematics


                                  1

                              11

                            121

                          1331

                        14641
    This gentle introduction to discrete mathematics is written for  rst and second year

  math majors, especially those who intend to teach. The text began as a set of lecture
                      15101051
  notes for the discrete mathematics course at the University of Northern Colorado.
                    1615201561
  This course serves both as an introduction to topics in discrete math and as the

                              172135352171“introduction to proof” course for math majors. The course is usually taught with
  a large amount of student inquiry, and this text is written to help facilitate this.
                18285670562881

              193684126126843691
    Four main topics are covered: counting, sequences, logic, and graph theory. Along

                    1104512021025221012045101the way proofs are introduced, including proofs by contradiction, proofs by induc-
    tion, and combinatorial proofs. The book contains over 470 exercises, including 275
            1115516533046246233016555111
  with solutions and another 100 or so with hints. Exercises range from elementary

            1126622049579292479249522066121to quite challenging.

      11378286715128717161716128771528678131
  While there are many  ne discrete math textbooks available, this text has the fol-
      11491364100120023003343230032002100136491141
lowing advantages:

    11510545513653003500564356435500530031365455105151
  – It is written to be used in an inquiry rich course.
116120560182043688008114401287011440800843681820560120161
  – It is written to be used in a course for future math teachers.

      – It is open source, with low cost print editions and free electronic editions.





        To download the current version, or for information on obtaining the PreTeXt

                            source, visit:

                    http://discrete.openmathbooks.org/.